window.__require=function e(t,o,r){function n(a,c){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};t[a][0].call(p.exports,function(e){return n(t[a][1][e]||e)},p,p.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)n(r[a]);return n}({ActionTip:[function(e,t,o){"use strict";cc._RF.push(t,"69b84NVMnNGI7MqdH+DCctd","ActionTip");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../data/Room"),c=e("../Game"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.score=null,t}return n(t,e),t.prototype.updateTip=function(e){switch(e){case a.Score.nocall:this.sprite.spriteFrame=c.Game.resource.getCacheAsset("tip_nocall"),this.score.string="";break;case a.Score.score_1:this.sprite.spriteFrame=null,this.score.string="1\u5206";break;case a.Score.score_2:this.sprite.spriteFrame=null,this.score.string="2\u5206";break;case a.Score.score_3:this.sprite.spriteFrame=null,this.score.string="3\u5206";break;case a.Score.nocatch:this.sprite.spriteFrame=c.Game.resource.getCacheAsset("tip_nocatch"),this.score.string="";break;case a.Score.catch:this.sprite.spriteFrame=c.Game.resource.getCacheAsset("tip_catch"),this.score.string="";break;case a.Score.nodouble:this.sprite.spriteFrame=c.Game.resource.getCacheAsset("tip_nodouble"),this.score.string="";break;case a.Score.double:this.sprite.spriteFrame=c.Game.resource.getCacheAsset("tip_double"),this.score.string="";break;case a.Score.pass:this.sprite.spriteFrame=c.Game.resource.getCacheAsset("tip_pass"),this.score.string="";break;case a.Score.waitfor_catch:this.sprite.spriteFrame=c.Game.resource.getCacheAsset("tip_waitfor_catch"),this.score.string=""}},i([p(cc.Sprite)],t.prototype,"sprite",void 0),i([p(cc.Label)],t.prototype,"score",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game","../data/Room":"Room"}],AudioCenter:[function(e,t,o){"use strict";cc._RF.push(t,"fe77cRtbHZMHZbi8PAaM4Q/","AudioCenter");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Game"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.playGameMusic=function(){var e=this;a.Game.music&&cc.resources.load("sound/game_music",cc.AudioClip,function(t,o){e.game_music_id=cc.audioEngine.play(o,!0,1)})},t.prototype.stopGameMusic=function(){a.Game.music&&null!=this.game_music_id&&cc.audioEngine.stop(this.game_music_id)},i([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../Game":"Game"}],Canvas_Fit:[function(e,t,o){"use strict";cc._RF.push(t,"b9d31R5GfNNbKDt1KewyzM0","Canvas_Fit");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas").getComponent(cc.Canvas),t=e.designResolution.width/e.designResolution.height;cc.view.getFrameSize().width/cc.view.getFrameSize().height>t?e.fitHeight=!0:e.fitWidth=!0},i([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],"Clock ":[function(e,t,o){"use strict";cc._RF.push(t,"fdbfcMr6qRFSKnaws9LZYlL","Clock ");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_time=null,t.start_time=30,t.curr_time=0,t.interval=0,t}return n(t,e),t.prototype.show=function(e,t,o){var r=this;this.node.active=!0,this.node.parent=e,this.start_time=t,this.reset(),this.interval=setInterval(function(){if(r.curr_time--,r.curr_time<0)return r.stop(),void(null!=o&&o());r.updateTime()},1e3)},t.prototype.stop=function(){clearInterval(this.interval)},t.prototype.reset=function(){this.stop(),this.curr_time=this.start_time,this.updateTime()},t.prototype.updateTime=function(){this.lab_time.string=""+this.curr_time},t.prototype.hide=function(){this.reset(),this.node.active=!1,this.node.parent&&(this.node.parent=null)},i([s(cc.Label)],t.prototype,"lab_time",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ColorAssembler2D:[function(e,t,o){"use strict";cc._RF.push(t,"a926bHQHHZAHYP9WQzjWiF1","ColorAssembler2D");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,p=a.requireComponent,u=(a.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colors=[],t}return n(t,e),Object.defineProperty(t.prototype,"colors",{get:function(){return this._colors},set:function(e){this._colors=e,this._updateColors()},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},t.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},t.prototype._updateColors=function(){var e=this.getComponent(cc.RenderComponent);if(e){var t=e._assembler;if(t instanceof cc.Assembler2D){var o=t._renderData.uintVDatas[0];if(o)for(var r=this.node.color,n=t.floatsPerVert,i=0,a=t.colorOffset,c=o.length;a<c;a+=n)o[a]=(this.colors[i++]||r)._val}}},i([s],t.prototype,"_colors",void 0),i([s({type:[cc.Color]})],t.prototype,"colors",null),i([c,l,p(cc.RenderComponent)],t)}(cc.Component));o.default=u,cc._RF.pop()},{}],Core:[function(e,t,o){"use strict";cc._RF.push(t,"5d0e6SFBPpGsJ0sCsFggMPc","Core"),Object.defineProperty(o,"__esModule",{value:!0}),o.getAIFreeList=o.getAIList=o.paiTool=o.config=o.DDZ_POKER_TYPE=void 0;var r,n=e("./data/PokerData"),i=e("./data/Room");function a(e,t){console.time("find:");var n=o.paiTool.getCardPattern(t);if(n.type==r.KING_BOMB)return[];o.paiTool.sortDescending(e);var i=o.paiTool.getCountPais_1_4(e),a=[];switch(n.type){case r.SINGLE:for(var c=o.config.getCard(t[0]).grade,s=0,l=e.length-1;l>=0;l--)(T=o.config.getCard(e[l]).grade)!=s&&(T>c&&a.push([e[l]]),s=T);for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.TWIN:for(c=o.config.getCard(t[0]).grade,s=0,l=e.length-1;l>=0;l--)s!=(T=o.config.getCard(e[l]).grade)&&T>c&&(e[l-1]&&o.config.getCard(e[l-1]).grade==T&&(a.push([e[l-1],e[l]]),l--),s=T);for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.TRIPLE:for(c=o.config.getCard(t[0]).grade,s=0,l=e.length-1;l>=0;l--)s!=(T=o.config.getCard(e[l]).grade)&&T>c&&(e[l-1]&&e[l-2]&&o.config.getCard(e[l-1]).grade==T&&o.config.getCard(e[l-2]).grade==T&&(a.push([e[l-2],e[l-1],e[l]]),l-=2),s=T);for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.FOUR_BOMB:for(c=o.config.getCard(t[0]).grade,l=0;l<i[4].length;l+=4)o.config.getCard(i[4][l]).grade>c&&a.push(i[4].slice(l,l+4));break;case r.TRIPLE_WITH_SINGLE:if(e.length<4)break;if(4==e.length&&4==i[4].length){a.push(i[4].concat());break}c=o.config.getCard(n.pais[0]).grade;var p=[];for(l=i[3].length-1;l>=0;l-=3)if((d=o.config.getCard(i[3][l]).grade)>c){var u=i[3].slice(l-2,l+1);p.push(u)}for(l=i[4].length-1;l>=0;l-=4)(d=o.config.getCard(i[4][l]).grade)>c&&(u=i[4].slice(l-2,l+1),p.push(u));if(p.length>0)for(l=0;l<p.length;l++)for(var d=o.config.getCard(p[l][0]).grade,h=0,_=e.length-1;_>=0;_--)(E=o.config.getCard(e[_]).grade)!=d&&E!=h&&(h=E,a.push(p[l].concat(e[_])));for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.TRIPLE_WITH_TWIN:if(e.length<4)break;if(e.length>4){for(c=o.config.getCard(n.pais[0]).grade,p=[],l=i[3].length-1;l>=0;l-=3)(d=o.config.getCard(i[3][l]).grade)>c&&(u=i[3].slice(l-2,l+1),p.push(u));for(l=i[4].length-1;l>=0;l-=4)(d=o.config.getCard(i[4][l]).grade)>c&&(u=i[4].slice(l-3,l),p.push(u));if(p.length>0)for(l=0;l<p.length;l++){d=o.config.getCard(p[l][0]).grade;for(var f=i[2].length-1;f>=0;f-=2)a.push(p[l].concat(i[2].slice(f-1,f+1)));for(f=i[3].length-1;f>=0;f-=3)o.config.getCard(i[3][f]).grade!=d&&a.push(p[l].concat(i[3].slice(f-2,f)));for(f=i[4].length-1;f>=0;f-=4)o.config.getCard(i[4][f]).grade!=d&&a.push(p[l].concat(i[4].slice(f-3,f-1)))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.STRAIGHT_SINGLE:if(e.length<4)break;var y=n.pais.length,g=(c=o.config.getCard(n.pais[0]).grade,[]);for(l=0;l<e.length-y;l++)if(!(17==(T=o.config.getCard(e[l]).grade)||16==T||15==T||T<=c||g[T])){g[T]=!0;var m=l+1,v=[e[l]];for(_=0;_<y-1&&!(m>=e.length);)if((k=o.config.getCard(e[m]).grade)!=T){if(T-k>1)break;T=k,v.push(e[m]),m++,_++}else m++;v.length==y&&a.push(v)}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.STRAIGHT_TWIN:if(e.length<4)break;if(e.length>=6){var b=n.pais.length/2,P=(c=o.config.getCard(n.pais[0]).grade,y=n.pais.length,[]);for(l=0;l<e.length-y;){var T=o.config.getCard(e[l]).grade,w=o.config.getCard(e[l+1]).grade;if(17==T||16==T||15==T||T<=c||P[T])l++;else if(T==w){for(P[T]=!0,m=l+2,v=[e[l],e[l+1]],_=0;_<b-1&&!(m>=e.length-1);){var k=o.config.getCard(e[m]).grade,R=o.config.getCard(e[m+1]).grade;if(T!=k){if(T-k>1||k!=R)break;T=k,v.push(e[m],e[m+1]),m+=2,_++}else m++}v.length==y&&a.push(v),l+=2}else l++}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.FOUR_WITH_SINGLE:if(e.length<4)break;if(e.length>5){var G=[];for(l=i[4].length-1;l>=0;l-=4)G.push(i[4].slice(l-3,l+1));if(G.length>0)for(l=0;l<G.length;l++){var O=o.config.getCard(G[l][0]).grade,C=(h=0,[]);for(_=e.length-1;_>=0;_--){var E;(E=o.config.getCard(e[_]).grade)!=O&&E!=h&&(h=E,C.push(e[_]))}if(C.length>0)for(f=0;f<C.length-1;f++)a.push(G[l].concat([C[f],C[f+1]]))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.FOUR_WITH_TWIN:if(e.length<4)break;if(e.length>7){for(G=[],l=i[4].length-1;l>=0;l-=4)G.push(i[4].slice(l-3,l+1));if(G.length>0)for(l=0;l<G.length;l++){O=o.config.getCard(G[l][0]).grade;var S=i[2].concat();for(_=i[3].length-1;_>=0;_-=3)S=S.concat([i[3][_-2],i[3][_-1]]);for(_=i[4].length-1;_>=0;_-=4)o.config.getCard(i[4][_]).grade!=O&&(S=S.concat([i[4][_-3],i[4][_-2],i[4][_-1],i[4][_]]));if(S.length>0)for(f=0;f<S.length-3;f+=2)a.push(G[l].concat([S[f],S[f+1],S[f+2],S[f+3]]))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.PLANE_WITH_SINGLE:if(e.length<4)break;if(e.length>=8){var x=n.pais.length/4,I=[];for(h=void 0,l=e.length-1;l>=2;)(T=o.config.getCard(e[l]).grade)==o.config.getCard(e[l-1]).grade&&T==o.config.getCard(e[l-2]).grade?(h&&T-h==1?I[I.length-1].push(e[l],e[l-1],e[l-2]):I.push([e[l],e[l-1],e[l-2]]),h=T,l-=3):(T!=h&&(h=null),l--);var j=[];for(l=0;l<I.length;l++)if((L=(N=I[l]).length/3)==x&&j.push(N),L>x)for(_=0;_<N.length-x-1;_+=3)j.push(N.slice(_,_+3*x));for(l=0;l<j.length;l++){var A=[];for(_=0;_<j[l].length;_+=3)A.push(o.config.getCard(j[l][_]).grade);for(C=i[1].concat(),_=i[2].length-1;_>=0;_-=2)C.unshift(i[2][_]);for(_=i[3].length-1;_>=0;_-=3){var F=o.config.getCard(i[3][_]).grade;-1==A.indexOf(F)&&C.unshift(i[3][_])}for(_=i[4].length-1;_>=0;_-=4)C.unshift(i[4][_]);for(_=0;_<C.length-x+1;_++)a.push(j[l].concat(C.slice(_,_+x)))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.PLANE_WITH_TWIN:if(e.length<4)break;if(e.length>=10){for(x=n.pais.length/5,I=[],h=void 0,l=e.length-1;l>=2;)(T=o.config.getCard(e[l]).grade)==o.config.getCard(e[l-1]).grade&&T==o.config.getCard(e[l-2]).grade?(h&&T-h==1?I[I.length-1].push(e[l],e[l-1],e[l-2]):I.push([e[l],e[l-1],e[l-2]]),h=T,l-=3):(T!=h&&(h=null),l--);for(j=[],l=0;l<I.length;l++){var N,L;if((L=(N=I[l]).length/3)==x&&j.push(N),L>x)for(_=0;_<N.length-x-1;_+=3)j.push(N.slice(_,_+3*x))}for(l=0;l<j.length;l++){var D=[];for(_=0;_<j[l].length;_+=3)D.push(o.config.getCard(j[l][_]).grade);for(S=[],S=i[2].concat(),_=i[3].length-1;_>=0;_-=3)F=o.config.getCard(i[3][_]).grade,-1==D.indexOf(F)&&S.unshift(i[3][_-2],i[3][_-1]);for(_=i[4].length-1;_>=0;_-=4)F=o.config.getCard(i[4][_]).grade,-1==D.indexOf(F)&&S.unshift(i[4][_-3],i[4][_-2]);for(_=S.length-2*x;_>=0;_-=2)a.push(j[l].concat(S.slice(_,_+2*x)))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1))}return 54==e[0]&&53==e[1]&&a.push([54,53]),console.timeEnd("find:"),cc.log("[\u67e5\u627e\u7b26\u5408\u6761\u4ef6\u7684\u724c\u578b\u5217\u8868:========= start]"),cc.log(a),cc.log("[\u67e5\u627e\u7b26\u5408\u6761\u4ef6\u7684\u724c\u578b\u5217\u8868:========= end]"),a}(function(e){e[e.DDZ_PASS=0]="DDZ_PASS",e[e.SINGLE=1]="SINGLE",e[e.TWIN=2]="TWIN",e[e.TRIPLE=3]="TRIPLE",e[e.TRIPLE_WITH_SINGLE=4]="TRIPLE_WITH_SINGLE",e[e.TRIPLE_WITH_TWIN=5]="TRIPLE_WITH_TWIN",e[e.STRAIGHT_SINGLE=6]="STRAIGHT_SINGLE",e[e.STRAIGHT_TWIN=7]="STRAIGHT_TWIN",e[e.PLANE_PURE=8]="PLANE_PURE",e[e.PLANE_WITH_SINGLE=9]="PLANE_WITH_SINGLE",e[e.PLANE_WITH_TWIN=10]="PLANE_WITH_TWIN",e[e.FOUR_WITH_SINGLE=11]="FOUR_WITH_SINGLE",e[e.FOUR_WITH_TWIN=12]="FOUR_WITH_TWIN",e[e.FOUR_BOMB=13]="FOUR_BOMB",e[e.KING_BOMB=14]="KING_BOMB"})(r=o.DDZ_POKER_TYPE||(o.DDZ_POKER_TYPE={})),o.config={move_dis:30,cards:[],initMap:function(){for(var e=0;e<=54;e++){var t=new n.default(e);o.config.cards[e]=t}},getCard:function(e){return this.cards[e]},getSpriteFrames:function(e){for(var t=[],o=0,r=e;o<r.length;o++){var n=r[o],i=this.getCard(n);t.push(i.spriteFrame)}return t}},o.paiTool={sortAscending:function(e){e.sort(function(e,t){return o.config.getCard(e).sort-o.config.getCard(t).sort})},sortDescending:function(e){e.sort(function(e,t){return o.config.getCard(t).sort-o.config.getCard(e).sort})},checkPush:function(){return i.room.last_pokers.length&&(i.room.ailist=a(i.room.ownPlayer.pokers,i.room.last_pokers)),i.room.ai_index=0,i.room.ailist.length>0},getCountPais_1_4:function(e){for(var t=[null,[],[],[],[]],r=1,n=0;n<e.length;n+=r){for(var i=1,a=o.config.getCard(e[n]),c=[a.card],s=n+1;s<e.length;s++){var l=o.config.getCard(e[s]);if(a.grade!=l.grade)break;i++,c.push(l.card)}if(r=i,i>4)return null;t[i]=t[i].concat(c)}return cc.log("[\u6253\u5370\u6570\u91cf\u5217\u8868========= start]"),cc.log(e),cc.log(t),cc.log("[\u6253\u5370\u6570\u91cf\u5217\u8868========= end]"),t},getCardPattern:function(e){var t={type:r.DDZ_PASS,pais:[]};if(!e||0==e.length)return t;this.sortDescending(e),cc.log("[\u539f\u59cb\u724c\u6392\u5e8f:================= start]"),cc.log("poker:",e),cc.log("poker_grade:",this.paisToGrades(e)),cc.log("[\u539f\u59cb\u724c\u6392\u5e8f:================= end]");var o=this.getCountPais_1_4(e);if(o){switch(e.length){case 1:t={type:r.SINGLE,pais:e};break;case 2:2==o[2].length&&(t={type:r.TWIN,pais:o[2]}),54==o[1][0]&&53==o[1][1]&&(t={type:r.KING_BOMB,pais:o[1]});break;case 3:3==o[3].length&&(t={type:r.TRIPLE,pais:o[3]});break;case 4:4==o[4].length&&(t={type:r.FOUR_BOMB,pais:o[4]}),3==o[3].length&&(t={type:r.TRIPLE_WITH_SINGLE,pais:o[3].concat(o[1])});break;case 5:if(3==o[3].length&&2==o[2].length)t={type:r.TRIPLE_WITH_TWIN,pais:o[3].concat(o[2])};else{var n=this.isStraightSingle(o,e);n&&(t={type:r.STRAIGHT_SINGLE,pais:n})}break;default:var i=this.isStraightSingle(o,e);if(i){t={type:r.STRAIGHT_SINGLE,pais:i};break}if(i=this.isStraightTwin(o,e)){t={type:r.STRAIGHT_TWIN,pais:i};break}if(i=this.isFourWithSingle(o,e)){t={type:r.FOUR_WITH_SINGLE,pais:i};break}if(i=this.isFourWithTwin(o,e)){t={type:r.FOUR_WITH_TWIN,pais:i};break}if(i=this.isPlane(o,e)){t={type:r.PLANE_PURE,pais:i};break}if(i=this.isPlaneWithSingleWing(o,e)){t={type:r.PLANE_WITH_SINGLE,pais:i};break}if(i=this.isPlaneWithDoubleWing(o,e)){t={type:r.PLANE_WITH_TWIN,pais:i};break}}return cc.log("[\u724c\u578b:=====================> start]"),cc.log(r[t.type]),cc.log(t.pais),cc.log(this.paisToGrades(t.pais)),cc.log("[\u724c\u578b:=====================> end]"),t}cc.log("\u6709\u76f8\u540c\u724c\u957f\u5ea6\u8d854!")},isStraightSingle:function(e,t){var r=e[1];return r.length!=t.length||16==o.config.getCard(r[0]).grade||17==o.config.getCard(r[0]).grade||15==o.config.getCard(r[0]).grade?null:o.config.getCard(r[0]).grade-o.config.getCard(r[t.length-1]).grade==t.length-1?t:null},isStraightTwin:function(e,t){return 0==e[2].length||e[2].length!=t.length||15==o.config.getCard(e[2][0]).grade?null:o.config.getCard(e[2][0]).grade-o.config.getCard(e[2][t.length-1]).grade==t.length/2-1?t:null},isPlane:function(e,t){cc.log("[\u98de\u673a\u4e0d\u5e26\u68c0\u6d4b========> start]");var r=e[3];if(0==r.length||15==o.config.getCard(r[0]).grade)return null;if(r.length==t.length&&o.config.getCard(r[0]).grade-o.config.getCard(r[r.length-1]).grade==t.length/3-1){var n=r.concat();return n.reverse(),cc.log(n),cc.log(this.paisToGrades(n)),cc.log("[\u98de\u673a\u4e0d\u5e26\u68c0\u6d4b \u6210\u529f ========> end]"),n}return cc.log("[\u98de\u673a\u4e0d\u5e26\u68c0\u6d4b \u5931\u8d25 ========> end]"),null},isPlaneWithSingleWing:function(e,t){cc.log(" ---- \u98de\u673a\u5e26\u5355\u724c\u7fc5\u8180\u68c0\u6d4b -----"),cc.log("\u5f85\u68c0\u6d4b\u724c\u5e8f\u5217:",t);var r={8:2,12:3,16:4,20:5}[t.length];if(!r)return cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5931\u8d25 , \u957f\u5ea6\u4e0d\u6ee1\u8db3 \u98de\u673a\u5e26\u5355 \u6761\u4ef6"),null;var n=[];if(e[3].length>0)for(var i=0;i<e[3].length;i+=3)15!=(h=o.config.getCard(e[3][i]).grade)&&n.push(h);if(e[4].length>0)for(i=0;i<e[4].length;i+=4)15!=(h=o.config.getCard(e[4][i]).grade)&&n.push(h);if(n.length<r)return cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5931\u8d25,\u4e09\u5f20\u724c\u7684grade\u5217\u8868\u957f\u5ea6\u4e0d\u7b26\u5408",r,n.length),null;n.sort(function(e,t){return t-e}),cc.log("\u4e09\u5f20\u724c\u7684grade\u5217\u8868:: -> ",n);for(var a=-1,c=[],s=!1,l=0,p=n;l<p.length;l++){if(a-(h=p[l])!=1)c=[h];else if(c.push(h),c.length==r){s=!0;break}a=h}if(!s)return cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5931\u8d25,\u6ca1\u6709\u627e\u5230\u7b26\u5408\u957f\u5ea6\u7684\u8fde\u7eed\u724c"),null;cc.log("\u7b26\u5408\u6761\u4ef6\u7684\u8fde\u7eed\u5e8f\u5217\uff1a",c);var u=[],d=t.concat();for(i=0;i<d.length;){var h;(h=o.config.getCard(d[i]).grade)==c[0]?(u.push(d[i],d[i+1],d[i+2]),d.splice(i,3),c.shift()):i++}return cc.log("threePlane-\u98de\u673a :> ",u),cc.log("threeWing- \u7fc5\u8180 :> ",d),cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5b8c\u6bd5 -----"),u.concat(d)},isPlaneWithDoubleWing:function(e,t){cc.log(" ---- \u98de\u673a\u5e26\u53cc\u724c\u7fc5\u8180\u68c0\u6d4b -----"),cc.log("\u5f85\u68c0\u6d4b\u724c\u5e8f\u5217:",t);var r={10:2,15:3,20:4}[t.length];if(!r)return cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25 , \u957f\u5ea6"+t.length+"\u4e0d\u6ee1\u8db3 \u98de\u673a\u5e26\u53cc \u6761\u4ef6"),null;var n=[];if(e[3].length>0)for(var i=0;i<e[3].length;i+=3)15!=(h=o.config.getCard(e[3][i]).grade)&&n.push(h);if(n.length<r)return cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25,\u4e09\u5f20\u724c\u7684grade\u5217\u8868\u957f\u5ea6\u4e0d\u7b26\u5408",r,n.length),null;n.sort(function(e,t){return t-e}),cc.log("\u4e09\u5f20\u724c\u7684grade\u5217\u8868:: -> ",n);for(var a=-1,c=[],s=!1,l=0,p=n;l<p.length;l++){if(a-(h=p[l])!=1)c=[h];else if(c.push(h),c.length==r){s=!0;break}a=h}if(!s)return cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25,\u6ca1\u6709\u627e\u5230\u7b26\u5408\u957f\u5ea6\u7684\u8fde\u7eed\u724c"),null;cc.log("\u7b26\u5408\u6761\u4ef6\u7684\u8fde\u7eed\u5e8f\u5217\uff1a",c);var u=[],d=t.concat();for(i=0;i<d.length;){var h;(h=o.config.getCard(d[i]).grade)==c[0]?(u.push(d[i],d[i+1],d[i+2]),d.splice(i,3),c.shift()):i++}cc.log("threePlane-\u98de\u673a :> ",u),cc.log("threeWing- \u7fc5\u8180 :> ",d);var _=!0;for(i=0;i<d.length;i+=2)if(o.config.getCard(d[i]).grade!=o.config.getCard(d[i+1]).grade){_=!1;break}return _?(cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5b8c\u6bd5 -----"),u.concat(d)):(cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25,\u7fc5\u8180\u4e0d\u662f\u5168\u5bf9\u5b50"),null)},isFourWithSingle:function(e,t){return 6==t.length&&4==e[4].length?e[4].concat(e[1]).concat(e[2]):null},isFourWithTwin:function(e,t){if(8==t.length){if(4==e[4].length&&4==e[2].length)return e[4].concat(e[2]);if(8==e[4].length)return e[4]}return null},paisToGrades:function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];t.push(o.config.getCard(i).grade)}return t},compare:function(e,t){if(e.type==r.DDZ_PASS||t.type==r.DDZ_PASS)return null;if(e.type==t.type&&e.pais.length==t.pais.length){var n=o.config.getCard(e.pais[0]).grade,i=o.config.getCard(t.pais[0]).grade;return n==i?null:n>i?e:t}return e.type==r.KING_BOMB?e:t.type==r.KING_BOMB?t:e.type==r.FOUR_BOMB?e:t.type==r.FOUR_BOMB?t:null}},o.getAIList=a,o.getAIFreeList=function(e){o.paiTool.sortDescending(e);for(var t=o.paiTool.getCountPais_1_4(e),n=[r.STRAIGHT_TWIN,r.STRAIGHT_SINGLE,r.TRIPLE_WITH_SINGLE,r.TRIPLE_WITH_TWIN,r.TWIN,r.KING_BOMB,r.SINGLE],i=null,a=0;a<n.length;a++){var c=void 0,s=[];switch(n[a]){case r.STRAIGHT_TWIN:if(cc.log("find STRAIGHT_TWIN ...."),e.length<6)break;c=-1;for(var l=0;l<e.length-5;l++){var p=o.config.getCard(e[l]).grade,u=o.config.getCard(e[l+1]).grade;if(16!=p&&17!=p&&15!=p&&p==u&&p!=c){c=p;for(var d=l+2,h=p,_=[e[l],e[l+1]];d<e.length-1;){var f=o.config.getCard(e[d]).grade;if(f!=h){var y=o.config.getCard(e[d+1]).grade;if(f+1!=h||f!=y)break;h=f,_.push(e[d],e[d+1]),d+=2}else d++}_.length>=6&&(cc.log("\u5165\u5217:",_),s.push(_))}}break;case r.STRAIGHT_SINGLE:if(cc.log("find STRAIGHT_SINGLE ...."),e.length<5)break;for(c=-1,l=0;l<e.length-4;l++)if(16!=(v=o.config.getCard(e[l]).grade)&&17!=v&&15!=v&&c!=v){for(c=v,d=l+1,_=[e[l]],h=v;d<e.length;)if(h!=(p=o.config.getCard(e[d]).grade)){if(p+1!=h)break;_.push(e[d]),h=p,d++}else d++;_.length>=5&&(cc.log("\u5165\u5217:",_),s.push(_))}break;case r.TRIPLE_WITH_SINGLE:if(cc.log("find TRIPLE_WITH_SINGLE ...."),e.length<4)break;if(t[3].length){var g=t[3].slice(-3);if(t[1].length){var m=t[1][t[1].length-1];(4==e.length||5==e.length||o.config.getCard(g[0]).grade<14&&o.config.getCard(m).grade<14)&&(g.push(m),cc.log("\u5165\u5217:",g),s.push(g))}}break;case r.TRIPLE_WITH_TWIN:if(cc.log("find TRIPLE_WITH_TWIN ...."),e.length<5)break;t[3].length&&(g=t[3].slice(-3),t[2].length&&(m=t[2].slice(-2),(5==e.length||6==e.length||o.config.getCard(g[0]).grade<14&&o.config.getCard(m[0]).grade<14)&&(g=g.concat(m),cc.log("\u5165\u5217:",g),s.push(g))));break;case r.TWIN:if(cc.log("find TWIN ...."),e.length<2)break;for(c=-1,l=0;l<e.length-1;l++){var v;16!=(v=o.config.getCard(e[l]).grade)&&17!=v&&v!=c&&(c=v,p=o.config.getCard(e[l+1]).grade,_=[e[l]],v==p&&(_.push(e[l+1]),cc.log("\u5165\u5217:",_),s.push(_)))}break;case r.KING_BOMB:cc.log("find KING_BOMB ...."),(2==e.length||3==e.length)&&(p=o.config.getCard(e[0]).grade,u=o.config.getCard(e[1]).grade,17==p&&16==u&&(cc.log("\u5165\u5217:",[e[0],e[1]]),s.push([e[0],e[1]])));break;case r.SINGLE:cc.log("find STRAIGHT_SINGLE ...."),cc.log("\u5165\u5217:",e[e.length-1]),s.push([e[e.length-1]])}s.length&&!i&&(i=s[s.length-1])}return cc.log("-----------\u67e5\u627e\u4f18\u5148\u51fa\u724c\u7ed3\u675f-------------"),i},cc._RF.pop()},{"./data/PokerData":"PokerData","./data/Room":"Room"}],CountDown:[function(e,t,o){"use strict";cc._RF.push(t,"af6ecO/o3ROf73G1cT5KRey","CountDown");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"label_time",{get:function(){return this._label_time||(this._label_time=this.node.getComponent(cc.Label))},enumerable:!1,configurable:!0}),t.prototype.play=function(e){var t=this;this.stop(),this.curr_time=e,this.refresh(),this.time_interval=setInterval(function(){t.curr_time--,t.curr_time<0?t.stop():t.refresh()},1e3)},t.prototype.stop=function(){clearInterval(this.time_interval)},t.prototype.refresh=function(){this.label_time.string="00:"+(this.curr_time<10?"0"+this.curr_time:this.curr_time)},t.prototype.clear=function(){this.stop(),this.label_time.string=""},i([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],DipaiShower:[function(e,t,o){"use strict";cc._RF.push(t,"2442c4y5cxBBJyWpkOQFNf2","DipaiShower");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./PokerPlus"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.poker_1=null,t.poker_2=null,t.poker_3=null,t}return n(t,e),t.prototype.updatePais=function(e){this.poker_1.face(e[0]),this.poker_2.face(e[1]),this.poker_3.face(e[2])},t.prototype.reset=function(){this.poker_1.face(0),this.poker_2.face(0),this.poker_3.face(0)},t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.reset(),this.node.active=!1},i([l(a.default)],t.prototype,"poker_1",void 0),i([l(a.default)],t.prototype,"poker_2",void 0),i([l(a.default)],t.prototype,"poker_3",void 0),i([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./PokerPlus":"PokerPlus"}],DrawRoundRectBG:[function(e,t,o){"use strict";cc._RF.push(t,"a3ee4qBaE9MQJvo7FSQRfTb","DrawRoundRectBG");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.g=null,t}return n(t,e),t.prototype.start=function(){this.g.roundRect(0,-20,120,40,10),this.g.fill()},i([s(cc.Graphics)],t.prototype,"g",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],EffectCenter:[function(e,t,o){"use strict";cc._RF.push(t,"856d3NzXVhDVK9FAFj3gJlV","EffectCenter"),Object.defineProperty(o,"__esModule",{value:!0});var r=e("../Core"),n=e("../Game"),i=e("../Pool"),a=function(){function e(){}return e.prototype.playPokerTypeEffect=function(e,t,o){var a=this,c=r.DDZ_POKER_TYPE[e],s=n.Game.resource.getCacheAsset(c);if(c&&s){var l=i.pools.poker_type_effect_get();l.getComponent(cc.Sprite).spriteFrame=s,e==r.DDZ_POKER_TYPE.KING_BOMB?l.parent=o:(l.parent=t.node,l.y=t.getPokerTypeEffectPos(l)),cc.tween(l).to(0,{scale:2}).to(.3,{scale:1},{easing:"backOut"}).delay(1.5).to(.5,{opacity:0}).call(function(){a.clearPlayEffect(l)}).start()}},e.prototype.clearPlayEffect=function(e){e.x=e.y=0,e.scale=1,e.opacity=255,cc.Tween.stopAllByTarget(e),i.pools.poker_type_effect_put(e)},e}();o.default=a,cc._RF.pop()},{"../Core":"Core","../Game":"Game","../Pool":"Pool"}],EventType:[function(e,t,o){"use strict";cc._RF.push(t,"498296ArdlL9p2/KvpsC1DK","EventType");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EventType=void 0;var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){}return e.socket_connect_success="socket_connect_success",e.socket_connect_close="socket_connect_close",e.ping="ping",e.test="test",e.back_hall="back_hall",e.init_player="init_player",e.enter_game="enter_game",e.ready_game="ready_game",e.get_room_data="get_room_data",e.start_game="start_game",e.grab_landlord="grab_landlord",e.grab_landlord_notice="grab_landlord_notice",e.double_time="double_time",e.refresh_cards_count="refresh_cards_count",e.get_bottom_cards="get_bottom_cards",e.get_hand_cards="get_hand_cards",e.no_card="no_card",e.player_action="player_action",e.play_the_card="play_the_card",e.game_over="game_over",e.check_page="check_page",e.deposit_page="deposit_page",e.deposit_coin="deposit_coin",e.bean_coin="bean_coin",e.check_in="check_in",e.get_cards="get_cards",e.user_out="user_out",e.notice="notice",e.deal_cards="deal_cards",e.deposit_select="deposit_select",e.set_landlord="set_landlord",e.again_round="again_round",e.return_hall="return_hall",e.notice_1000="notice_1000",r([i],e)}());o.EventType=a,cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"2de4doU67ZDdZrDc2hE+g0F","Game");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Game=o.GameScene=void 0;var n,i=e("./center/AudioCenter"),a=e("./center/EffectCenter"),c=e("./center/Message"),s=e("./center/NotifyCenter"),l=e("./center/ResourceCenter"),p=e("./center/SocketCenter"),u=e("./Simulator");(function(e){e[e.hall=0]="hall",e[e.zone=1]="zone"})(n=o.GameScene||(o.GameScene={}));var d=cc._decorator,h=d.ccclass,_=(d.property,function(){function e(){}var t;return t=e,e.force={alpha:"ws://192.168.31.220:8765",beta:"ws://152.136.224.190:8765",release:"ws://49.233.52.132/game/doudizhu/"},e.server=t.force.release,e.simulator=new u.default,e.socket=new p.default,e.notify=new s.default,e.resource=new l.default,e.message=new c.default,e.effect=new a.default,e.audio=new i.default,e.gameScene=n.hall,e.music=!1,e.simulate=!0,r([h],e)}());o.Game=_,cc._RF.pop()},{"./Simulator":"Simulator","./center/AudioCenter":"AudioCenter","./center/EffectCenter":"EffectCenter","./center/Message":"Message","./center/NotifyCenter":"NotifyCenter","./center/ResourceCenter":"ResourceCenter","./center/SocketCenter":"SocketCenter"}],Head:[function(e,t,o){"use strict";cc._RF.push(t,"6181eWSUv9JKLt4j6FH8ZET","Head");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Game"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.frame=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.updateFrame=function(e){this.frame.spriteFrame=e},t.prototype.updateIcon=function(e){this.icon.node.active=!0,this.icon.spriteFrame=a.Game.resource.getCacheAsset("yin_"+e.level)},t.prototype.null=function(){this.icon.node.active=!1,this.avatar_texture2D&&cc.assetManager.releaseAsset(this.avatar_texture2D),this.avatar_texture2D=null,this.icon.spriteFrame=null},i([l(cc.Sprite)],t.prototype,"icon",void 0),i([l(cc.Sprite)],t.prototype,"frame",void 0),i([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../Game":"Game"}],Interface:[function(e,t,o){"use strict";cc._RF.push(t,"38176y3xnFLFrDA//LlrbRD","Interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],LimitClick:[function(e,t,o){"use strict";cc._RF.push(t,"7c27d9B5bdJW7ZuRqigFRsp","LimitClick");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=1e3,t.limiting=!1,t}return n(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touch,this,!0)},t.prototype.touch=function(e){var t=this;this.limiting?e.stopPropagationImmediate():(this.limiting=!0,this.interval=setTimeout(function(){t.limiting=!1},this.time))},i([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],Matching:[function(e,t,o){"use strict";cc._RF.push(t,"b91b7eBWeRBMJyqn1x34+zP","Matching");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../plugin/CountDown"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cd_time=null,t.lab_des=null,t}return n(t,e),t.prototype.show=function(){this.node.active=!0,this.lab_des.string="\u6e38\u620f\u5339\u914d\u4e2d,\u8bf7\u7a0d\u540e...",this.play()},t.prototype.play=function(){this.cd_time.play(30)},t.prototype.clear=function(){this.node.active=!1,this.cd_time.clear()},i([l(a.default)],t.prototype,"cd_time",void 0),i([l(cc.Label)],t.prototype,"lab_des",void 0),i([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../plugin/CountDown":"CountDown"}],Menu:[function(e,t,o){"use strict";cc._RF.push(t,"8f874VyeddCxZvrAoYIpD6X","Menu");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../data/Room"),c=e("../Game"),s=e("../Core"),l=e("../View"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nocall=null,t.score1=null,t.score2=null,t.score3=null,t.nocatch=null,t.catch=null,t.nodouble=null,t.double=null,t.buchu=null,t.tishi=null,t.chupai=null,t}return n(t,e),t.prototype.onLoad=function(){this.nocall.on(cc.Node.EventType.TOUCH_START,this.click,this),this.score1.on(cc.Node.EventType.TOUCH_START,this.click,this),this.score2.on(cc.Node.EventType.TOUCH_START,this.click,this),this.score3.on(cc.Node.EventType.TOUCH_START,this.click,this),this.nocatch.on(cc.Node.EventType.TOUCH_START,this.click,this),this.catch.on(cc.Node.EventType.TOUCH_START,this.click,this),this.nodouble.on(cc.Node.EventType.TOUCH_START,this.click,this),this.double.on(cc.Node.EventType.TOUCH_START,this.click,this),this.buchu.on(cc.Node.EventType.TOUCH_START,this.click,this),this.tishi.on(cc.Node.EventType.TOUCH_START,this.click,this),this.chupai.on(cc.Node.EventType.TOUCH_START,this.click,this)},t.prototype.updateStyle=function(e,t){switch(void 0===t&&(t=0),this.clear(),this.node.active=!0,e){case a.MenuStyle.NULL:this.node.active=!1;break;case a.MenuStyle.SELECT_SCORE:-1!=t&&-2!=t&&3!=t||(this.nocatch.parent=this.node,this.catch.parent=this.node),0==t&&(this.nocall.parent=this.node,this.score1.parent=this.node,this.score2.parent=this.node,this.score3.parent=this.node),1==t&&(this.nocall.parent=this.node,this.score2.parent=this.node,this.score3.parent=this.node),2==t&&(this.nocall.parent=this.node,this.score3.parent=this.node);break;case a.MenuStyle.NODOUBLE_DOUBLE:this.nodouble.parent=this.node,this.double.parent=this.node;break;case a.MenuStyle.CHUPAI:this.chupai.parent=this.node;break;case a.MenuStyle.BUCHU_TISHI_CHUPAI:this.buchu.parent=this.node,this.tishi.parent=this.node,this.chupai.parent=this.node}},t.prototype.do_nocall=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id};e.score=+a.Score.nocall,c.Game.notify.request.grab_landlord(e)},t.prototype.do_score1=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id};e.score=+a.Score.score_1,c.Game.notify.request.grab_landlord(e)},t.prototype.do_score2=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id};e.score=+a.Score.score_2,c.Game.notify.request.grab_landlord(e)},t.prototype.do_score3=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id};e.score=+a.Score.score_3,c.Game.notify.request.grab_landlord(e)},t.prototype.do_nocatch=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id};e.score=+a.Score.nocatch,c.Game.notify.request.grab_landlord(e)},t.prototype.do_catch=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id};e.score=+a.Score.catch,c.Game.notify.request.grab_landlord(e)},t.prototype.do_nodouble=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id,double:!1};c.Game.notify.request.double_time(e)},t.prototype.do_double=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id,double:!0};c.Game.notify.request.double_time(e)},t.prototype.do_buchu=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id,is_out:!1};c.Game.notify.request.play_the_card(e),l.default.scene_zone.own_handCon.pokerMoveUp(null)},t.prototype.do_tishi=function(){if(a.room.ailist.length){var e=a.room.ailist[a.room.ai_index++];a.room.ai_index=a.room.ai_index%a.room.ailist.length,l.default.scene_zone.own_handCon.pokerMoveUp(e)}else l.default.scene_zone.own_handCon.pokerMoveUp(null),l.default.tooltip.show("\u8981\u4e0d\u8d77")},t.prototype.do_chupai=function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id},t=l.default.scene_zone.own_handCon.getAllPlayPokers();if(0!=t.length){var o=s.paiTool.getCardPattern(t);if(o.type==s.DDZ_POKER_TYPE.DDZ_PASS)return cc.log("\u724c\u578b\u4e0d\u5408\u6cd5 ========= start"),cc.log("poker:",t),cc.log("poker_grade:",s.paiTool.paisToGrades(t)),cc.log("\u724c\u578b\u4e0d\u5408\u6cd5 ========= end"),void l.default.tooltip.show("\u65e0\u6548\u7684\u51fa\u724c");if(a.room.last_pokers.length){var r=s.paiTool.getCardPattern(a.room.last_pokers);if(s.paiTool.compare(r,o)!==o)return void l.default.tooltip.show("\u8bf7\u9009\u62e9\u5408\u7406\u7684\u724c\u578b")}e.pokers=t,e.cards_type=o.type,e.is_out=!0,c.Game.notify.request.play_the_card(e)}else l.default.tooltip.show("\u6ca1\u6709\u9009\u62e9\u724c")},t.prototype.click=function(e){if(a.room.game_state!=a.GameState.USER_OUT)switch(e.currentTarget){case this.nocall:this.do_nocall();break;case this.score1:this.do_score1();break;case this.score2:this.do_score2();break;case this.score3:this.do_score3();break;case this.nocatch:this.do_nocatch();break;case this.catch:this.do_catch();break;case this.nodouble:this.do_nodouble();break;case this.double:this.do_double();break;case this.buchu:this.do_buchu();break;case this.tishi:this.do_tishi();break;case this.chupai:this.do_chupai()}},t.prototype.clear=function(){this.node.removeAllChildren(!1)},i([d(cc.Node)],t.prototype,"nocall",void 0),i([d(cc.Node)],t.prototype,"score1",void 0),i([d(cc.Node)],t.prototype,"score2",void 0),i([d(cc.Node)],t.prototype,"score3",void 0),i([d(cc.Node)],t.prototype,"nocatch",void 0),i([d(cc.Node)],t.prototype,"catch",void 0),i([d(cc.Node)],t.prototype,"nodouble",void 0),i([d(cc.Node)],t.prototype,"double",void 0),i([d(cc.Node)],t.prototype,"buchu",void 0),i([d(cc.Node)],t.prototype,"tishi",void 0),i([d(cc.Node)],t.prototype,"chupai",void 0),i([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../Core":"Core","../Game":"Game","../View":"View","../data/Room":"Room"}],Message:[function(e,t,o){"use strict";cc._RF.push(t,"731e6Sz6MJADqMnHGEmlGop","Message");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){this.map={}}return e.prototype.on=function(e,t){this.map[e]||(this.map[e]=[]),this.map[e].push(t)},e.prototype.emit=function(e,t){if(void 0===t&&(t=null),this.map[e])for(var o=0,r=this.map[e];o<r.length;o++)r[o].call(null,t)},e.prototype.delete=function(e){this.map[e]&&delete this.map[e]},r([i],e)}());o.default=a,cc._RF.pop()},{}],NotifyCenter:[function(e,t,o){"use strict";cc._RF.push(t,"d6693+149lHy6RfFTFZkQDb","NotifyCenter");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../data/Room"),i=e("../event/EventType"),a=e("../Game"),c=e("../Core"),s=e("../View"),l=cc._decorator,p=l.ccclass,u=(l.property,function(){function e(){this.request={ready_game:function(e){e.uid=n.room.ownPlayer.uid,a.Game.socket.emit(i.EventType.ready_game,e)},enter_game:function(e){e.uid=n.room.ownPlayer.uid,a.Game.socket.emit(i.EventType.enter_game,e)},init_player:function(e){a.Game.socket.emit(i.EventType.init_player,e)},get_cards:function(e){e.uid=n.room.ownPlayer.uid,a.Game.socket.emit(i.EventType.get_cards,e)},grab_landlord:function(e){e.uid=n.room.ownPlayer.uid,a.Game.socket.emit(i.EventType.grab_landlord,e)},refresh_cards_count:function(e){e.uid=n.room.ownPlayer.uid,a.Game.socket.emit(i.EventType.refresh_cards_count,e)},double_time:function(e){e.uid=n.room.ownPlayer.uid,a.Game.socket.emit(i.EventType.double_time,e)},play_the_card:function(e){e.uid=n.room.ownPlayer.uid,a.Game.socket.emit(i.EventType.play_the_card,e)},check_page:function(){a.Game.socket.emit(i.EventType.check_page,{uid:n.room.ownPlayer.uid})},check_in:function(){a.Game.socket.emit(i.EventType.check_in,{uid:n.room.ownPlayer.uid})},deposit_page:function(){a.Game.socket.emit(i.EventType.deposit_page,{uid:n.room.ownPlayer.uid,sid:a.Game.ownerInfo.sid})},deposit_coin:function(e){e.uid=n.room.ownPlayer.uid,e.sid=a.Game.ownerInfo.sid,a.Game.socket.emit(i.EventType.deposit_coin,e)},back_hall:function(){a.Game.socket.emit(i.EventType.back_hall,{uid:n.room.ownPlayer.uid})},ping:function(){a.Game.socket.emit(i.EventType.ping)}}}return e.prototype.response=function(e){var t=e.data;switch(e.cat){case i.EventType.test:a.Game.message.emit(i.EventType.test,t);break;case i.EventType.init_player:n.hall.online_people=t.online,t.bottom>=0&&(n.hall.bottom=t.bottom),t.user?n.room.ownPlayer.update(t.user):n.room.ownPlayer.uid=n.room.ownPlayer.nick=n.hall.user,a.Game.message.emit(i.EventType.init_player);break;case i.EventType.bean_coin:n.room.ownPlayer.bean_coin=t.bean_coin,a.Game.message.emit(i.EventType.bean_coin);break;case i.EventType.enter_game:var o=t.players;n.room.id=t.room_id;for(var r=0;r<o.length;r++)o[r].uid==n.room.ownPlayer.uid&&(n.room.ownPlayer.index=r);o.length=3,n.room.rightPlayer.index=(n.room.ownPlayer.index+1)%3,n.room.rightPlayer.update(o[n.room.rightPlayer.index]),n.room.leftPlayer.index=(n.room.ownPlayer.index+2)%3,n.room.leftPlayer.update(o[n.room.leftPlayer.index]),n.room.ownPlayer.update(o[n.room.ownPlayer.index]),a.Game.message.emit(i.EventType.enter_game);break;case i.EventType.start_game:n.room.game_state=n.GameState.SHUFFLE,c.config.initMap(),a.Game.message.emit(i.EventType.start_game,t),a.Game.notify.request.get_cards({room_id:n.room.id,player_index:n.room.ownPlayer.index});break;case i.EventType.double_time:a.Game.message.emit(i.EventType.double_time,t);break;case i.EventType.get_hand_cards:c.paiTool.sortDescending(t.cards),n.room.ownPlayer.pokers=t.cards,a.Game.message.emit(i.EventType.get_hand_cards),n.room.game_state==n.GameState.SHUFFLE&&(n.room.game_state=n.GameState.SELECT_SCORE);break;case i.EventType.grab_landlord:a.Game.message.emit(i.EventType.grab_landlord,t);break;case i.EventType.grab_landlord_notice:a.Game.message.emit(i.EventType.grab_landlord_notice,t);break;case i.EventType.get_bottom_cards:a.Game.message.emit(i.EventType.get_bottom_cards,t);break;case i.EventType.refresh_cards_count:a.Game.message.emit(i.EventType.refresh_cards_count,t);break;case i.EventType.player_action:t.is_first&&(n.room.last_pokers=[]),a.Game.message.emit(i.EventType.player_action,t);break;case i.EventType.play_the_card:t.is_out&&(n.room.last_pokers=t.pokers),a.Game.message.emit(i.EventType.play_the_card,t);break;case i.EventType.no_card:a.Game.message.emit(i.EventType.no_card,t);break;case i.EventType.game_over:a.Game.message.emit(i.EventType.game_over,t);break;case i.EventType.check_page:a.Game.sign_data=t,a.Game.message.emit(i.EventType.check_page);break;case i.EventType.deposit_page:a.Game.recharge_data=t,a.Game.message.emit(i.EventType.deposit_page);break;case i.EventType.deposit_coin:n.room.ownPlayer.bean_coin=t.bean_coin,a.Game.message.emit(i.EventType.deposit_coin);break;case i.EventType.back_hall:n.room.ownPlayer.bean_coin=t.bean_coin,n.room.ownPlayer.nick=t.nick,n.room.ownPlayer.uid=t.uid,n.hall.online_people=t.online,a.Game.message.emit(i.EventType.back_hall);break;case i.EventType.notice:t.message&&t.message.zh&&s.default.tooltip.show(t.message.zh),this.notice(t.code);break;case i.EventType.user_out:a.Game.message.emit(i.EventType.user_out,t);break;case i.EventType.deal_cards:a.Game.notify.request.get_cards({room_id:n.room.id,player_index:n.room.ownPlayer.index}),a.Game.message.emit(i.EventType.deal_cards)}},e.prototype.notice=function(e){switch(e){case 1e3:a.Game.message.emit(i.EventType.notice_1000)}},r([p],e)}());o.default=u,cc._RF.pop()},{"../Core":"Core","../Game":"Game","../View":"View","../data/Room":"Room","../event/EventType":"EventType"}],OwnHandContainer:[function(e,t,o){"use strict";cc._RF.push(t,"047bfwB84RH4IEvCGB+lThC","OwnHandContainer");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../data/Room"),c=e("../Pool"),s=e("./PokerPlus"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layout={width:140,height:180,spaceX:60,spaceY:100,yCount:10},t.prefab_poker=null,t.select_pokers_temp=[],t.positions=[],t.shuffle_index=-1,t.shuffle_timepass=0,t}return n(t,e),t.prototype.onLoad=function(){this.node.removeAllChildren(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},t.prototype.updateHandPai=function(e,t){void 0===t&&(t=!1),this.clear(),e.length>this.layout.yCount?(this.setTwinPosition(e.length),this.twinRom(e,t)):(this.setSinglePosition(e.length),this.singleRow(e))},t.prototype.setSinglePosition=function(e){this.positions=[];for(var t=(e-1)*this.layout.spaceX+this.layout.width,o=(this.layout.width-t)/2,r=0;r<e;r++)this.positions[r]={x:o+r*this.layout.spaceX,y:0}},t.prototype.setTwinPosition=function(e){for(var t=Math.ceil(e/2),o=(t-1)*this.layout.spaceX+this.layout.width,r=(this.layout.width-o)/2,n=(e-t-1)*this.layout.spaceX+this.layout.width,i=(this.layout.width-n)/2,a=0;a<e;a++)this.positions[a]=a<t?{x:r+a*this.layout.spaceX,y:this.layout.spaceY/2}:{x:i+(a-t)*this.layout.spaceX,y:-this.layout.spaceY/2}},t.prototype.getPostion=function(e){return this.positions[e]},t.prototype.update=function(e){this.shuffle_index>-1&&(this.shuffle_timepass+=e,this.shuffle_timepass>.04&&(this.shuffle_timepass=0,this.pokers[this.shuffle_index++].node.parent=this.node,this.shuffle_index==this.pokers.length&&this.stopShuffle()))},t.prototype.singleRow=function(e){var t;cc.log("\u5355\u6392 ---- ");for(var o=0;o<e.length;o++){var r=e[o],n=this.getPostion(o);(t=c.pools.poker_big_get(this.prefab_poker).getComponent(s.default)).node.x=n.x,t.node.y=n.y,t.node.parent=this.node,t.face(r),t.index=o,this.pokers.push(t)}this.flagSet(t)},t.prototype.twinRom=function(e,t){var o;void 0===t&&(t=!1),cc.log("\u53cc\u6392 ---- ");for(var r=0;r<e.length;r++){var n=this.getPostion(r),i=e[r];(o=c.pools.poker_big_get(this.prefab_poker).getComponent(s.default)).node.x=n.x,o.node.y=n.y,t||(o.node.parent=this.node),o.face(i),o.index=r,this.pokers.push(o)}this.flagSet(o),t&&this.startShuffle()},t.prototype.flagSet=function(e){e&&e.flagSet(a.room.isLandlord())},t.prototype.onTouchStart=function(e){var t=e.target;if("icon"==t.name){var o=t.parent.getComponent(s.default);o.select(),this.select_startIndex=o.index,this.select_pokers_temp=[o]}},t.prototype.onTouchEnd=function(){this.clearSelectPokers(),this.pokersSelectMove()},t.prototype.onTouchMove=function(e){for(var t=this.node.convertToNodeSpaceAR(e.touch.getLocation()),o=-1,r=this.pokers.length-1;r>=0;r--){var n=this.pokers[r].bg,i=n.node.getBoundingBox();if(i.x+=n.node.parent.x,i.y+=n.node.parent.y,i.contains(t)){o=r;break}}o>-1&&(this.select_startIndex<o?this.selectPokers(this.select_startIndex,o):this.selectPokers(o,this.select_startIndex))},t.prototype.selectPokers=function(e,t){this.select_pokers_temp=[];for(var o=0;o<this.pokers.length;o++){var r=this.pokers[o];o<e||o>t?r.unselect():(r.select(),this.select_pokers_temp.push(r))}},t.prototype.pokersSelectMove=function(){for(var e=0;e<this.select_pokers_temp.length;e++)this.select_pokers_temp[e].move();this.select_pokers_temp=[]},t.prototype.clearSelectPokers=function(){for(var e=0;e<this.pokers.length;e++)this.pokers[e].unselect()},t.prototype.getAllPlayPokers=function(){for(var e=[],t=0;t<this.pokers.length;t++){var o=this.pokers[t];o.isMoveUp&&e.push(o.poker_data.card)}return e},t.prototype.pokerMoveUp=function(e){for(var t=0;t<this.pokers.length;t++){var o=this.pokers[t];o.moveBack(),e&&~e.indexOf(o.poker_data.card)&&o.moveUp()}},t.prototype.clear=function(){for(var e=this.node.childrenCount-1;e>=0;e--)c.pools.poker_big_put(this.node.children[e]);this.select_pokers_temp=[],this.pokers=[],this.stopShuffle()},t.prototype.startShuffle=function(){this.shuffle_index=0,this.shuffle_timepass=0},t.prototype.stopShuffle=function(){this.shuffle_index=-1,this.shuffle_timepass=0},i([u(cc.Prefab)],t.prototype,"prefab_poker",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Pool":"Pool","../data/Room":"Room","./PokerPlus":"PokerPlus"}],PlayerShower:[function(e,t,o){"use strict";cc._RF.push(t,"87784IccVdCnK3drc34k0Bv","PlayerShower");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerDirType=void 0;var a,c=e("../data/Room"),s=e("../Game"),l=e("../Utils"),p=e("./ActionTip"),u=e("./Head"),d=e("./PokerShower"),h=cc._decorator,_=h.ccclass,f=h.property;(function(e){e[e.LEfT=0]="LEfT",e[e.RIGHT=1]="RIGHT",e[e.OWNER=2]="OWNER"})(a=o.PlayerDirType||(o.PlayerDirType={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.action_tip=null,t.lab_name=null,t.lab_coin=null,t.player_info=null,t.identity=null,t.cards_count=null,t.lab_count=null,t.head=null,t.poker_shower=null,t.left_count_tip=null,t.isPlayLeftCount=!1,t.type=a.OWNER,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.updateTip=function(e){this.action_tip.node.active=!0,this.action_tip.updateTip(e)},t.prototype.clearTip=function(){this.action_tip.node.active=!1},t.prototype.updatePlayer=function(e){null!=e.uid&&(this.player_info.active=!0,this.lab_name.string=l.default.formatStrLength(e.nick),this.lab_coin.string=l.default.formatLongNumber(e.bean_coin),this.head.updateIcon(e))},t.prototype.updateIdentity=function(e){this.identity.node.active=!0,this.identity.spriteFrame=s.Game.resource.getCacheAsset(e==c.Identity.landlord?"name2":"name1"),this.head.updateFrame(s.Game.resource.getCacheAsset(e==c.Identity.landlord?"frame2":"frame1"))},t.prototype.updateCardCount=function(e){this.cards_count.active=!0,this.lab_count.string=""+e,!this.isPlayLeftCount&&e>0&&e<=3&&(this.isPlayLeftCount=!0,this.playLeftCountTip(e))},t.prototype.updatePokers=function(e){this.poker_shower.updateShow(e)},t.prototype.playLeftCountTip=function(e){var t=this;this.left_count_tip&&(this.stopLeftCountTip(),this.left_count_tip.spriteFrame=s.Game.resource.getCacheAsset("effect_leftcount_"+e),this.type==a.LEfT&&cc.tween(this.left_count_tip.node).to(.3,{x:140},{easing:"backOut"}).delay(1).to(.3,{opacity:0}).call(function(){cc.Tween.stopAllByTarget(t.left_count_tip.node)}).start(),this.type==a.RIGHT&&cc.tween(this.left_count_tip.node).to(.3,{x:-140},{easing:"backOut"}).delay(1).to(.3,{opacity:0}).call(function(){cc.Tween.stopAllByTarget(t.left_count_tip.node)}).start())},t.prototype.stopLeftCountTip=function(){this.left_count_tip&&(cc.Tween.stopAllByTarget(this.left_count_tip.node),this.left_count_tip.node.opacity=255,this.type==a.LEfT&&(this.left_count_tip.node.x=-140),this.type==a.RIGHT&&(this.left_count_tip.node.x=140))},t.prototype.clearPokers=function(){this.poker_shower.clear()},t.prototype.clear=function(){this.player_info.active=!1,this.head.null(),this.reset()},t.prototype.reset=function(){this.identity.node.active=!1,this.cards_count.active=!1,this.head.updateFrame(s.Game.resource.getCacheAsset("frame1")),this.clearPokers(),this.clearTip(),this.stopLeftCountTip(),this.isPlayLeftCount=!1},i([f(p.default)],t.prototype,"action_tip",void 0),i([f(cc.Label)],t.prototype,"lab_name",void 0),i([f(cc.Label)],t.prototype,"lab_coin",void 0),i([f(cc.Node)],t.prototype,"player_info",void 0),i([f(cc.Sprite)],t.prototype,"identity",void 0),i([f(cc.Node)],t.prototype,"cards_count",void 0),i([f(cc.Label)],t.prototype,"lab_count",void 0),i([f(u.default)],t.prototype,"head",void 0),i([f(d.default)],t.prototype,"poker_shower",void 0),i([f(cc.Sprite)],t.prototype,"left_count_tip",void 0),i([f({type:cc.Enum(a),serializable:!0})],t.prototype,"type",void 0),i([_],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../Game":"Game","../Utils":"Utils","../data/Room":"Room","./ActionTip":"ActionTip","./Head":"Head","./PokerShower":"PokerShower"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"6f45am5jxJJ2pPFF5jzkJv5","Player");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){this.avatar="",this.level=0,this.uid=null,this.nick="",this.index=0,this.bean_coin=0,this.ready=!1,this.remain_count=0,this.pokers=[]}return e.prototype.update=function(e){e?(this.uid=e.uid,this.bean_coin=e.bean_coin,this.nick=e.nick,this.avatar=e.avatar,this.level=e.level):this.reset()},e.prototype.reset=function(){this.uid=null,this.nick="",this.bean_coin=0,this.avatar="",this.level=0},r([i],e)}());o.default=a,cc._RF.pop()},{}],PokerData:[function(e,t,o){"use strict";var r;cc._RF.push(t,"625b7opmuBPz5gq1adqcaLv","PokerData"),Object.defineProperty(o,"__esModule",{value:!0}),o.HUASE=o.Poker_HuaseName=o.Poker_Color=o.Poker_Grahpic=void 0,o.Poker_Grahpic=["","A","2","3","4","5","6","7","8","9","10","J","Q","K"],o.Poker_Color=["#C40000","#000000","#C40000","#000000"],o.Poker_HuaseName=["fangkuai","meihua","hongxin","heitao"],function(e){e[e.fangzhuan=0]="fangzhuan",e[e.meihua=1]="meihua",e[e.hongxin=2]="hongxin",e[e.heitao=3]="heitao",e[e.xiaowang=53]="xiaowang",e[e.dawang=54]="dawang"}(r=o.HUASE||(o.HUASE={}));var n=function(){function e(e){this.card=e,this.init()}return e.prototype.init=function(){if(0!=this.card){if(53==this.card)return this.huase=r.xiaowang,this.spriteFrame="sking",this.num=53,this.grade=16,void(this.sort=53);if(54==this.card)return this.huase=r.dawang,this.spriteFrame="bking",this.num=54,this.grade=17,void(this.sort=54);var e=this.card/13^0,t=this.card%13;0==t&&(t=13,e--),this.huase=e,this.num=t,this.grade=1==t||2==t?13+t:t,this.spriteFrame=o.Poker_HuaseName[e],this.sort=4*((1==t||2==t?11+t:t-2)-1)+e+1,this.graphic=o.Poker_Grahpic[t],this.color=cc.Color.BLACK.fromHEX(o.Poker_Color[e])}else this.spriteFrame="back"},e}();o.default=n,cc._RF.pop()},{}],PokerPlus:[function(e,t,o){"use strict";cc._RF.push(t,"f7cf6hF64NOHaSXrQu+VLwi","PokerPlus");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PokerSize=void 0;var a,c=e("../Game"),s=e("../Core"),l=cc._decorator,p=l.ccclass,u=l.property;(function(e){e[e.big=0]="big",e[e.small=1]="small"})(a=o.PokerSize||(o.PokerSize={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label_num=null,t.bg=null,t.landlord_flag=null,t.size=a.big,t.zero_position=cc.v3(0,0,0),t.poker_data=null,t.index=0,t.isMoveUp=!1,t}return n(t,e),t.prototype.onLoad=function(){this.bg.node.on(cc.Node.EventType.TOUCH_START,function(){return null})},t.prototype.face=function(e){this.poker_data=s.config.getCard(e);var t=a[this.size];switch(e){case 0:this.label_num.node.active=!1,this.bg.spriteFrame=c.Game.resource.getCacheAsset("back_"+t);break;case 53:case 54:this.label_num.node.active=!1,this.bg.spriteFrame=c.Game.resource.getCacheAsset(this.poker_data.spriteFrame+"_"+t);break;default:this.label_num.node.active=!0,this.label_num.string=this.poker_data.graphic,this.label_num.node.color=this.poker_data.color,this.bg.spriteFrame=c.Game.resource.getCacheAsset(this.poker_data.spriteFrame+"_"+t)}},t.prototype.select=function(){this.bg.node.color=cc.Color.BLACK.fromHEX("#808080")},t.prototype.unselect=function(){this.bg.node.color=cc.Color.BLACK.fromHEX("#FFFFFF")},t.prototype.move=function(){this.isMoveUp?this.moveBack():this.moveUp()},t.prototype.moveUp=function(){this.isMoveUp=!0,this.bg.node.y=s.config.move_dis},t.prototype.moveBack=function(){this.isMoveUp=!1,this.bg.node.y=0},t.prototype.flagSet=function(e){this.landlord_flag&&(this.landlord_flag.active=e)},t.prototype.reset=function(){this.node.position=this.zero_position,this.flagSet(!1),this.moveBack(),this.unselect()},t.prototype.unuse=function(){this.reset()},t.prototype.reuse=function(){},i([u(cc.Label)],t.prototype,"label_num",void 0),i([u(cc.Sprite)],t.prototype,"bg",void 0),i([u(cc.Node)],t.prototype,"landlord_flag",void 0),i([u({type:cc.Enum(a),serializable:!0})],t.prototype,"size",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Core":"Core","../Game":"Game"}],PokerShower:[function(e,t,o){"use strict";cc._RF.push(t,"2dc06h/3VtG3LojDh2hAG/B","PokerShower");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PokerShowType=void 0;var a,c=e("../Pool"),s=e("./PokerPlus");(function(e){e[e.OWNER=1]="OWNER",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(a=o.PokerShowType||(o.PokerShowType={}));var l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config={width:140,height:180,lr_min_disX:55,lr_max_disX:60,lr_disY:90,lr_row_count:8,o_min_disX:50,o_max_disX:60,o_count:14},t.poker_con=null,t.prefab_poker=null,t.type=a.OWNER,t.clock_position=null,t}return n(t,e),t.prototype.onLoad=function(){this.clearPokers()},t.prototype.updateShow=function(e){switch(this.clearPokers(),this.pokers_len=e.length,this.type){case a.LEFT:case a.RIGHT:this.left_right(e);break;case a.OWNER:this.owner(e)}},t.prototype.left_right=function(e){for(var t=e.length<=this.config.lr_row_count?this.config.lr_max_disX:this.config.lr_min_disX,o=Math.min(this.config.lr_row_count,e.length),r=this.config.width/2-((o-1)*t+this.config.width)/2,n=((Math.ceil(e.length/this.config.lr_row_count)-1)*this.config.lr_disY+this.config.height)/2-this.config.height/2,i=0;i<e.length;i++){var a=e[i],l=c.pools.poker_big_get(this.prefab_poker).getComponent(s.default);l.node.parent=this.poker_con,l.node.x=r+i%this.config.lr_row_count*t,l.node.y=n-(i/this.config.lr_row_count^0)*this.config.lr_disY,l.face(a)}},t.prototype.owner=function(e){for(var t=e.length<=this.config.o_count?this.config.o_max_disX:this.config.o_min_disX,o=(e.length-1)*t+this.config.width,r=(this.config.width-o)/2,n=0;n<e.length;n++){var i=e[n],a=c.pools.poker_big_get(this.prefab_poker).getComponent(s.default);a.node.x=r+t*n,a.node.parent=this.poker_con,a.face(i)}},t.prototype.getPokerTypeEffectPos=function(e){return(e.height-this.getHeight()*this.poker_con.scale)/2},t.prototype.getHeight=function(){var e=this.config.height;return this.type!=a.LEFT&&this.type!=a.RIGHT||(e=(Math.ceil(this.pokers_len/this.config.lr_row_count)-1)*this.config.lr_disY+this.config.height),e},t.prototype.clearPokers=function(){for(var e=this.poker_con.childrenCount-1;e>=0;e--){var t=this.poker_con.children[e];c.pools.poker_small_put(t)}},t.prototype.clear=function(){this.clearPokers()},i([u(cc.Node)],t.prototype,"poker_con",void 0),i([u(cc.Prefab)],t.prototype,"prefab_poker",void 0),i([u({type:cc.Enum(a),serializable:!0})],t.prototype,"type",void 0),i([u(cc.Node)],t.prototype,"clock_position",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Pool":"Pool","./PokerPlus":"PokerPlus"}],Pool:[function(e,t,o){"use strict";cc._RF.push(t,"5f2b1HvNo9NzJ3B7wfuh9hK","Pool"),Object.defineProperty(o,"__esModule",{value:!0}),o.pools=void 0;var r=e("./Game");o.pools={poker_pool_big:new cc.NodePool("PokerPlus"),poker_pool_small:new cc.NodePool("PokerPlus"),poker_type_effect_pool:new cc.NodePool("poker_type_effect_pool"),poker_big_get:function(e){return o.pools.poker_pool_big.size()?o.pools.poker_pool_big.get():cc.instantiate(e)},poker_big_put:function(e){o.pools.poker_pool_big.put(e)},poker_small_get:function(e){return o.pools.poker_pool_small.size()?o.pools.poker_pool_small.get():cc.instantiate(e)},poker_small_put:function(e){o.pools.poker_pool_small.put(e)},poker_type_effect_get:function(){return o.pools.poker_type_effect_pool.size()?o.pools.poker_type_effect_pool.get():cc.instantiate(r.Game.resource.getCacheAsset("poker_type_effect"))},poker_type_effect_put:function(e){o.pools.poker_type_effect_pool.put(e)}},cc._RF.pop()},{"./Game":"Game"}],Preloading:[function(e,t,o){"use strict";cc._RF.push(t,"59d22jGPYhLBJ3C6hs/FExw","Preloading");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Game"),c=e("./plugin/CountDown"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t,o=null!==e&&e.apply(this,arguments)||this;return o.label_progress=null,o.countdown=null,o.sceneDescribe=((t={})[a.GameScene.hall]="[\u9f99\u738b\u5927\u5385]",t[a.GameScene.zone]="[\u9f99\u738b\u5730\u5e26]",t),o}return n(t,e),t.prototype.showDescribe=function(e){this.clearTime(),this.node.active=!0,this.label_progress.string=e},t.prototype.preloadScene=function(e){cc.director.preloadScene(a.GameScene[e])},t.prototype.loadScene=function(e,t,o){var r=this;this.clearTime(),this.node.active=!0;var n=this.sceneDescribe[e];this.showDescribe(n+" \u52a0\u8f7d\u4e2d...0%"),cc.director.preloadScene(a.GameScene[e],function(e,t){r.showDescribe(n+" \u52a0\u8f7d\u4e2d..."+(e/t*100^0)+"%")},function(i){i?r.showDescribe(n+" \u52a0\u8f7d\u5931\u8d25"):(cc.log("\u52a0\u8f7d\u5b8c\u6210,\u573a\u666f\u8df3\u8f6c"),r.showDescribe(n+" \u52a0\u8f7d\u5b8c\u6210,\u8df3\u8f6c\u4e2d..."),t&&t(),cc.director.loadScene(a.GameScene[e],o))})},t.prototype.playCountdown=function(e){this.countdown.play(e)},t.prototype.hide=function(){this.clearTime(),this.node.active=!1},t.prototype.clearTime=function(){this.countdown.clear()},i([p(cc.Label)],t.prototype,"label_progress",void 0),i([p(c.default)],t.prototype,"countdown",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./Game":"Game","./plugin/CountDown":"CountDown"}],RechargeItem:[function(e,t,o){"use strict";cc._RF.push(t,"16160pNNnxFm7o4tDyHPaEH","RechargeItem");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Game"),c=e("../../View"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_coin=null,t.lab_number=null,t.lab_silver=null,t.sp_gamecoin=null,t}return n(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.start=function(){this.sp_gamecoin.node.on("touchstart",this.click,this)},t.prototype.refresh=function(e){this.data=e,this.sp_gamecoin.node.active=!0,this.lab_coin.string=""+e.bean_coin,this.lab_number.string=""+e.gift.amount,this.lab_silver.string=""+e.silver_coin},t.prototype.click=function(){a.Game.recharge_data.select_index=this.index,c.default.recharge_panel.refreshTipUI()},t.prototype.reset=function(){this.lab_coin.string="0",this.lab_number.string="0",this.sp_gamecoin.node.active=!1},i([p(cc.Label)],t.prototype,"lab_coin",void 0),i([p(cc.Label)],t.prototype,"lab_number",void 0),i([p(cc.Label)],t.prototype,"lab_silver",void 0),i([p(cc.Sprite)],t.prototype,"sp_gamecoin",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Game":"Game","../../View":"View"}],RechargePanel:[function(e,t,o){"use strict";cc._RF.push(t,"a8921FnPc5MDbmy8KV2KHWA","RechargePanel");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../event/EventType"),c=e("../../Game"),s=e("../../View"),l=e("./RechargeItem"),p=e("./RechargeTipUI"),u=cc._decorator,d=u.ccclass,h=u.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rechargeItems=[],t.main_ui=null,t.tip_ui=null,t}return n(t,e),t.prototype.onLoad=function(){s.default.recharge_panel=this,this.reset()},t.prototype.start=function(){c.Game.message.on(a.EventType.deposit_page,this.refresh.bind(this)),this.refresh()},t.prototype.refresh=function(){if(c.Game.recharge_data)for(var e=0;e<this.rechargeItems.length;e++)this.rechargeItems[e].index=e,this.rechargeItems[e].refresh(c.Game.recharge_data.deposit_list[e])},t.prototype.refreshTipUI=function(){this.active_tip_ui();var e=c.Game.recharge_data.deposit_list[c.Game.recharge_data.select_index];this.tip_ui.refresh({yin:c.Game.recharge_data.wallet_info.yin,silver_coin:e.silver_coin,bean_coin:e.bean_coin})},t.prototype.reset=function(){this.active_main_ui()},t.prototype.active_main_ui=function(){this.main_ui.active=!0,this.tip_ui.node.active=!1},t.prototype.active_tip_ui=function(){this.tip_ui.node.active=!0,this.main_ui.active=!1},t.prototype.show=function(){this.node.active=!0,c.Game.recharge_data||c.Game.notify.request.deposit_page()},t.prototype.close=function(){this.node.active=!1},i([h([l.default])],t.prototype,"rechargeItems",void 0),i([h(cc.Node)],t.prototype,"main_ui",void 0),i([h(p.default)],t.prototype,"tip_ui",void 0),i([d],t)}(cc.Component);o.default=_,cc._RF.pop()},{"../../Game":"Game","../../View":"View","../../event/EventType":"EventType","./RechargeItem":"RechargeItem","./RechargeTipUI":"RechargeTipUI"}],RechargeTipUI:[function(e,t,o){"use strict";cc._RF.push(t,"b40776DRRFEyqj9QbMiOLcY","RechargeTipUI");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../event/EventType"),c=e("../../Game"),s=e("../../View"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label_silver=null,t.label_buy_silver=null,t.label_pearl=null,t.delay_interval=0,t}return n(t,e),t.prototype.onLoad=function(){c.Game.message.on(a.EventType.bean_coin,this.success.bind(this))},t.prototype.stop_delay_close=function(){clearTimeout(this.delay_interval)},t.prototype.delay_close=function(){var e=this;this.stop_delay_close(),this.delay_interval=setTimeout(function(){e.click_cancel()},2e3)},t.prototype.success=function(){this.node.active&&this.delay_close()},t.prototype.refresh=function(e){this.label_silver.string=""+e.yin,this.label_buy_silver.string=""+e.silver_coin,this.label_pearl.string=""+e.bean_coin},t.prototype.click_cancel=function(){this.clear(),s.default.recharge_panel.active_main_ui()},t.prototype.click_confirm=function(){if(c.Game.recharge_data.select_index>=0){var e=c.Game.recharge_data.deposit_list[c.Game.recharge_data.select_index];if(c.Game.recharge_data.wallet_info.yin<e.silver_coin)return void s.default.tooltip.show("\u94f6\u5e01\u6570\u91cf\u4e0d\u8db3");c.Game.notify.request.deposit_coin({deposit_index:c.Game.recharge_data.select_index})}},t.prototype.clear=function(){this.stop_delay_close()},i([u(cc.Label)],t.prototype,"label_silver",void 0),i([u(cc.Label)],t.prototype,"label_buy_silver",void 0),i([u(cc.Label)],t.prototype,"label_pearl",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Game":"Game","../../View":"View","../../event/EventType":"EventType"}],ResourceCenter:[function(e,t,o){"use strict";cc._RF.push(t,"bbf905Y1blDlZ3PP8soAVt3","ResourceCenter");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){this.pokerSpriteFrameMap={},this.prefabnode_map={}}return e.prototype.setPokerSpriteFrameMap=function(e,t){this.pokerSpriteFrameMap[e]=t},e.prototype.getPokerSpriteFrameMap=function(e){return this.pokerSpriteFrameMap[e]},e.prototype.getCacheAsset=function(e){var t=null;return cc.assetManager.assets.forEach(function(o){o.name!=e||(t=o)}),t},e.prototype.setLocalSpriteFrame=function(e,t){cc.resources.load(e,cc.SpriteFrame,function(e,o){t.spriteFrame=o})},e.prototype.loadRemoteSpriteFrame=function(e,t){cc.assetManager.loadRemote(e,function(e,o){o&&(t.spriteFrame=new cc.SpriteFrame(o))})},e.prototype.addPrefabNode=function(e,t,o){var r=this.prefabnode_map[e.name];return r||(r=cc.instantiate(e),this.prefabnode_map[e.name]=r),t&&t.active&&(null!=o?t.addChild(r,o):t.addChild(r)),r},e.prototype.getPrefabNode=function(e){return this.prefabnode_map[e.name]},e.prototype.removePrefabNode=function(e){var t=this.prefabnode_map[e.name];t&&(t.parent=null)},r([i],e)}());o.default=a,cc._RF.pop()},{}],ResultItem:[function(e,t,o){"use strict";cc._RF.push(t,"4c60cMWE3RPkqMqn4s8MRbo","ResultItem");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Utils"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_name=null,t.lab_base=null,t.lab_double=null,t.lab_coin=null,t.owner_bg=null,t}return n(t,e),t.prototype.updateData=function(e,t){void 0===t&&(t=!1),this.lab_name.string=a.default.formatStrLength(""+e.nick),this.lab_base&&(this.lab_base.string=""+e.bottom),this.lab_double&&(this.lab_double.string=""+e.times),this.lab_coin.string=(e.award>0?"+":"")+e.award,this.owner_bg&&(this.owner_bg.active=t)},t.prototype.clear=function(){this.lab_name.string="...",this.lab_base&&(this.lab_base.string="0"),this.lab_double&&(this.lab_double.string="0"),this.owner_bg&&(this.owner_bg.active=!1),this.lab_coin.string="0"},i([l(cc.Label)],t.prototype,"lab_name",void 0),i([l(cc.Label)],t.prototype,"lab_base",void 0),i([l(cc.Label)],t.prototype,"lab_double",void 0),i([l(cc.Label)],t.prototype,"lab_coin",void 0),i([l(cc.Node)],t.prototype,"owner_bg",void 0),i([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Utils":"Utils"}],ResultPanel:[function(e,t,o){"use strict";cc._RF.push(t,"f2dbauD23dFQ6Nm7/vAZyCf","ResultPanel");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../data/Room"),c=e("../../event/EventType"),s=e("../../Game"),l=e("./ResultItem"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.win_lose_node=null,t.win_bg=null,t.lose_bg=null,t.exit_node=null,t.result_items=[],t.exit_items=[],t.again_node=null,t.return_node=null,t.again_node_2=null,t.return_node_2=null,t}return n(t,e),t.prototype.start=function(){this.again_node.on(cc.Node.EventType.TOUCH_START,function(){s.Game.message.emit(c.EventType.again_round)}),this.again_node_2.on(cc.Node.EventType.TOUCH_START,function(){s.Game.message.emit(c.EventType.again_round)}),this.return_node.on(cc.Node.EventType.TOUCH_START,function(){s.Game.message.emit(c.EventType.return_hall)}),this.return_node_2.on(cc.Node.EventType.TOUCH_START,function(){s.Game.message.emit(c.EventType.return_hall)})},t.prototype.updateResult=function(e){if(this.node.active=!0,-1==e.winner_index[0])this.exit();else{~e.winner_index.indexOf(a.room.ownPlayer.index)?this.win():this.lose();for(var t=0;t<e.player_info.length;t++){var o=e.player_info[t];if(o.index==e.landlord_index){e.player_info.splice(t,1),e.player_info.unshift(o);break}}}for(t=0;t<this.result_items.length;t++){var r=this.result_items[t];r.updateData(e.player_info[t],e.player_info[t].index==a.room.ownPlayer.index),(r=this.exit_items[t]).updateData(e.player_info[t])}},t.prototype.win=function(){this.win_lose_node.active=!0,this.win_bg.active=!0,this.lose_bg.enabled=!1,this.exit_node.active=!1},t.prototype.lose=function(){this.win_lose_node.active=!0,this.win_bg.active=!1,this.lose_bg.enabled=!0,this.exit_node.active=!1},t.prototype.exit=function(){this.win_lose_node.active=!1,this.exit_node.active=!0},t.prototype.clear=function(){for(var e=0;e<this.result_items.length;e++){var t=this.result_items[e];t.clear(),(t=this.exit_items[e]).clear()}},t.prototype.close=function(){this.clear(),this.node.active=!1},i([d(cc.Node)],t.prototype,"win_lose_node",void 0),i([d(cc.Node)],t.prototype,"win_bg",void 0),i([d(cc.Sprite)],t.prototype,"lose_bg",void 0),i([d(cc.Node)],t.prototype,"exit_node",void 0),i([d({type:[l.default]})],t.prototype,"result_items",void 0),i([d({type:[l.default]})],t.prototype,"exit_items",void 0),i([d(cc.Node)],t.prototype,"again_node",void 0),i([d(cc.Node)],t.prototype,"return_node",void 0),i([d(cc.Node)],t.prototype,"again_node_2",void 0),i([d(cc.Node)],t.prototype,"return_node_2",void 0),i([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Game":"Game","../../data/Room":"Room","../../event/EventType":"EventType","./ResultItem":"ResultItem"}],Room:[function(e,t,o){"use strict";cc._RF.push(t,"ac88aJm26tADqeepothydEg","Room"),Object.defineProperty(o,"__esModule",{value:!0}),o.Identity=o.Score=o.MenuStyle=o.room=o.GameState=o.hall=void 0;var r,n=e("./Player");o.hall={user:"",online_people:0,bottom:0},function(e){e[e.IDLE=0]="IDLE",e[e.SHUFFLE=1]="SHUFFLE",e[e.SELECT_SCORE=2]="SELECT_SCORE",e[e.PLAY=3]="PLAY",e[e.USER_OUT=4]="USER_OUT"}(r=o.GameState||(o.GameState={})),o.room={id:0,landlord_index:-1,last_pokers:[],ailist:[],ai_index:0,ownPlayer:new n.default,leftPlayer:new n.default,rightPlayer:new n.default,dipai_pokers:[],own_ready:!1,game_state:r.IDLE,roundReset:function(){this.game_state=r.IDLE,this.own_ready=!1,this.last_pokers=[],this.ailist=[],this.ai_index=0,this.ownPlayer.pokers=null,this.landlord_index=-1},isLandlord:function(){return o.room.ownPlayer.index==o.room.landlord_index},auto:{pass:!1,AIPush:!0,pushDelay:3,score_time:10},show_message:{0:"\u4e0d\u53eb",1:"1\u5206",2:"2\u5206",3:"3\u5206","-1":"\u4e0d\u62a2","-2":"\u62a2\u5730\u4e3b"}},function(e){e[e.NULL=0]="NULL",e[e.SELECT_SCORE=1]="SELECT_SCORE",e[e.NODOUBLE_DOUBLE=2]="NODOUBLE_DOUBLE",e[e.CHUPAI=3]="CHUPAI",e[e.BUCHU_TISHI_CHUPAI=4]="BUCHU_TISHI_CHUPAI"}(o.MenuStyle||(o.MenuStyle={})),function(e){e[e.nocall=0]="nocall",e[e.score_1=1]="score_1",e[e.score_2=2]="score_2",e[e.score_3=3]="score_3",e[e.nocatch=-1]="nocatch",e[e.catch=-2]="catch",e[e.nodouble=-3]="nodouble",e[e.double=-4]="double",e[e.pass=-5]="pass",e[e.waitfor_catch=-6]="waitfor_catch"}(o.Score||(o.Score={})),function(e){e[e.landlord=0]="landlord",e[e.peasant=1]="peasant"}(o.Identity||(o.Identity={})),cc._RF.pop()},{"./Player":"Player"}],SceneBG:[function(e,t,o){"use strict";cc._RF.push(t,"69bc4eqVHVOnqlOjauuOj6q","SceneBG");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../event/EventType"),c=e("../Game"),s=e("./PlayerShower"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.bg_light=null,t.crab=null,t.octopus=null,t}return n(t,e),t.prototype.onLoad=function(){c.Game.resource.setLocalSpriteFrame("share_bg/bg",this.bg),c.Game.resource.setLocalSpriteFrame("share_bg/octopus",this.octopus),c.Game.resource.setLocalSpriteFrame("share_bg/crab",this.crab),c.Game.resource.setLocalSpriteFrame("share_bg/bg_light",this.bg_light)},t.prototype.start=function(){var e=this;c.Game.message.on(a.EventType.set_landlord,function(t){switch(t){case s.PlayerDirType.LEfT:c.Game.resource.setLocalSpriteFrame("share_bg/octopus_landlord",e.octopus);break;case s.PlayerDirType.RIGHT:c.Game.resource.setLocalSpriteFrame("share_bg/crab_landlord",e.crab);break;case s.PlayerDirType.OWNER:c.Game.resource.setLocalSpriteFrame("share_bg/octopus",e.octopus),c.Game.resource.setLocalSpriteFrame("share_bg/crab",e.crab)}})},i([u(cc.Sprite)],t.prototype,"bg",void 0),i([u(cc.Sprite)],t.prototype,"bg_light",void 0),i([u(cc.Sprite)],t.prototype,"crab",void 0),i([u(cc.Sprite)],t.prototype,"octopus",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Game":"Game","../event/EventType":"EventType","./PlayerShower":"PlayerShower"}],Scene_Hall:[function(e,t,o){"use strict";cc._RF.push(t,"2255eli5StLSaa8NgaF8MNp","Scene_Hall");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./data/Room"),c=e("./event/EventType"),s=e("./Game"),l=e("./View"),p=e("./view/recharge_panel/RechargePanel"),u=e("./view/sign_panel/SignPanel"),d=e("./Tooltip"),h=e("./Preloading"),_=e("./view/Head"),f=e("./Utils"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scene=null,t.lab_title=null,t.lab_olcount=null,t.node_match=null,t.node_top=null,t.head=null,t.lab_nick=null,t.lab_bean_coin=null,t.lab_bottom=null,t.request_entergame_ing=!1,t.bind_handler={match_complete:null},t.scene_bg=null,t.preloading_prefab=null,t.preloading=null,t.tooltip_prefab=null,t.tooltip=null,t.prefab_sign=null,t.panel_sign=null,t.prefab_recharge=null,t.panel_recharge=null,t}return n(t,e),t.prototype.onLoad=function(){l.default.scene_hall=this,s.Game.gameScene=s.GameScene.hall,this.node_top.active=!1,this.node_match.active=!1,this.lab_title.string="\u670d\u52a1\u5668\u8fde\u63a5\u4e2d...",this.request_entergame_ing=!1,s.Game.resource.addPrefabNode(this.scene_bg,this.node.parent,-1),s.Game.resource.addPrefabNode(this.prefab_sign,this.node.parent),s.Game.resource.addPrefabNode(this.prefab_recharge,this.node.parent),s.Game.resource.addPrefabNode(this.preloading_prefab,this.node.parent),s.Game.resource.addPrefabNode(this.tooltip_prefab,this.node.parent),this.preloading=s.Game.resource.getPrefabNode(this.preloading_prefab).getComponent(h.default),this.preloading.hide(),this.tooltip=s.Game.resource.getPrefabNode(this.tooltip_prefab).getComponent(d.default),this.tooltip.clear(),l.default.tooltip=this.tooltip,this.panel_sign=s.Game.resource.getPrefabNode(this.prefab_sign).getComponent(u.default),this.panel_sign.close(),this.panel_recharge=s.Game.resource.getPrefabNode(this.prefab_recharge).getComponent(p.default),this.panel_recharge.close()},t.prototype.start=function(){this.addEvents(),s.Game.socket.isopen?this.init_player():s.Game.socket.connect()},t.prototype.addEvents=function(){s.Game.message.on(c.EventType.socket_connect_success,this.open.bind(this)),s.Game.message.on(c.EventType.socket_connect_close,this.close.bind(this)),s.Game.message.on(c.EventType.init_player,this.init_player.bind(this)),s.Game.message.on(c.EventType.enter_game,this.match_complete.bind(this)),s.Game.message.on(c.EventType.bean_coin,this.refresh_bean_coin.bind(this)),s.Game.message.on(c.EventType.deposit_coin,this.refresh_bean_coin.bind(this)),s.Game.message.on(c.EventType.notice_1000,this.notice_1000.bind(this)),s.Game.message.on(c.EventType.back_hall,this.init_player.bind(this))},t.prototype.removeAllEvents=function(){s.Game.message.delete(c.EventType.socket_connect_success),s.Game.message.delete(c.EventType.socket_connect_close),s.Game.message.delete(c.EventType.init_player),s.Game.message.delete(c.EventType.enter_game),s.Game.message.delete(c.EventType.bean_coin),s.Game.message.delete(c.EventType.deposit_coin),s.Game.message.delete(c.EventType.notice_1000),s.Game.message.delete(c.EventType.back_hall)},t.prototype.match=function(){s.Game.socket.isopen?(this.preloading.showDescribe("\u73a9\u5bb6\u5339\u914d\u4e2d..."),this.preloading.playCountdown(30),this.request_entergame_ing=!0,s.Game.notify.request.enter_game({uid:a.room.ownPlayer.uid}),this.preloading.preloadScene(s.GameScene.zone)):l.default.tooltip.show("\u670d\u52a1\u5668\u5df2\u7ecf\u65ad\u5f00")},t.prototype.getOwnerInfo=function(){return{sid:window.localStorage.getItem("_sid"),key:window.localStorage.getItem("_key")||"98af89240e0d4589a2636166177fd11b9",ver:window.localStorage.getItem("_ver")||"2.1.1"}},t.prototype.open=function(){var e=this;setTimeout(function(){var t=s.Game.simulator.getAlphaSid(),o=e.getOwnerInfo();t&&(o.sid=t),s.Game.ownerInfo=o,s.Game.notify.request.init_player(o)},100)},t.prototype.close=function(){this.lab_title.string="\u670d\u52a1\u5668\u8fde\u63a5\u65ad\u5f00"},t.prototype.init_player=function(){this.node_top.active=!0,this.node_match.active=!0,this.lab_title.string="\u5e95\u5206",this.lab_bottom.string=""+a.hall.bottom,this.lab_nick.string=f.default.formatStrLength(a.room.ownPlayer.nick),this.lab_bean_coin.string=""+a.room.ownPlayer.bean_coin,this.head.updateIcon(a.room.ownPlayer)},t.prototype.match_complete=function(){this.request_entergame_ing&&s.Game.gameScene==s.GameScene.hall&&(this.clear(),this.preloading.loadScene(s.GameScene.zone,this.releasePrefabs.bind(this)))},t.prototype.refresh_bean_coin=function(){this.lab_bean_coin.string=""+a.room.ownPlayer.bean_coin},t.prototype.get_uid=function(){return a.hall.user=""+(1e3*Math.random()^0)},t.prototype.click_sign=function(){this.panel_sign.show()},t.prototype.click_recharge=function(){this.panel_recharge.show()},t.prototype.clear=function(){this.request_entergame_ing=!1,this.removeAllEvents()},t.prototype.releasePrefabs=function(){s.Game.resource.removePrefabNode(this.scene_bg),s.Game.resource.removePrefabNode(this.preloading_prefab),s.Game.resource.removePrefabNode(this.tooltip_prefab),s.Game.resource.removePrefabNode(this.prefab_sign),s.Game.resource.removePrefabNode(this.prefab_recharge),this.scene.active=!1},t.prototype.notice_1000=function(){this.preloading.hide()},i([m(cc.Node)],t.prototype,"scene",void 0),i([m(cc.Label)],t.prototype,"lab_title",void 0),i([m(cc.Label)],t.prototype,"lab_olcount",void 0),i([m(cc.Node)],t.prototype,"node_match",void 0),i([m(cc.Node)],t.prototype,"node_top",void 0),i([m(_.default)],t.prototype,"head",void 0),i([m(cc.Label)],t.prototype,"lab_nick",void 0),i([m(cc.Label)],t.prototype,"lab_bean_coin",void 0),i([m(cc.Label)],t.prototype,"lab_bottom",void 0),i([m(cc.Prefab)],t.prototype,"scene_bg",void 0),i([m(cc.Prefab)],t.prototype,"preloading_prefab",void 0),i([m(cc.Prefab)],t.prototype,"tooltip_prefab",void 0),i([m(cc.Prefab)],t.prototype,"prefab_sign",void 0),i([m(cc.Prefab)],t.prototype,"prefab_recharge",void 0),i([g],t)}(cc.Component);o.default=v,cc._RF.pop()},{"./Game":"Game","./Preloading":"Preloading","./Tooltip":"Tooltip","./Utils":"Utils","./View":"View","./data/Room":"Room","./event/EventType":"EventType","./view/Head":"Head","./view/recharge_panel/RechargePanel":"RechargePanel","./view/sign_panel/SignPanel":"SignPanel"}],Scene_Preload:[function(e,t,o){"use strict";cc._RF.push(t,"ffba5XkfyxLQ40E7PpSTI7o","Scene_Preload");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./data/Room"),c=e("./Game"),s=e("./Preloading"),l=e("./Utils"),p=e("./View"),u=cc._decorator,d=u.ccclass,h=u.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.preloading_prefab=null,t}return n(t,e),t.prototype.onLoad=function(){window.View=p.default,window.Game=c.Game,window.room=a.room,"1"==l.default.getQueryString("vconsole")&&l.default.loadScript("https://cdn.bootcss.com/vConsole/3.3.4/vconsole.min.js",function(){new window.VConsole}),c.Game.server=this.getServer()},t.prototype.getServer=function(){var e=l.default.getQueryString("server"),t=c.Game.force[l.default.getQueryString("force")];return t&&(e=t),e||c.Game.server},t.prototype.start=function(){c.Game.resource.addPrefabNode(this.preloading_prefab,this.node).getComponent(s.default).loadScene(c.GameScene.hall,this.releasePrefabs.bind(this))},t.prototype.releasePrefabs=function(){c.Game.resource.removePrefabNode(this.preloading_prefab)},t.prototype.test=function(){for(var e="0123456789ABCDEFGHIJKLMNOP",t=[],o=[],r=0;r<26;r++)t[r]=e.charAt(r),o[e.charAt(r)]=r;(function(){for(var t=1e4,o=[];t>=26;)o.unshift(e[t%26]),t=t/26^0;t>0&&o.unshift(e[t]),cc.log(o.join(""))})(),function(){for(var e=0,t=0;t<"AAA".length;t++)e+=o["AAA"[t]]*Math.pow(26,"AAA".length-t-1);cc.log(e)}()},i([h(cc.Prefab)],t.prototype,"preloading_prefab",void 0),i([d],t)}(cc.Component);o.default=_,cc._RF.pop()},{"./Game":"Game","./Preloading":"Preloading","./Utils":"Utils","./View":"View","./data/Room":"Room"}],Scene_Zone:[function(e,t,o){"use strict";cc._RF.push(t,"1878cno/vxAn7E4ihDJzhj1","Scene_Zone");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./data/Room"),c=e("./event/EventType"),s=e("./Game"),l=e("./menu/Menu"),p=e("./Core"),u=e("./view/DipaiShower"),d=e("./view/OwnHandContainer"),h=e("./view/PlayerShower"),_=e("./view/TopScoreView"),f=e("./view/result_panel/ResultPanel"),y=e("./View"),g=e("./Preloading"),m=e("./Tooltip"),v=e("./Pool"),b=e("./view/Clock "),P=e("./view/Matching"),T=cc._decorator,w=T.ccclass,k=T.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_room_id=null,t.own_player=null,t.left_player=null,t.right_player=null,t.menu=null,t.own_handCon=null,t.top_score_view=null,t.dipai_shower=null,t.clock=null,t.matching=null,t.center_effect=null,t.poker_type_effect=null,t.status_tips=null,t.scene_bg=null,t.preloading_prefab=null,t.preloading=null,t.tooltip_prefab=null,t.tooltip=null,t.prefab_result=null,t.panel_result=null,t.bind_handler={match_complete:null},t.pass_interval=0,t.game_over_interval=0,t.clearTips_interval=0,t.clearTip_interval=0,t.delay_clearTips=!1,t}return n(t,e),t.prototype.onLoad=function(){y.default.scene_zone=this,s.Game.gameScene=s.GameScene.zone,s.Game.resource.addPrefabNode(this.scene_bg,this.node.parent,-1),s.Game.resource.addPrefabNode(this.prefab_result,this.node.parent),s.Game.resource.addPrefabNode(this.tooltip_prefab,this.node.parent),s.Game.resource.addPrefabNode(this.preloading_prefab,this.node.parent),this.preloading=s.Game.resource.getPrefabNode(this.preloading_prefab).getComponent(g.default),this.preloading.hide(),this.tooltip=s.Game.resource.getPrefabNode(this.tooltip_prefab).getComponent(m.default),this.tooltip.clear(),y.default.tooltip=this.tooltip,this.panel_result=s.Game.resource.getPrefabNode(this.prefab_result).getComponent(f.default),this.panel_result.close()},t.prototype.start=function(){this.roundReset(),this.initEvents(),this.updateRoomPlayers(),this.ready(),s.Game.audio.playGameMusic()},t.prototype.ready=function(){a.room.own_ready||(a.room.own_ready=!0,s.Game.notify.request.ready_game({room_id:a.room.id,player_index:a.room.ownPlayer.index}))},t.prototype.test=function(){var e=this;s.Game.socket.ws||(p.config.initMap(),window.pools=v.pools,a.room.ownPlayer.index=1,a.room.landlord_index=1,this.own_handCon.node.active=!0,this.left_player.updateIdentity(a.Identity.landlord),this.right_player.updateIdentity(a.Identity.landlord),this.left_player.updateCardCount(1),this.right_player.updateCardCount(1),this.own_player.updateIdentity(a.Identity.landlord),this.own_handCon.updateHandPai([27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]),this.left_player.updatePokers([1,2,3,10,5,6,7,8]),this.right_player.updatePokers([1,2,3,10,5,6,7,8,9,10,11,12,13,14,15]),this.own_player.updatePokers([1,2,3,4,10,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),setTimeout(function(){e.own_handCon.updateHandPai([])},2e3),setTimeout(function(){e.own_handCon.updateHandPai([1]),cc.log(e.own_handCon.node.children[0].children[0].children[1])},4e3),cc.log(p.paiTool.getCardPattern([8,21,34,10,23,36])),cc.log(cc.assetManager.assets))},t.prototype.updateRoomPlayers=function(){this.lab_room_id.string="\u623f\u95f4\u53f7:"+a.room.id,this.own_player.updatePlayer(a.room.ownPlayer),this.left_player.updatePlayer(a.room.leftPlayer),this.right_player.updatePlayer(a.room.rightPlayer)},t.prototype.updateLandlord=function(){var e;this.own_player.updateIdentity(a.room.ownPlayer.index==a.room.landlord_index?a.Identity.landlord:a.Identity.peasant),this.left_player.updateIdentity(a.room.leftPlayer.index==a.room.landlord_index?a.Identity.landlord:a.Identity.peasant),this.right_player.updateIdentity(a.room.rightPlayer.index==a.room.landlord_index?a.Identity.landlord:a.Identity.peasant),a.room.leftPlayer.index==a.room.landlord_index&&(e=h.PlayerDirType.LEfT),a.room.rightPlayer.index==a.room.landlord_index&&(e=h.PlayerDirType.RIGHT),a.room.ownPlayer.index==a.room.landlord_index&&(e=h.PlayerDirType.OWNER),s.Game.message.emit(c.EventType.set_landlord,e)},t.prototype.updateTurnTip=function(){},t.prototype.updateActionTip=function(e,t,o){void 0===o&&(o=!0),cc.log("\u663e\u793atip",e,t),o&&this.clearAllActionTips(),a.room.ownPlayer.index==e&&this.own_player.updateTip(t),a.room.rightPlayer.index==e&&this.right_player.updateTip(t),a.room.leftPlayer.index==e&&this.left_player.updateTip(t)},t.prototype.addClock=function(){},t.prototype.clearMenu=function(){this.menu.updateStyle(a.MenuStyle.NULL)},t.prototype.showClock=function(e,t){void 0===t&&(t=30),a.room.rightPlayer.index==e&&this.clock.show(this.right_player.poker_shower.clock_position,t),a.room.leftPlayer.index==e&&this.clock.show(this.left_player.poker_shower.clock_position,t),a.room.ownPlayer.index==e&&this.clock.show(this.own_player.poker_shower.clock_position,t)},t.prototype.clearClock=function(){this.clock.hide()},t.prototype.removeAllEvents=function(){s.Game.message.delete(c.EventType.enter_game),s.Game.message.delete(c.EventType.start_game),s.Game.message.delete(c.EventType.get_hand_cards),s.Game.message.delete(c.EventType.grab_landlord),s.Game.message.delete(c.EventType.grab_landlord_notice),s.Game.message.delete(c.EventType.double_time),s.Game.message.delete(c.EventType.get_bottom_cards),s.Game.message.delete(c.EventType.refresh_cards_count),s.Game.message.delete(c.EventType.play_the_card),s.Game.message.delete(c.EventType.player_action),s.Game.message.delete(c.EventType.game_over),s.Game.message.delete(c.EventType.user_out),s.Game.message.delete(c.EventType.again_round),s.Game.message.delete(c.EventType.return_hall)},t.prototype.initEvents=function(){var e=this;s.Game.message.on(c.EventType.enter_game,function(){e.updateRoomPlayers(),e.ready()}),s.Game.message.on(c.EventType.start_game,function(t){e.clear_matching(),e.delayClearAllActionTips(),e.show_status_tips(),t.landlord_index==a.room.ownPlayer.index&&e.menu.updateStyle(a.MenuStyle.SELECT_SCORE),e.showClock(t.landlord_index,a.room.auto.score_time),e.dipai_shower.show(),e.updateTurnTip(t.landlord_index),e.top_score_view.show(t.bottom,t.times)}),s.Game.message.on(c.EventType.get_hand_cards,function(){e.own_handCon.node.active=!0,e.own_handCon.updateHandPai(a.room.ownPlayer.pokers,a.room.game_state==a.GameState.SHUFFLE)}),s.Game.message.on(c.EventType.grab_landlord,function(t){e.clearClock(),e.clearMenu(),e.delay_clearTips&&e.clearAllActionTips(),e.updateActionTip(t.player_index,t.show,!1)}),s.Game.message.on(c.EventType.grab_landlord_notice,function(t){t.hasOwnProperty("landlord_index")?(a.room.landlord_index=t.landlord_index,e.updateLandlord(),e.clearAllPoolPokers(),e.clear_status_tips(),cc.log("\u8bf7\u6c42\u5e95\u724c:"),s.Game.notify.request.get_cards({room_id:a.room.id,player_index:3}),a.room.landlord_index==a.room.ownPlayer.index&&(e.menu.updateStyle(a.MenuStyle.NODOUBLE_DOUBLE),s.Game.notify.request.get_cards({room_id:a.room.id,player_index:a.room.landlord_index})),e.showClock(a.room.landlord_index,a.room.auto.score_time),e.delayClearAllActionTips()):(e.clearActionTip(t.player_index),t.player_index==a.room.ownPlayer.index&&e.menu.updateStyle(a.MenuStyle.SELECT_SCORE,t.show),e.showClock(t.player_index,a.room.auto.score_time))}),s.Game.message.on(c.EventType.double_time,function(t){"landlord"==t.type&&(t.player_index==a.room.ownPlayer.index&&e.menu.updateStyle(a.MenuStyle.CHUPAI),e.landlordDouble(t.player_index,t.is_double),e.showClock(t.player_index)),e.top_score_view.show(t.bottom,t.times)}),s.Game.message.on(c.EventType.get_bottom_cards,function(t){e.dipai_shower.updatePais(t.cards)}),s.Game.message.on(c.EventType.refresh_cards_count,function(t){e.left_player.updateCardCount(t.poker_num[a.room.leftPlayer.index]),e.right_player.updateCardCount(t.poker_num[a.room.rightPlayer.index])}),s.Game.message.on(c.EventType.play_the_card,function(t){t.is_out?(t.player_index==a.room.leftPlayer.index&&(e.left_player.updatePokers(t.pokers),s.Game.effect.playPokerTypeEffect(t.cards_type,e.left_player.poker_shower,e.center_effect)),t.player_index==a.room.rightPlayer.index&&(e.right_player.updatePokers(t.pokers),s.Game.effect.playPokerTypeEffect(t.cards_type,e.right_player.poker_shower,e.center_effect)),t.player_index==a.room.ownPlayer.index&&(e.own_player.updatePokers(t.pokers),s.Game.effect.playPokerTypeEffect(t.cards_type,e.own_player.poker_shower,e.center_effect),s.Game.notify.request.get_cards({room_id:a.room.id,player_index:a.room.ownPlayer.index}))):e.updateActionTip(t.player_index,a.Score.pass,!1),e.clearMenu(),e.clearClock()}),s.Game.message.on(c.EventType.player_action,function(t){e.updateTurnTip(t.player_index),e.clearPoolPokers(t.player_index),t.delay_clear?e.delayClearActionTip(t.player_index):e.clearActionTip(t.player_index),t.is_first&&(e.clearAllPoolPokers(),e.delayClearAllActionTips()),t.player_index==a.room.ownPlayer.index?t.is_first?e.menu.updateStyle(a.MenuStyle.CHUPAI):(p.paiTool.checkPush(),e.menu.updateStyle(a.MenuStyle.BUCHU_TISHI_CHUPAI)):e.clearMenu(),e.showClock(t.player_index)}),s.Game.message.on(c.EventType.game_over,function(t){e.clearAllActionTips(),e.game_over_interval=setTimeout(function(){e.panel_result.updateResult(t)},2e3)}),s.Game.message.on(c.EventType.user_out,function(e){a.room.game_state=a.GameState.USER_OUT;var t=a.room.leftPlayer.index==e.out_index?a.room.leftPlayer:a.room.rightPlayer;y.default.tooltip.show("\u73a9\u5bb6["+t.nick+"]\u9000\u51fa,\u6e38\u620f\u7ed3\u675f")}),s.Game.message.on(c.EventType.again_round,this.again.bind(this)),s.Game.message.on(c.EventType.return_hall,this.returnHall.bind(this))},t.prototype.landlordDouble=function(e,t){this.updateActionTip(e,1==t?a.Score.double:a.Score.nodouble),this.delayClearAllActionTips()},t.prototype.delayClearActionTip=function(e){var t=this;this.clearTip_interval=setTimeout(function(){t.clearActionTip(e)},1e3)},t.prototype.clearActionTip=function(e){clearTimeout(this.clearTip_interval),e==a.room.leftPlayer.index&&this.left_player.clearTip(),e==a.room.rightPlayer.index&&this.right_player.clearTip(),e==a.room.ownPlayer.index&&this.own_player.clearTip()},t.prototype.delayClearAllActionTips=function(){var e=this;this.delay_clearTips=!0,this.clearTips_interval=setTimeout(function(){e.clearAllActionTips()},1e3)},t.prototype.clearAllActionTips=function(){this.delay_clearTips=!1,clearTimeout(this.clearTips_interval),this.left_player.clearTip(),this.right_player.clearTip(),this.own_player.clearTip()},t.prototype.clearPoolPokers=function(e){e==a.room.leftPlayer.index&&this.left_player.clearPokers(),e==a.room.rightPlayer.index&&this.right_player.clearPokers(),e==a.room.ownPlayer.index&&this.own_player.clearPokers()},t.prototype.clearAllPoolPokers=function(){this.left_player.clearPokers(),this.right_player.clearPokers(),this.own_player.clearPokers()},t.prototype.clearDelayGameOver=function(){clearTimeout(this.game_over_interval)},t.prototype.roundReset=function(){a.room.roundReset(),this.own_handCon.clear(),this.left_player.clear(),this.right_player.clear(),this.own_player.reset(),this.dipai_shower.hide(),this.menu.clear(),this.panel_result.close(),this.clearClock(),this.clearTopView(),this.clear_matching(),this.clear_delay_pass(),this.clear_status_tips(),this.clearDelayGameOver(),this.clearAllActionTips(),clearTimeout(this.clearTip_interval),s.Game.message.emit(c.EventType.set_landlord,h.PlayerDirType.OWNER)},t.prototype.show_matching=function(){this.matching.show()},t.prototype.clear_matching=function(){this.matching.clear()},t.prototype.clearTopView=function(){this.top_score_view.node.active=!1},t.prototype.show_status_tips=function(){this.status_tips.node.active=!0},t.prototype.clear_status_tips=function(){this.status_tips.node.active=!1},t.prototype.again=function(){this.roundReset(),this.show_matching(),s.Game.notify.request.enter_game({uid:a.room.ownPlayer.uid})},t.prototype.returnHall=function(){this.clear(),s.Game.notify.request.back_hall(),this.preloading.loadScene(s.GameScene.hall,this.releasePrefabs.bind(this))},t.prototype.clear=function(){this.roundReset(),this.removeAllEvents(),s.Game.audio.stopGameMusic()},t.prototype.releasePrefabs=function(){s.Game.resource.removePrefabNode(this.scene_bg),s.Game.resource.removePrefabNode(this.preloading_prefab),s.Game.resource.removePrefabNode(this.tooltip_prefab),s.Game.resource.removePrefabNode(this.prefab_result)},t.prototype.delay_pass=function(){this.pass_interval=setTimeout(function(){var e={player_index:a.room.ownPlayer.index,room_id:a.room.id,is_out:!1};s.Game.notify.request.play_the_card(e)},2e3)},t.prototype.clear_delay_pass=function(){clearTimeout(this.pass_interval)},i([k(cc.Label)],t.prototype,"lab_room_id",void 0),i([k(h.default)],t.prototype,"own_player",void 0),i([k(h.default)],t.prototype,"left_player",void 0),i([k(h.default)],t.prototype,"right_player",void 0),i([k(l.default)],t.prototype,"menu",void 0),i([k(d.default)],t.prototype,"own_handCon",void 0),i([k(_.default)],t.prototype,"top_score_view",void 0),i([k(u.default)],t.prototype,"dipai_shower",void 0),i([k(b.default)],t.prototype,"clock",void 0),i([k(P.default)],t.prototype,"matching",void 0),i([k(cc.Node)],t.prototype,"center_effect",void 0),i([k(cc.Prefab)],t.prototype,"poker_type_effect",void 0),i([k(cc.Sprite)],t.prototype,"status_tips",void 0),i([k(cc.Prefab)],t.prototype,"scene_bg",void 0),i([k(cc.Prefab)],t.prototype,"preloading_prefab",void 0),i([k(cc.Prefab)],t.prototype,"tooltip_prefab",void 0),i([k(cc.Prefab)],t.prototype,"prefab_result",void 0),i([w],t)}(cc.Component);o.default=R,cc._RF.pop()},{"./Core":"Core","./Game":"Game","./Pool":"Pool","./Preloading":"Preloading","./Tooltip":"Tooltip","./View":"View","./data/Room":"Room","./event/EventType":"EventType","./menu/Menu":"Menu","./view/Clock ":"Clock ","./view/DipaiShower":"DipaiShower","./view/Matching":"Matching","./view/OwnHandContainer":"OwnHandContainer","./view/PlayerShower":"PlayerShower","./view/TopScoreView":"TopScoreView","./view/result_panel/ResultPanel":"ResultPanel"}],SignItem:[function(e,t,o){"use strict";cc._RF.push(t,"554e8DSO7BI5K0lQQubHDI4","SignItem");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=e("../../Game"),s=cc._decorator,l=s.ccclass,p=s.property;(function(e){e[e.already=1]="already",e[e.ready=2]="ready",e[e.will=3]="will"})(a||(a={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.day=null,t.lab_coin=null,t.node_coin=null,t.node_right=null,t}return n(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.refresh=function(e){this.lab_coin.string=""+e.award;var t;t=1==e.checked?a.already:e.state?a.ready:a.will,this.state=t},Object.defineProperty(t.prototype,"state",{set:function(e){switch(e){case a.already:this.node_right.active=!0,this.node_coin.active=!1,this.bg.spriteFrame=c.Game.resource.getCacheAsset("sign_roundrect_a");break;case a.ready:this.node_right.active=!1,this.node_coin.active=!0,this.bg.spriteFrame=c.Game.resource.getCacheAsset("sign_roundrect_c");break;case a.will:this.node_right.active=!1,this.node_coin.active=!0,this.bg.spriteFrame=c.Game.resource.getCacheAsset("sign_roundrect_b")}},enumerable:!1,configurable:!0}),t.prototype.refreshDay=function(e){this.day.spriteFrame=c.Game.resource.getCacheAsset("sign_day_"+e)},t.prototype.reset=function(){this.lab_coin.string="0",this.state=a.will},i([p(cc.Sprite)],t.prototype,"bg",void 0),i([p(cc.Sprite)],t.prototype,"day",void 0),i([p(cc.Label)],t.prototype,"lab_coin",void 0),i([p(cc.Node)],t.prototype,"node_coin",void 0),i([p(cc.Node)],t.prototype,"node_right",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Game":"Game"}],SignPanel:[function(e,t,o){"use strict";cc._RF.push(t,"afa26Yfza9Meq33t6u+pdxY","SignPanel");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../event/EventType"),c=e("../../Game"),s=e("../../View"),l=e("./SignItem"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items=[],t}return n(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.start=function(){c.Game.message.on(a.EventType.check_page,this.refresh.bind(this)),this.refresh()},t.prototype.refresh=function(){if(c.Game.sign_data)for(var e=0;e<c.Game.sign_data.length;e++)this.items[e].refresh(c.Game.sign_data[e])},t.prototype.check_in=function(){if(null!=c.Game.sign_data){for(var e=!1,t=0;t<c.Game.sign_data.length;t++){var o=c.Game.sign_data[t];if(0==o.checked&&1==o.state){e=!0;break}}e?c.Game.notify.request.check_in():s.default.tooltip.show("\u4eca\u5929\u5df2\u7ecf\u7b7e\u5230\u9886\u53d6")}else s.default.tooltip.show("\u6570\u636e\u5f02\u5e38")},t.prototype.reset=function(){for(var e=0;e<this.items.length;e++)this.items[e].refreshDay(e+1),this.items[e].reset()},t.prototype.close=function(){this.node.active=!1},t.prototype.show=function(){this.node.active=!0,c.Game.sign_data||c.Game.notify.request.check_page()},i([d([l.default])],t.prototype,"items",void 0),i([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Game":"Game","../../View":"View","../../event/EventType":"EventType","./SignItem":"SignItem"}],Simulator:[function(e,t,o){"use strict";cc._RF.push(t,"47787NS7LNMIqNzrpyjO8j5","Simulator"),Object.defineProperty(o,"__esModule",{value:!0});var r=e("./data/Room"),n=e("./event/EventType"),i=e("./Game"),a=e("./Core"),c=e("./Utils"),s=function(){function e(){this.sid_list=["923add91883548f782dc0a4278e24152","c9f788c62d0347c89b4ed7260af4f102","50e246eba4494e829de420cd6f717b83","c6b0807fb815427084b545cca240cc44","c19b12b277ee4acc8b3a7c10af05a079","bf359ab7b04a46b49ebbe7b5c7e0aed7","c3d5f6f78dfe48ac98e3b2d72158b647","16787facc4ef417faaa879d98496e0ae","a63feb9aa02d431e929f81535e6200bb","0556e418207d46b7899b432bb35d5131","8bf46c39a6ca4a3aa94bae1335fb2c8e","27aaaa770056496ab5bef68e00c18545","6cbf2393f92944f385376d832904feb6","b8d4820dba80477d9d475a36828a20d8","53c3bc36d29d4b189891c1b4bb2edd19","1d0568aefcb94cf7aa90036de6416060","4fcd040779844fcaa6eeecc3d8d0b912","23d2b0e9fb114402a7c4128e0a361858","a8971477a8e8414ea5c8fdaafdc08533","b22d388e8a84449d9c710089e55d1e3e","12433e084d1c47a7897b5456421dc373","79815a30c9984e96ba023e50698f1c36","affce5849ce440c48bb737696733d4a4","ee3707cd629347abbe188564df1e30d4","8e25bf0cf6e444fe86f35521a7aa9427","4b454ebc0ec04fa88a0cb6fca0e5d3f7","53bb703944b94466bda812d1dab3eb18","6a153160a8884d138049820370c058c4","02dc1bb93d6f42d3a1b0d8e1844e3df1","6f62b4d17f3941f4a619038b64f1fcbc","04b104be9c7040e59236c7fa1bf18c68","6a559dc769db4dc68a2a39b551c665dc"],this.isOpen=!1,this.double_time=null,this.select_landlord=null,this.player_actions=[],this.action_is_first=!0,this.last_playaction=null,this.landlord_index=-1,this.emit_interval=0,this.players=[{uid:this.sid_list[0],nick:"\u6d4b\u8bd5\u53f70",level:0,bean_coin:1e4,pokers:null,iden:2,index:0,bottom:100,times:1,award:0},{uid:this.sid_list[1],nick:"\u6d4b\u8bd5\u53f71",level:1,bean_coin:2e4,pokers:null,iden:2,index:1,bottom:100,times:1,award:0},{uid:this.sid_list[2],nick:"\u6d4b\u8bd5\u53f72",level:2,bean_coin:2e4,pokers:null,iden:2,index:2,bottom:100,times:1,award:0}]}return e.prototype.getAlphaSid=function(){var e=null;return c.default.getQueryString("sid")&&(e=this.sid_list[+c.default.getQueryString("sid")]),i.Game.simulate&&(e=this.sid_list[0]),e},e.prototype.setPokers=function(e,t){this.players[e].pokers=t},e.prototype.getPokers=function(e){return this.players[e].pokers},e.prototype.connect=function(){var e=this;cc.log("connect simulator"),setTimeout(function(){e.isOpen=!0,i.Game.message.emit(n.EventType.socket_connect_success)},1e3)},e.prototype.emit=function(e,t,o){var a=this;void 0===t&&(t=null),void 0===o&&(o=100);var c=null,s=o,l=null,p=!0;switch(e){case"init_player":c={bottom:100,user:this.players[0]};break;case"enter_game":this.reset(),c={players:this.players},s=0;break;case"ready_game":e=n.EventType.start_game,this.turn_index=3*Math.random()^0,c={landlord_index:this.turn_index,bottom:this.double_time.bottom,times:this.double_time.times},this.createPokers(),this.refresh_cards_count(),l=this.autoSelectLandlord;break;case"get_cards":3==t.player_index?(e=n.EventType.get_bottom_cards,c={cards:r.room.dipai_pokers}):(e=n.EventType.get_hand_cards,c={cards:this.getPokers(t.player_index)});break;case"grab_landlord":p=!1,this.selectShow(t.score);break;case"double_time":p=!1,this.selectShow(t.double?r.Score.double:r.Score.nodouble);break;case"play_the_card":p=!1,this.play_the_card(t.pokers,t.is_out,t.cards_type);break;case"back_hall":cc.log("\u91cd\u7f6e\u670d\u52a1\u5668"),this.reset(),c={bean_coin:this.players[0].bean_coin,nick:this.players[0].nick,uid:this.players[0].uid}}p&&(this.emit_interval=setTimeout(function(){t={cat:e,data:c},console.log("[on message:"+t.cat+"]\n",t.data),i.Game.notify.response(t),null!=l&&l.call(a)},s))},e.prototype.createPokers=function(){for(var e=[],t=1;t<=54;t++)e.push(t);e.sort(function(){return.5-Math.random()}),this.setPokers(0,e.slice(0,17)),this.setPokers(1,e.slice(17,34)),this.setPokers(2,e.slice(34,51)),r.room.dipai_pokers=e.slice(51,54)},e.prototype.selectShow=function(e){clearTimeout(this.select_landlord.interval);var t=this.turn_index,o={cat:n.EventType.grab_landlord,data:{player_index:t,show:e}};if(console.log("[on message:"+o.cat+"]\n",o.data),i.Game.notify.response(o),-2!=e&&-4!=e||this.double(),-3==e||-4==e)return cc.log("\u52a0\u500d\u9009\u62e9\u5b8c\u6bd5"),void this.showPlayerAction(!0);this.turn(),this.select_landlord.selects.push({index:t,show:e}),e&&(this.select_landlord.show=e);var a={cat:n.EventType.grab_landlord_notice,data:{player_index:this.turn_index,show:this.select_landlord.show}},c=!1,s=!1;switch(this.select_landlord.time){case 2:cc.log("\u4e00\u8f6e\u9009\u62e9\u7ed3\u675f:",this.select_landlord.selects);for(var l=-1,p=0,u=this.select_landlord.selects;p<u.length;p++){var d=u[p];d.show>0&&(l=d.index),-2==d.show&&this.select_landlord.catch.push(d.index)}if(-1==l)return cc.log("\u5168\u90e8\u653e\u5f03"),this.reset(),void this.emit("ready_game");0==this.select_landlord.catch.length?(cc.log("\u9009\u5730\u4e3b\u7ed3\u675f",l),a.data.landlord_index=l,s=!0):(cc.log("\u8fdb\u5165\u7b2c\u4e8c\u8f6e\u62a2\u5730\u4e3b",l),a.data.player_index=l,this.turn_index=l,c=!0);break;case 3:a.data.landlord_index=-2==e?t:this.select_landlord.catch[this.select_landlord.catch.length*Math.random()^0],s=!0;break;default:c=!0}c&&(console.log("[on message:"+a.cat+"]\n",a.data),i.Game.notify.response(a),this.select_landlord.time++,this.autoSelectLandlord()),s&&(this.turn_index=a.data.player_index=a.data.landlord_index,this.setPokers(this.turn_index,this.getPokers(this.turn_index).concat(r.room.dipai_pokers)),this.players[this.turn_index].iden=1,console.log("[on message:"+a.cat+"]\n",a.data),i.Game.notify.response(a),this.select_landlord.show=-6,this.autoSelectLandlord())},e.prototype.autoSelectLandlord=function(){var e=this,t=10;0!=this.turn_index&&(t=3);var o=this.select_landlord.menu[this.select_landlord.show],r=o[0==this.turn_index?0:o.length*Math.random()^0];this.select_landlord.interval=setTimeout(function(){e.selectShow(r)},1e3*t)},e.prototype.turn=function(){this.turn_index=(this.turn_index+1)%3},e.prototype.showPlayerAction=function(e){void 0===e&&(e=!1),this.turn_index==this.last_playaction.index&&(this.action_is_first=!0,this.reset_last_playaction());var t={cat:"player_action",data:{is_first:this.action_is_first,player_index:this.turn_index,delay_clear:e}};console.log("[on message:"+t.cat+"]\n",t.data),i.Game.notify.response(t),this.delaySelectPlayerAction()},e.prototype.delaySelectPlayerAction=function(){var e=this,t=30;0!=this.turn_index&&(t=3),this.delay_playeraction_interval=setTimeout(function(){var t=null,o=!0,r=e.players[e.turn_index].pokers;e.action_is_first?(t=a.getAIFreeList(r),cc.log("\u81ea\u7531\u51fa\u724c pokers",t)):e.last_playaction.pais&&(o=!!(t=a.getAIList(r,e.last_playaction.pais)[0]));var n=0;t&&(n=a.paiTool.getCardPattern(t).type),e.play_the_card(t,o,n)},1e3*t)},e.prototype.play_the_card=function(e,t,o){if(this.action_is_first=!1,this.clearSelectPlayerAction(),t){this.last_playaction.pais=e,this.last_playaction.index=this.turn_index,this.updateHandPokers(this.turn_index,e);var r=a.paiTool.getCardPattern(e).type;r!=a.DDZ_POKER_TYPE.KING_BOMB&&r!=a.DDZ_POKER_TYPE.FOUR_BOMB||this.double()}var n={cat:"play_the_card",data:{cards_type:o,player_index:this.turn_index,pokers:e,is_out:t}};console.log("[on message:"+n.cat+"]\n",n.data),i.Game.notify.response(n),this.refresh_cards_count(),this.checkOver()?this.game_over():(this.turn(),this.showPlayerAction())},e.prototype.checkOver=function(){return 0==this.players[this.turn_index].pokers.length},e.prototype.game_over=function(){for(var e={},t=[],o=0;o<this.players.length;o++)e[this.players[o].iden]||(e[this.players[o].iden]=[]),e[this.players[o].iden].push(o),this.players[o].times=this.double_time.times,1==this.players[o].iden&&(this.players[o].times=2*this.double_time.times),this.players[o].award=this.players[o].bottom*this.players[o].times;if(~e[1].indexOf(this.turn_index))for(t=t.concat(e[1]),o=0;o<this.players.length;o++)2==this.players[o].iden&&(this.players[o].award*=-1),this.players[o].bean_coin+=this.players[o].award;if(~e[2].indexOf(this.turn_index))for(t=t.concat(e[2]),o=0;o<this.players.length;o++)1==this.players[o].iden&&(this.players[o].award*=-1),this.players[o].bean_coin+=this.players[o].award;var r={cat:"game_over",data:{landlord_index:this.landlord_index,winner_index:t,player_info:[this.players[0],this.players[1],this.players[2]]}};console.log("[on message:"+r.cat+"]\n",r.data),i.Game.notify.response(r)},e.prototype.clearSelectPlayerAction=function(){clearTimeout(this.delay_playeraction_interval)},e.prototype.updateHandPokers=function(e,t){for(var o=this.players[e].pokers,r=o.length-1;r>=0;r--)~t.indexOf(o[r])&&o.splice(r,1)},e.prototype.refresh_cards_count=function(){var e={cat:"refresh_cards_count",data:{poker_num:[this.players[0].pokers.length,this.players[1].pokers.length,this.players[2].pokers.length]}};console.log("[on message:"+e.cat+"]\n",e.data),i.Game.notify.response(e)},e.prototype.double=function(){this.double_time.times*=2;var e={cat:"double_time",data:this.double_time};console.log("[on message:"+e.cat+"]\n",e.data),i.Game.notify.response(e)},e.prototype.reset=function(){this.clearSelectPlayerAction(),this.select_landlord&&clearTimeout(this.select_landlord.interval),clearTimeout(this.emit_interval),this.select_landlord={show:r.Score.nocall,menu:{"-1":[-1,-2],"-2":[-1,-2],"-6":[-3,-4],0:[0,1,2,3],1:[0,2,3],2:[0,3],3:[-1,-2]},interval:0,time:0,selects:[],catch:[]},this.double_time={bottom:100,times:1},this.action_is_first=!0,this.reset_last_playaction(),this.reset_players()},e.prototype.reset_players=function(){this.players[0].iden=2,this.players[1].iden=2,this.players[2].iden=2},e.prototype.reset_last_playaction=function(){this.last_playaction={pais:null,type:-1,index:-1}},e}();o.default=s,cc._RF.pop()},{"./Core":"Core","./Game":"Game","./Utils":"Utils","./data/Room":"Room","./event/EventType":"EventType"}],SocketCenter:[function(e,t,o){"use strict";cc._RF.push(t,"43347xIGMpOlZKsJJAIKqsD","SocketCenter");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../event/EventType"),i=e("../Game"),a=e("../View"),c=cc._decorator,s=c.ccclass,l=(c.property,function(){function e(){}return e.prototype.connect=function(){var e=this;i.Game.simulate?i.Game.simulator.connect():this.isopen||(console.log("connect server :",i.Game.server),this.ws=new WebSocket(i.Game.server),this.ws.onopen=function(){console.log("socket onopen",e.ws.url),i.Game.message.emit(n.EventType.socket_connect_success),e.ping()},this.ws.onmessage=function(e){var t;try{t=JSON.parse(e.data),console.log("[on message:"+t.cat+"]\n",t.data)}catch(o){t=e.data,console.log("[on message:"+t+"]\n")}"object"==typeof t&&i.Game.notify.response(t)},this.ws.onclose=function(t){console.log("socket onclose",t),a.default.tooltip.show("\u670d\u52a1\u5668\u8fde\u63a5\u65ad\u5f00"),i.Game.message.emit(n.EventType.socket_connect_close),e.stop_ping()},this.ws.onerror=function(t){console.log("socket onerror",t),e.stop_ping()})},e.prototype.emit=function(e,t){if(void 0===t&&(t=null),this.isopen||i.Game.simulator.isOpen){if(console.log("[emit message:"+e+"]\n",t),i.Game.simulate)return void i.Game.simulator.emit(e,t);this.ws.send(JSON.stringify({cat:e,data:t}))}else console.log("\u670d\u52a1\u5668\u672a\u5efa\u7acb\u8fde\u63a5")},Object.defineProperty(e.prototype,"isopen",{get:function(){return i.Game.simulate?i.Game.simulator.isOpen:this.ws&&this.ws.readyState==WebSocket.OPEN},enumerable:!1,configurable:!0}),e.prototype.close=function(){this.ws.close()},e.prototype.ping=function(){i.Game.notify.request.ping(),this.ping_interval=setInterval(function(){i.Game.notify.request.ping()},3e4)},e.prototype.stop_ping=function(){clearInterval(this.ping_interval)},r([s],e)}());o.default=l,cc._RF.pop()},{"../Game":"Game","../View":"View","../event/EventType":"EventType"}],Tooltip:[function(e,t,o){"use strict";cc._RF.push(t,"125f8Vym3FDf7/6XSXiixXF","Tooltip");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_tip=null,t}return n(t,e),t.prototype.show=function(e){var t=this;this.clear(),this.node.active=!0,this.lab_tip.string=e,this.interval=setTimeout(function(){t.clear()},1500)},t.prototype.clear=function(){clearTimeout(this.interval),this.lab_tip.string="",this.node.active=!1},i([s(cc.Label)],t.prototype,"lab_tip",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],TopPlayerView:[function(e,t,o){"use strict";cc._RF.push(t,"ddeb1VThbRJxrdtvq2O/Hd5","TopPlayerView");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_name=null,t.lab_coin=null,t}return n(t,e),t.prototype.onLoad=function(){this.lab_name.string=""},t.prototype.udpate_left_name=function(){},t.prototype.udpate_right_name=function(){},i([s(cc.Label)],t.prototype,"lab_name",void 0),i([s(cc.Label)],t.prototype,"lab_coin",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],TopScoreView:[function(e,t,o){"use strict";cc._RF.push(t,"4014a7G/I5KtpHrbR7tVw18","TopScoreView");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_base=null,t.lab_double=null,t}return n(t,e),t.prototype.refreshBottom=function(e){this.lab_base.string=""+e},t.prototype.refreshTimes=function(e){this.lab_double.string=""+e},t.prototype.show=function(e,t){this.node.active=!0,this.refreshBottom(e),this.refreshTimes(t)},t.prototype.clear=function(){this.node.active=!1,this.refreshBottom(0),this.refreshTimes(0)},i([s(cc.Label)],t.prototype,"lab_base",void 0),i([s(cc.Label)],t.prototype,"lab_double",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"29a70bfz2FEuJAbmBXy1hJC","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.formatStrLength=function(e,t){void 0===t&&(t=8);for(var o=0,r=e,n=0;n<e.length;n++)if(null!=e.charAt(n).match(/[^\x00-\xff]/gi)?o+=2:o+=1,o>t){r=e.substring(0,n)+"...";break}return r},e.formatLongNumber=function(e){return e>99999999?(e/1e8^0)+"\u4ebf":e>9999999?(e/1e4^0)+"\u4e07":e<-999999?(e/1e4^0)+"\u4e07":e<-9999999?(e/1e8^0)+"\u4ebf":e+""},e.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(t);return null!=o?unescape(o[2]):null},e.loadScript=function(e,t){var o=document.createElement("script");o.async=!0,o.src=e,o.addEventListener("load",function e(){document.body.removeChild(o),o.removeEventListener("load",e,!1),t&&t()},!1),document.body.appendChild(o)},e}();o.default=r,cc._RF.pop()},{}],View:[function(e,t,o){"use strict";cc._RF.push(t,"46a75SPMgxCYp6SfQ7oO56F","View"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}]},{},["Core","Game","Interface","Pool","Preloading","Scene_Hall","Scene_Preload","Scene_Zone","Simulator","Tooltip","Utils","View","AudioCenter","EffectCenter","Message","NotifyCenter","ResourceCenter","SocketCenter","Player","PokerData","Room","ColorAssembler2D","EventType","Menu","Canvas_Fit","CountDown","LimitClick","ActionTip","Clock ","DipaiShower","DrawRoundRectBG","Head","Matching","OwnHandContainer","PlayerShower","PokerPlus","PokerShower","SceneBG","TopPlayerView","TopScoreView","RechargeItem","RechargePanel","RechargeTipUI","ResultItem","ResultPanel","SignItem","SignPanel"]);