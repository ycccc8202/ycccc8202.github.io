window.__require=function e(t,o,r){function n(a,c){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};t[a][0].call(p.exports,function(e){return n(t[a][1][e]||e)},p,p.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)n(r[a]);return n}({ActionTip:[function(e,t,o){"use strict";cc._RF.push(t,"69b84NVMnNGI7MqdH+DCctd","ActionTip");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../data/Room"),c=e("../Game"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.score=null,t}return n(t,e),t.prototype.updateTip=function(e){switch(e){case a.Score.nocall:this.sprite.spriteFrame=c.Game.resource.getCacheSpriteFrame("tip_nocall"),this.score.string="";break;case a.Score.score_1:this.sprite.spriteFrame=null,this.score.string="1\u5206";break;case a.Score.score_2:this.sprite.spriteFrame=null,this.score.string="2\u5206";break;case a.Score.score_3:this.sprite.spriteFrame=null,this.score.string="3\u5206";break;case a.Score.nocatch:this.sprite.spriteFrame=c.Game.resource.getCacheSpriteFrame("tip_nocatch"),this.score.string="";break;case a.Score.catch:this.sprite.spriteFrame=c.Game.resource.getCacheSpriteFrame("tip_catch"),this.score.string="";break;case a.Score.nodouble:this.sprite.spriteFrame=c.Game.resource.getCacheSpriteFrame("tip_nodouble"),this.score.string="";break;case a.Score.double:this.sprite.spriteFrame=c.Game.resource.getCacheSpriteFrame("tip_double"),this.score.string="";break;case a.Score.pass:this.sprite.spriteFrame=c.Game.resource.getCacheSpriteFrame("tip_pass"),this.score.string="";break;case a.Score.waitfor_catch:this.sprite.spriteFrame=c.Game.resource.getCacheSpriteFrame("tip_waitfor_catch"),this.score.string=""}},i([p(cc.Sprite)],t.prototype,"sprite",void 0),i([p(cc.Label)],t.prototype,"score",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game","../data/Room":"Room"}],Canvas_Fit:[function(e,t,o){"use strict";cc._RF.push(t,"b9d31R5GfNNbKDt1KewyzM0","Canvas_Fit");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas").getComponent(cc.Canvas),t=e.designResolution.width/e.designResolution.height;cc.view.getFrameSize().width/cc.view.getFrameSize().height>t?e.fitHeight=!0:e.fitWidth=!0},i([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],Clock:[function(e,t,o){"use strict";cc._RF.push(t,"81a0dyMlfdKnrSJuywkSDIW","Clock");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.running=!1,t}return n(t,e),t.prototype.play=function(e,t){void 0===t&&(t=null),this.time=e,this.startTime=e,this.callback=t,this.label.string=""+this.time,this.running=!0},t.prototype.update=function(e){this.running&&(this.startTime-=e,this.startTime<=-.5?(this.time=0,this.complete()):this.time=Math.ceil(this.startTime),this.label.string=""+this.time)},t.prototype.complete=function(){this.stop(),this.callback&&this.callback()},t.prototype.stop=function(){this.running=!1},i([s(cc.Label)],t.prototype,"label",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ColorAssembler2D:[function(e,t,o){"use strict";cc._RF.push(t,"a926bHQHHZAHYP9WQzjWiF1","ColorAssembler2D");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,p=a.requireComponent,u=(a.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._colors=[],t}return n(t,e),Object.defineProperty(t.prototype,"colors",{get:function(){return this._colors},set:function(e){this._colors=e,this._updateColors()},enumerable:!1,configurable:!0}),t.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},t.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},t.prototype._updateColors=function(){var e=this.getComponent(cc.RenderComponent);if(e){var t=e._assembler;if(t instanceof cc.Assembler2D){var o=t._renderData.uintVDatas[0];if(o)for(var r=this.node.color,n=t.floatsPerVert,i=0,a=t.colorOffset,c=o.length;a<c;a+=n)o[a]=(this.colors[i++]||r)._val}}},i([s],t.prototype,"_colors",void 0),i([s({type:[cc.Color]})],t.prototype,"colors",null),i([c,l,p(cc.RenderComponent)],t)}(cc.Component));o.default=u,cc._RF.pop()},{}],Core:[function(e,t,o){"use strict";cc._RF.push(t,"5d0e6SFBPpGsJ0sCsFggMPc","Core"),Object.defineProperty(o,"__esModule",{value:!0}),o.getAIFreeList=o.getAIList=o.paiTool=o.config=o.DDZ_POKER_TYPE=void 0;var r,n=e("./data/PokerData"),i=e("./data/Room");function a(e,t){console.time("find:");var n=o.paiTool.getCardPattern(t);if(n.type==r.KING_BOMB)return[];o.paiTool.sortDescending(e);var i=o.paiTool.getCountPais_1_4(e),a=[];switch(n.type){case r.SINGLE:for(var c=o.config.getCard(t[0]).grade,s=0,l=e.length-1;l>=0;l--)(T=o.config.getCard(e[l]).grade)!=s&&(T>c&&a.push([e[l]]),s=T);for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.TWIN:for(c=o.config.getCard(t[0]).grade,s=0,l=e.length-1;l>=0;l--)s!=(T=o.config.getCard(e[l]).grade)&&T>c&&(e[l-1]&&o.config.getCard(e[l-1]).grade==T&&(a.push([e[l-1],e[l]]),l--),s=T);for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.TRIPLE:for(c=o.config.getCard(t[0]).grade,s=0,l=e.length-1;l>=0;l--)s!=(T=o.config.getCard(e[l]).grade)&&T>c&&(e[l-1]&&e[l-2]&&o.config.getCard(e[l-1]).grade==T&&o.config.getCard(e[l-2]).grade==T&&(a.push([e[l-2],e[l-1],e[l]]),l-=2),s=T);for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.FOUR_BOMB:for(c=o.config.getCard(t[0]).grade,l=0;l<i[4].length;l+=4)o.config.getCard(i[4][l]).grade>c&&a.push(i[4].slice(l,l+4));break;case r.TRIPLE_WITH_SINGLE:if(e.length<4)break;if(4==e.length&&4==i[4].length){a.push(i[4].concat());break}c=o.config.getCard(n.pais[0]).grade;var p=[];for(l=i[3].length-1;l>=0;l-=3)if((d=o.config.getCard(i[3][l]).grade)>c){var u=i[3].slice(l-2,l+1);p.push(u)}for(l=i[4].length-1;l>=0;l-=4)(d=o.config.getCard(i[4][l]).grade)>c&&(u=i[4].slice(l-2,l+1),p.push(u));if(p.length>0)for(l=0;l<p.length;l++)for(var d=o.config.getCard(p[l][0]).grade,h=0,f=e.length-1;f>=0;f--)(C=o.config.getCard(e[f]).grade)!=d&&C!=h&&(h=C,a.push(p[l].concat(e[f])));for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.TRIPLE_WITH_TWIN:if(e.length<4)break;if(e.length>4){for(c=o.config.getCard(n.pais[0]).grade,p=[],l=i[3].length-1;l>=0;l-=3)(d=o.config.getCard(i[3][l]).grade)>c&&(u=i[3].slice(l-2,l+1),p.push(u));for(l=i[4].length-1;l>=0;l-=4)(d=o.config.getCard(i[4][l]).grade)>c&&(u=i[4].slice(l-3,l),p.push(u));if(p.length>0)for(l=0;l<p.length;l++){d=o.config.getCard(p[l][0]).grade;for(var _=i[2].length-1;_>=0;_-=2)a.push(p[l].concat(i[2].slice(_-1,_+1)));for(_=i[3].length-1;_>=0;_-=3)o.config.getCard(i[3][_]).grade!=d&&a.push(p[l].concat(i[3].slice(_-2,_)));for(_=i[4].length-1;_>=0;_-=4)o.config.getCard(i[4][_]).grade!=d&&a.push(p[l].concat(i[4].slice(_-3,_-1)))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.STRAIGHT_SINGLE:if(e.length<4)break;var y=n.pais.length,g=(c=o.config.getCard(n.pais[0]).grade,[]);for(l=0;l<e.length-y;l++)if(!(17==(T=o.config.getCard(e[l]).grade)||16==T||15==T||T<=c||g[T])){g[T]=!0;var m=l+1,v=[e[l]];for(f=0;f<y-1&&!(m>=e.length);)if((w=o.config.getCard(e[m]).grade)!=T){if(T-w>1)break;T=w,v.push(e[m]),m++,f++}else m++;v.length==y&&a.push(v)}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.STRAIGHT_TWIN:if(e.length<4)break;if(e.length>=6){var b=n.pais.length/2,P=(c=o.config.getCard(n.pais[0]).grade,y=n.pais.length,[]);for(l=0;l<e.length-y;){var T=o.config.getCard(e[l]).grade,k=o.config.getCard(e[l+1]).grade;if(17==T||16==T||15==T||T<=c||P[T])l++;else if(T==k){for(P[T]=!0,m=l+2,v=[e[l],e[l+1]],f=0;f<b-1&&!(m>=e.length-1);){var w=o.config.getCard(e[m]).grade,R=o.config.getCard(e[m+1]).grade;if(T!=w){if(T-w>1||w!=R)break;T=w,v.push(e[m],e[m+1]),m+=2,f++}else m++}v.length==y&&a.push(v),l+=2}else l++}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.FOUR_WITH_SINGLE:if(e.length<4)break;if(e.length>5){var O=[];for(l=i[4].length-1;l>=0;l-=4)O.push(i[4].slice(l-3,l+1));if(O.length>0)for(l=0;l<O.length;l++){var S=o.config.getCard(O[l][0]).grade,G=(h=0,[]);for(f=e.length-1;f>=0;f--){var C;(C=o.config.getCard(e[f]).grade)!=S&&C!=h&&(h=C,G.push(e[f]))}if(G.length>0)for(_=0;_<G.length-1;_++)a.push(O[l].concat([G[_],G[_+1]]))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.FOUR_WITH_TWIN:if(e.length<4)break;if(e.length>7){for(O=[],l=i[4].length-1;l>=0;l-=4)O.push(i[4].slice(l-3,l+1));if(O.length>0)for(l=0;l<O.length;l++){S=o.config.getCard(O[l][0]).grade;var E=i[2].concat();for(f=i[3].length-1;f>=0;f-=3)E=E.concat([i[3][f-2],i[3][f-1]]);for(f=i[4].length-1;f>=0;f-=4)o.config.getCard(i[4][f]).grade!=S&&(E=E.concat([i[4][f-3],i[4][f-2],i[4][f-1],i[4][f]]));if(E.length>0)for(_=0;_<E.length-3;_+=2)a.push(O[l].concat([E[_],E[_+1],E[_+2],E[_+3]]))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.PLANE_WITH_SINGLE:if(e.length<4)break;if(e.length>=8){var I=n.pais.length/4,F=[];for(h=void 0,l=e.length-1;l>=2;)(T=o.config.getCard(e[l]).grade)==o.config.getCard(e[l-1]).grade&&T==o.config.getCard(e[l-2]).grade?(h&&T-h==1?F[F.length-1].push(e[l],e[l-1],e[l-2]):F.push([e[l],e[l-1],e[l-2]]),h=T,l-=3):(T!=h&&(h=null),l--);var j=[];for(l=0;l<F.length;l++)if((D=(L=F[l]).length/3)==I&&j.push(L),D>I)for(f=0;f<L.length-I-1;f+=3)j.push(L.slice(f,f+3*I));for(l=0;l<j.length;l++){var x=[];for(f=0;f<j[l].length;f+=3)x.push(o.config.getCard(j[l][f]).grade);for(G=i[1].concat(),f=i[2].length-1;f>=0;f-=2)G.unshift(i[2][f]);for(f=i[3].length-1;f>=0;f-=3){var N=o.config.getCard(i[3][f]).grade;-1==x.indexOf(N)&&G.unshift(i[3][f])}for(f=i[4].length-1;f>=0;f-=4)G.unshift(i[4][f]);for(f=0;f<G.length-I+1;f++)a.push(j[l].concat(G.slice(f,f+I)))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1));break;case r.PLANE_WITH_TWIN:if(e.length<4)break;if(e.length>=10){for(I=n.pais.length/5,F=[],h=void 0,l=e.length-1;l>=2;)(T=o.config.getCard(e[l]).grade)==o.config.getCard(e[l-1]).grade&&T==o.config.getCard(e[l-2]).grade?(h&&T-h==1?F[F.length-1].push(e[l],e[l-1],e[l-2]):F.push([e[l],e[l-1],e[l-2]]),h=T,l-=3):(T!=h&&(h=null),l--);for(j=[],l=0;l<F.length;l++){var L,D;if((D=(L=F[l]).length/3)==I&&j.push(L),D>I)for(f=0;f<L.length-I-1;f+=3)j.push(L.slice(f,f+3*I))}for(l=0;l<j.length;l++){var A=[];for(f=0;f<j[l].length;f+=3)A.push(o.config.getCard(j[l][f]).grade);for(E=[],E=i[2].concat(),f=i[3].length-1;f>=0;f-=3)N=o.config.getCard(i[3][f]).grade,-1==A.indexOf(N)&&E.unshift(i[3][f-2],i[3][f-1]);for(f=i[4].length-1;f>=0;f-=4)N=o.config.getCard(i[4][f]).grade,-1==A.indexOf(N)&&E.unshift(i[4][f-3],i[4][f-2]);for(f=E.length-2*I;f>=0;f-=2)a.push(j[l].concat(E.slice(f,f+2*I)))}}for(l=i[4].length-1;l>=0;l-=4)a.push(i[4].slice(l-3,l+1))}return 54==e[0]&&53==e[1]&&a.push([54,53]),console.timeEnd("find:"),cc.log("-------\u67e5\u627e\u7b26\u5408\u6761\u4ef6\u7684\u724c\u578b\u5217\u8868:\n",a),a}(function(e){e[e.DDZ_PASS=0]="DDZ_PASS",e[e.SINGLE=1]="SINGLE",e[e.TWIN=2]="TWIN",e[e.TRIPLE=3]="TRIPLE",e[e.TRIPLE_WITH_SINGLE=4]="TRIPLE_WITH_SINGLE",e[e.TRIPLE_WITH_TWIN=5]="TRIPLE_WITH_TWIN",e[e.STRAIGHT_SINGLE=6]="STRAIGHT_SINGLE",e[e.STRAIGHT_TWIN=7]="STRAIGHT_TWIN",e[e.PLANE_PURE=8]="PLANE_PURE",e[e.PLANE_WITH_SINGLE=9]="PLANE_WITH_SINGLE",e[e.PLANE_WITH_TWIN=10]="PLANE_WITH_TWIN",e[e.FOUR_WITH_SINGLE=11]="FOUR_WITH_SINGLE",e[e.FOUR_WITH_TWIN=12]="FOUR_WITH_TWIN",e[e.FOUR_BOMB=13]="FOUR_BOMB",e[e.KING_BOMB=14]="KING_BOMB"})(r=o.DDZ_POKER_TYPE||(o.DDZ_POKER_TYPE={})),o.config={move_dis:30,cards:[],initMap:function(){for(var e=0;e<=54;e++){var t=new n.default(e);o.config.cards[e]=t}},getCard:function(e){return this.cards[e]},getSpriteFrames:function(e){for(var t=[],o=0,r=e;o<r.length;o++){var n=r[o],i=this.getCard(n);t.push(i.spriteFrame)}return t}},o.paiTool={sortAscending:function(e){e.sort(function(e,t){return o.config.getCard(e).sort-o.config.getCard(t).sort})},sortDescending:function(e){e.sort(function(e,t){return o.config.getCard(t).sort-o.config.getCard(e).sort})},checkPush:function(){return i.room.last_pokers.length&&(i.room.ailist=a(i.room.ownPlayer.pokers,i.room.last_pokers)),i.room.ai_index=0,i.room.ailist.length>0},getCountPais_1_4:function(e){for(var t=[null,[],[],[],[]],r=1,n=0;n<e.length;n+=r){for(var i=1,a=o.config.getCard(e[n]),c=[a.card],s=n+1;s<e.length;s++){var l=o.config.getCard(e[s]);if(a.grade!=l.grade)break;i++,c.push(l.card)}if(r=i,i>4)return null;t[i]=t[i].concat(c)}return cc.log("[\u6253\u5370\u6570\u91cf\u5217\u8868========= start]"),cc.log(e),cc.log(t),cc.log("[\u6253\u5370\u6570\u91cf\u5217\u8868========= end]"),t},getCardPattern:function(e){var t={type:r.DDZ_PASS,pais:[]};if(!e||0==e.length)return t;this.sortDescending(e),cc.log("[\u539f\u59cb\u724c\u6392\u5e8f:================= start]"),cc.log("poker:",e),cc.log("poker_grade:",this.paisToGrades(e)),cc.log("[\u539f\u59cb\u724c\u6392\u5e8f:================= end]");var o=this.getCountPais_1_4(e);if(o){switch(e.length){case 1:t={type:r.SINGLE,pais:e};break;case 2:2==o[2].length&&(t={type:r.TWIN,pais:o[2]}),54==o[1][0]&&53==o[1][1]&&(t={type:r.KING_BOMB,pais:o[1]});break;case 3:3==o[3].length&&(t={type:r.TRIPLE,pais:o[3]});break;case 4:4==o[4].length&&(t={type:r.FOUR_BOMB,pais:o[4]}),3==o[3].length&&(t={type:r.TRIPLE_WITH_SINGLE,pais:o[3].concat(o[1])});break;case 5:if(3==o[3].length&&2==o[2].length)t={type:r.TRIPLE_WITH_TWIN,pais:o[3].concat(o[2])};else{var n=this.isStraightSingle(o,e);n&&(t={type:r.STRAIGHT_SINGLE,pais:n})}break;default:var i=this.isStraightSingle(o,e);if(i){t={type:r.STRAIGHT_SINGLE,pais:i};break}if(i=this.isStraightTwin(o,e)){t={type:r.STRAIGHT_TWIN,pais:i};break}if(i=this.isFourWithSingle(o,e)){t={type:r.FOUR_WITH_SINGLE,pais:i};break}if(i=this.isFourWithTwin(o,e)){t={type:r.FOUR_WITH_TWIN,pais:i};break}if(i=this.isPlane(o,e)){t={type:r.PLANE_PURE,pais:i};break}if(i=this.isPlaneWithSingleWing(o,e)){t={type:r.PLANE_WITH_SINGLE,pais:i};break}if(i=this.isPlaneWithDoubleWing(o,e)){t={type:r.PLANE_WITH_TWIN,pais:i};break}}return cc.log("[\u724c\u578b:=====================> start]"),cc.log(r[t.type]),cc.log(t.pais),cc.log(this.paisToGrades(t.pais)),cc.log("[\u724c\u578b:=====================> end]"),t}cc.log("\u6709\u76f8\u540c\u724c\u957f\u5ea6\u8d854!")},isStraightSingle:function(e,t){var r=e[1];return r.length!=t.length||16==o.config.getCard(r[0]).grade||17==o.config.getCard(r[0]).grade||15==o.config.getCard(r[0]).grade?null:o.config.getCard(r[0]).grade-o.config.getCard(r[t.length-1]).grade==t.length-1?t:null},isStraightTwin:function(e,t){return 0==e[2].length||e[2].length!=t.length||15==o.config.getCard(e[2][0]).grade?null:o.config.getCard(e[2][0]).grade-o.config.getCard(e[2][t.length-1]).grade==t.length/2-1?t:null},isPlane:function(e,t){cc.log("[\u98de\u673a\u4e0d\u5e26\u68c0\u6d4b========> start]");var r=e[3];if(0==r.length||15==o.config.getCard(r[0]).grade)return null;if(r.length==t.length&&o.config.getCard(r[0]).grade-o.config.getCard(r[r.length-1]).grade==t.length/3-1){var n=r.concat();return n.reverse(),cc.log(n),cc.log(this.paisToGrades(n)),cc.log("[\u98de\u673a\u4e0d\u5e26\u68c0\u6d4b \u6210\u529f ========> end]"),n}return cc.log("[\u98de\u673a\u4e0d\u5e26\u68c0\u6d4b \u5931\u8d25 ========> end]"),null},isPlaneWithSingleWing:function(e,t){cc.log(" ---- \u98de\u673a\u5e26\u5355\u724c\u7fc5\u8180\u68c0\u6d4b -----"),cc.log("\u5f85\u68c0\u6d4b\u724c\u5e8f\u5217:",t);var r={8:2,12:3,16:4,20:5}[t.length];if(!r)return cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5931\u8d25 , \u957f\u5ea6\u4e0d\u6ee1\u8db3 \u98de\u673a\u5e26\u5355 \u6761\u4ef6"),null;var n=[];if(e[3].length>0)for(var i=0;i<e[3].length;i+=3)15!=(h=o.config.getCard(e[3][i]).grade)&&n.push(h);if(e[4].length>0)for(i=0;i<e[4].length;i+=4)15!=(h=o.config.getCard(e[4][i]).grade)&&n.push(h);if(n.length<r)return cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5931\u8d25,\u4e09\u5f20\u724c\u7684grade\u5217\u8868\u957f\u5ea6\u4e0d\u7b26\u5408",r,n.length),null;n.sort(function(e,t){return t-e}),cc.log("\u4e09\u5f20\u724c\u7684grade\u5217\u8868:: -> ",n);for(var a=-1,c=[],s=!1,l=0,p=n;l<p.length;l++){if(a-(h=p[l])!=1)c=[h];else if(c.push(h),c.length==r){s=!0;break}a=h}if(!s)return cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5931\u8d25,\u6ca1\u6709\u627e\u5230\u7b26\u5408\u957f\u5ea6\u7684\u8fde\u7eed\u724c"),null;cc.log("\u7b26\u5408\u6761\u4ef6\u7684\u8fde\u7eed\u5e8f\u5217\uff1a",c);var u=[],d=t.concat();for(i=0;i<d.length;){var h;(h=o.config.getCard(d[i]).grade)==c[0]?(u.push(d[i],d[i+1],d[i+2]),d.splice(i,3),c.shift()):i++}return cc.log("threePlane-\u98de\u673a :> ",u),cc.log("threeWing- \u7fc5\u8180 :> ",d),cc.log("---- \u98de\u673a\u5e26\u5355\u68c0\u6d4b\u5b8c\u6bd5 -----"),u.concat(d)},isPlaneWithDoubleWing:function(e,t){cc.log(" ---- \u98de\u673a\u5e26\u53cc\u724c\u7fc5\u8180\u68c0\u6d4b -----"),cc.log("\u5f85\u68c0\u6d4b\u724c\u5e8f\u5217:",t);var r={10:2,15:3,20:4}[t.length];if(!r)return cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25 , \u957f\u5ea6"+t.length+"\u4e0d\u6ee1\u8db3 \u98de\u673a\u5e26\u53cc \u6761\u4ef6"),null;var n=[];if(e[3].length>0)for(var i=0;i<e[3].length;i+=3)15!=(h=o.config.getCard(e[3][i]).grade)&&n.push(h);if(n.length<r)return cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25,\u4e09\u5f20\u724c\u7684grade\u5217\u8868\u957f\u5ea6\u4e0d\u7b26\u5408",r,n.length),null;n.sort(function(e,t){return t-e}),cc.log("\u4e09\u5f20\u724c\u7684grade\u5217\u8868:: -> ",n);for(var a=-1,c=[],s=!1,l=0,p=n;l<p.length;l++){if(a-(h=p[l])!=1)c=[h];else if(c.push(h),c.length==r){s=!0;break}a=h}if(!s)return cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25,\u6ca1\u6709\u627e\u5230\u7b26\u5408\u957f\u5ea6\u7684\u8fde\u7eed\u724c"),null;cc.log("\u7b26\u5408\u6761\u4ef6\u7684\u8fde\u7eed\u5e8f\u5217\uff1a",c);var u=[],d=t.concat();for(i=0;i<d.length;){var h;(h=o.config.getCard(d[i]).grade)==c[0]?(u.push(d[i],d[i+1],d[i+2]),d.splice(i,3),c.shift()):i++}cc.log("threePlane-\u98de\u673a :> ",u),cc.log("threeWing- \u7fc5\u8180 :> ",d);var f=!0;for(i=0;i<d.length;i+=2)if(o.config.getCard(d[i]).grade!=o.config.getCard(d[i+1]).grade){f=!1;break}return f?(cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5b8c\u6bd5 -----"),u.concat(d)):(cc.log("---- \u98de\u673a\u5e26\u53cc\u68c0\u6d4b\u5931\u8d25,\u7fc5\u8180\u4e0d\u662f\u5168\u5bf9\u5b50"),null)},isFourWithSingle:function(e,t){return 6==t.length&&4==e[4].length?e[4].concat(e[1]).concat(e[2]):null},isFourWithTwin:function(e,t){if(8==t.length){if(4==e[4].length&&4==e[2].length)return e[4].concat(e[2]);if(8==e[4].length)return e[4]}return null},paisToGrades:function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];t.push(o.config.getCard(i).grade)}return t},compare:function(e,t){if(e.type==r.DDZ_PASS||t.type==r.DDZ_PASS)return null;if(e.type==t.type&&e.pais.length==t.pais.length){var n=o.config.getCard(e.pais[0]).grade,i=o.config.getCard(t.pais[0]).grade;return n==i?null:n>i?e:t}return e.type==r.KING_BOMB?e:t.type==r.KING_BOMB?t:e.type==r.FOUR_BOMB?e:t.type==r.FOUR_BOMB?t:null}},o.getAIList=a,o.getAIFreeList=function(e){o.paiTool.sortDescending(e);for(var t=o.paiTool.getCountPais_1_4(e),n=[r.STRAIGHT_TWIN,r.STRAIGHT_SINGLE,r.TRIPLE_WITH_SINGLE,r.TRIPLE_WITH_TWIN,r.TWIN,r.KING_BOMB,r.SINGLE],i=null,a=0;a<n.length;a++){var c=void 0,s=[];switch(n[a]){case r.STRAIGHT_TWIN:if(cc.log("find STRAIGHT_TWIN ...."),e.length<6)break;c=-1;for(var l=0;l<e.length-5;l++){var p=o.config.getCard(e[l]).grade,u=o.config.getCard(e[l+1]).grade;if(16!=p&&17!=p&&15!=p&&p==u&&p!=c){c=p;for(var d=l+2,h=p,f=[e[l],e[l+1]];d<e.length-1;){var _=o.config.getCard(e[d]).grade;if(_!=h){var y=o.config.getCard(e[d+1]).grade;if(_+1!=h||_!=y)break;h=_,f.push(e[d],e[d+1]),d+=2}else d++}f.length>=6&&(cc.log("\u5165\u5217:",f),s.push(f))}}break;case r.STRAIGHT_SINGLE:if(cc.log("find STRAIGHT_SINGLE ...."),e.length<5)break;for(c=-1,l=0;l<e.length-4;l++)if(16!=(v=o.config.getCard(e[l]).grade)&&17!=v&&15!=v&&c!=v){for(c=v,d=l+1,f=[e[l]],h=v;d<e.length;)if(h!=(p=o.config.getCard(e[d]).grade)){if(p+1!=h)break;f.push(e[d]),h=p,d++}else d++;f.length>=5&&(cc.log("\u5165\u5217:",f),s.push(f))}break;case r.TRIPLE_WITH_SINGLE:if(cc.log("find TRIPLE_WITH_SINGLE ...."),e.length<4)break;if(t[3].length){var g=t[3].slice(-3);if(t[1].length){var m=t[1][t[1].length-1];(4==e.length||5==e.length||o.config.getCard(g[0]).grade<14&&o.config.getCard(m).grade<14)&&(g.push(m),cc.log("\u5165\u5217:",g),s.push(g))}}break;case r.TRIPLE_WITH_TWIN:if(cc.log("find TRIPLE_WITH_TWIN ...."),e.length<5)break;t[3].length&&(g=t[3].slice(-3),t[2].length&&(m=t[2].slice(-2),(5==e.length||6==e.length||o.config.getCard(g[0]).grade<14&&o.config.getCard(m[0]).grade<14)&&(g=g.concat(m),cc.log("\u5165\u5217:",g),s.push(g))));break;case r.TWIN:if(cc.log("find TWIN ...."),e.length<2)break;for(c=-1,l=0;l<e.length-1;l++){var v;16!=(v=o.config.getCard(e[l]).grade)&&17!=v&&v!=c&&(c=v,p=o.config.getCard(e[l+1]).grade,f=[e[l]],v==p&&(f.push(e[l+1]),cc.log("\u5165\u5217:",f),s.push(f)))}break;case r.KING_BOMB:cc.log("find KING_BOMB ...."),(2==e.length||3==e.length)&&(p=o.config.getCard(e[0]).grade,u=o.config.getCard(e[1]).grade,17==p&&16==u&&(cc.log("\u5165\u5217:",[e[0],e[1]]),s.push([e[0],e[1]])));break;case r.SINGLE:cc.log("find STRAIGHT_SINGLE ...."),cc.log("\u5165\u5217:",e[e.length-1]),s.push([e[e.length-1]])}s.length&&!i&&(i=s[s.length-1])}return cc.log("-----------\u67e5\u627e\u4f18\u5148\u51fa\u724c\u7ed3\u675f-------------"),i},cc._RF.pop()},{"./data/PokerData":"PokerData","./data/Room":"Room"}],DipaiShower:[function(e,t,o){"use strict";cc._RF.push(t,"2442c4y5cxBBJyWpkOQFNf2","DipaiShower");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./PokerPlus"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.poker_1=null,t.poker_2=null,t.poker_3=null,t}return n(t,e),t.prototype.updatePais=function(e){this.poker_1.face(e[0]),this.poker_2.face(e[1]),this.poker_3.face(e[2])},t.prototype.reset=function(){this.poker_1.face(0),this.poker_2.face(0),this.poker_3.face(0)},t.prototype.show=function(){this.node.active=!0},t.prototype.hide=function(){this.reset(),this.node.active=!1},i([l(a.default)],t.prototype,"poker_1",void 0),i([l(a.default)],t.prototype,"poker_2",void 0),i([l(a.default)],t.prototype,"poker_3",void 0),i([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./PokerPlus":"PokerPlus"}],DrawRoundRectBG:[function(e,t,o){"use strict";cc._RF.push(t,"a3ee4qBaE9MQJvo7FSQRfTb","DrawRoundRectBG");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.g=null,t}return n(t,e),t.prototype.start=function(){this.g.roundRect(0,-20,120,40,10),this.g.fill()},i([s(cc.Graphics)],t.prototype,"g",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],EventType:[function(e,t,o){"use strict";cc._RF.push(t,"498296ArdlL9p2/KvpsC1DK","EventType");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EventType=void 0;var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){}return e.socket_connect_success="socket_connect_success",e.socket_connect_close="socket_connect_close",e.test="test",e.back_hall="back_hall",e.init_player="init_player",e.enter_game="enter_game",e.ready_game="ready_game",e.get_room_data="get_room_data",e.start_game="start_game",e.grab_landlord="grab_landlord",e.grab_landlord_notice="grab_landlord_notice",e.double_time="double_time",e.refresh_cards_count="refresh_cards_count",e.get_bottom_cards="get_bottom_cards",e.get_hand_cards="get_hand_cards",e.no_card="no_card",e.player_action="player_action",e.play_the_card="play_the_card",e.game_over="game_over",e.check_page="check_page",e.deposit_page="deposit_page",e.deposit_coin="deposit_coin",e.bean_coin="bean_coin",e.check_in="check_in",e.get_cards="get_cards",e.deposit_select="deposit_select",e.set_landlord="set_landlord",r([i],e)}());o.EventType=a,cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"2de4doU67ZDdZrDc2hE+g0F","Game");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Game=o.GameScene=void 0;var n,i=e("./center/Message"),a=e("./center/NotifyCenter"),c=e("./center/ResourceCenter"),s=e("./center/SocketCenter");(function(e){e[e.hall=0]="hall",e[e.zone=1]="zone"})(n=o.GameScene||(o.GameScene={}));var l=cc._decorator,p=l.ccclass,u=(l.property,function(){function e(){}return e.useTestSid=!0,e.local_server="ws://192.168.31.220:8765",e.server="ws://152.136.224.190:8765",e.socket=new s.default,e.notify=new a.default,e.resource=new c.default,e.message=new i.default,e.gameScene=n.hall,r([p],e)}());o.Game=u,cc._RF.pop()},{"./center/Message":"Message","./center/NotifyCenter":"NotifyCenter","./center/ResourceCenter":"ResourceCenter","./center/SocketCenter":"SocketCenter"}],Head:[function(e,t,o){"use strict";cc._RF.push(t,"6181eWSUv9JKLt4j6FH8ZET","Head");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Game"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.frame=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.updateFrame=function(e){this.frame.spriteFrame=e},t.prototype.updateIcon=function(e){var t=this;cc.log("\u5237\u65b0\u5934\u50cf"),this.icon.node.active=!0,this.icon.spriteFrame=a.Game.resource.getCacheSpriteFrame("yin_"+e.level),""!=e.avatar&&(cc.log("\u52a0\u8f7dremote"),cc.assetManager.loadRemote(e.avatar,function(e,o){o&&(t.avatar_texture2D=o,t.icon.spriteFrame=new cc.SpriteFrame(o))}))},t.prototype.null=function(){cc.log("\u6e05\u7a7a\u5934\u50cf"),this.icon.node.active=!1,this.avatar_texture2D&&cc.assetManager.releaseAsset(this.avatar_texture2D),this.avatar_texture2D=null,this.icon.spriteFrame=null},i([l(cc.Sprite)],t.prototype,"icon",void 0),i([l(cc.Sprite)],t.prototype,"frame",void 0),i([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../Game":"Game"}],Interface:[function(e,t,o){"use strict";cc._RF.push(t,"38176y3xnFLFrDA//LlrbRD","Interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Menu:[function(e,t,o){"use strict";cc._RF.push(t,"8f874VyeddCxZvrAoYIpD6X","Menu");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../data/Room"),c=e("../Game"),s=e("../Core"),l=e("../View"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nocall=null,t.score1=null,t.score2=null,t.score3=null,t.nocatch=null,t.catch=null,t.nodouble=null,t.double=null,t.buchu=null,t.tishi=null,t.chupai=null,t}return n(t,e),t.prototype.onLoad=function(){this.nocall.on(cc.Node.EventType.TOUCH_START,this.click,this),this.score1.on(cc.Node.EventType.TOUCH_START,this.click,this),this.score2.on(cc.Node.EventType.TOUCH_START,this.click,this),this.score3.on(cc.Node.EventType.TOUCH_START,this.click,this),this.nocatch.on(cc.Node.EventType.TOUCH_START,this.click,this),this.catch.on(cc.Node.EventType.TOUCH_START,this.click,this),this.nodouble.on(cc.Node.EventType.TOUCH_START,this.click,this),this.double.on(cc.Node.EventType.TOUCH_START,this.click,this),this.buchu.on(cc.Node.EventType.TOUCH_START,this.click,this),this.tishi.on(cc.Node.EventType.TOUCH_START,this.click,this),this.chupai.on(cc.Node.EventType.TOUCH_START,this.click,this)},t.prototype.updateStyle=function(e,t){switch(void 0===t&&(t=0),this.clear(),this.node.active=!0,e){case a.MenuStyle.NULL:this.node.active=!1;break;case a.MenuStyle.SELECT_SCORE:-1!=t&&-2!=t&&3!=t||(this.nocatch.parent=this.node,this.catch.parent=this.node),0==t&&(this.nocall.parent=this.node,this.score1.parent=this.node,this.score2.parent=this.node,this.score3.parent=this.node),1==t&&(this.nocall.parent=this.node,this.score2.parent=this.node,this.score3.parent=this.node),2==t&&(this.nocall.parent=this.node,this.score3.parent=this.node);break;case a.MenuStyle.NODOUBLE_DOUBLE:this.nodouble.parent=this.node,this.double.parent=this.node;break;case a.MenuStyle.CHUPAI:this.chupai.parent=this.node;break;case a.MenuStyle.BUCHU_TISHI_CHUPAI:this.buchu.parent=this.node,this.tishi.parent=this.node,this.chupai.parent=this.node}},t.prototype.click=function(e){var t={player_index:a.room.ownPlayer.index,room_id:a.room.id};switch(e.currentTarget){case this.nocall:t.score=+a.Score.nocall,c.Game.notify.request.grab_landlord(t);break;case this.score1:t.score=+a.Score.score_1,c.Game.notify.request.grab_landlord(t);break;case this.score2:t.score=+a.Score.score_2,c.Game.notify.request.grab_landlord(t);break;case this.score3:t.score=+a.Score.score_3,c.Game.notify.request.grab_landlord(t);break;case this.nocatch:t.score=+a.Score.nocatch,c.Game.notify.request.grab_landlord(t);break;case this.catch:t.score=+a.Score.catch,c.Game.notify.request.grab_landlord(t);break;case this.nodouble:t.double=!1,c.Game.notify.request.double_time(t);break;case this.double:t.double=!0,c.Game.notify.request.double_time(t);break;case this.buchu:t.is_out=!1,c.Game.notify.request.play_the_card(t);break;case this.tishi:if(a.room.ailist.length){var o=a.room.ailist[a.room.ai_index++];a.room.ai_index=a.room.ai_index%a.room.ailist.length,l.default.scene_zone.own_handCon.pokerMoveUp(o)}else l.default.scene_zone.own_handCon.pokerMoveUp(a.room.ailist),l.default.tooltip.show("\u8981\u4e0d\u8d77");break;case this.chupai:var r=l.default.scene_zone.own_handCon.getAllPlayPokers();if(0==r.length)return void l.default.tooltip.show("\u6ca1\u6709\u9009\u62e9\u724c");var n=s.paiTool.getCardPattern(r);if(n.type==s.DDZ_POKER_TYPE.DDZ_PASS)return cc.log("\u724c\u578b\u4e0d\u5408\u6cd5 ========= start"),cc.log("poker:",r),cc.log("poker_grade:",s.paiTool.paisToGrades(r)),cc.log("\u724c\u578b\u4e0d\u5408\u6cd5 ========= end"),void l.default.tooltip.show("\u65e0\u6548\u7684\u51fa\u724c");if(a.room.last_pokers.length){var i=s.paiTool.getCardPattern(a.room.last_pokers);if(s.paiTool.compare(i,n)!==n)return void l.default.tooltip.show("\u8bf7\u9009\u62e9\u5408\u7406\u7684\u724c\u578b")}t.pokers=r,t.cards_type=n.type,t.is_out=!0,c.Game.notify.request.play_the_card(t)}},t.prototype.clear=function(){this.node.removeAllChildren(!1)},i([d(cc.Node)],t.prototype,"nocall",void 0),i([d(cc.Node)],t.prototype,"score1",void 0),i([d(cc.Node)],t.prototype,"score2",void 0),i([d(cc.Node)],t.prototype,"score3",void 0),i([d(cc.Node)],t.prototype,"nocatch",void 0),i([d(cc.Node)],t.prototype,"catch",void 0),i([d(cc.Node)],t.prototype,"nodouble",void 0),i([d(cc.Node)],t.prototype,"double",void 0),i([d(cc.Node)],t.prototype,"buchu",void 0),i([d(cc.Node)],t.prototype,"tishi",void 0),i([d(cc.Node)],t.prototype,"chupai",void 0),i([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../Core":"Core","../Game":"Game","../View":"View","../data/Room":"Room"}],Message:[function(e,t,o){"use strict";cc._RF.push(t,"731e6Sz6MJADqMnHGEmlGop","Message");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){this.map={}}return e.prototype.on=function(e,t){this.map[e]||(this.map[e]=[]),this.map[e].push(t)},e.prototype.emit=function(e,t){if(void 0===t&&(t=null),this.map[e])for(var o=0,r=this.map[e];o<r.length;o++)r[o].call(null,t)},e.prototype.delete=function(e){this.map[e]&&delete this.map[e]},r([i],e)}());o.default=a,cc._RF.pop()},{}],NotifyCenter:[function(e,t,o){"use strict";cc._RF.push(t,"d6693+149lHy6RfFTFZkQDb","NotifyCenter");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../data/Room"),i=e("../event/EventType"),a=e("../Game"),c=e("../Core"),s=cc._decorator,l=s.ccclass,p=(s.property,function(){function e(){this.request={ready_game:function(e){a.Game.socket.emit(i.EventType.ready_game,e)},enter_game:function(e){a.Game.socket.emit(i.EventType.enter_game,e)},init_player:function(e){a.Game.socket.emit(i.EventType.init_player,e)},get_cards:function(e){a.Game.socket.emit(i.EventType.get_cards,e)},grab_landlord:function(e){a.Game.socket.emit(i.EventType.grab_landlord,e)},refresh_cards_count:function(e){a.Game.socket.emit(i.EventType.refresh_cards_count,e)},double_time:function(e){a.Game.socket.emit(i.EventType.double_time,e)},play_the_card:function(e){a.Game.socket.emit(i.EventType.play_the_card,e)},check_page:function(){a.Game.socket.emit(i.EventType.check_page)},check_in:function(){a.Game.socket.emit(i.EventType.check_in)},deposit_page:function(){a.Game.socket.emit(i.EventType.deposit_page)},deposit_coin:function(e){a.Game.socket.emit(i.EventType.deposit_coin,e)},back_hall:function(){a.Game.socket.emit(i.EventType.back_hall)}}}return e.prototype.response=function(e){var t=e.data;switch(e.cat){case i.EventType.test:a.Game.message.emit(i.EventType.test,t);break;case i.EventType.init_player:n.hall.online_people=t.online,t.user?n.room.ownPlayer.update(t.user):n.room.ownPlayer.uid=n.room.ownPlayer.nick=n.hall.user,a.Game.message.emit(i.EventType.init_player);break;case i.EventType.bean_coin:n.room.ownPlayer.bean_coin=t.bean_coin,a.Game.message.emit(i.EventType.bean_coin);break;case i.EventType.enter_game:var o=t.players;n.room.id=t.room_id;for(var r=0;r<o.length;r++)o[r].uid==n.room.ownPlayer.uid&&(n.room.ownPlayer.index=r);o.length=3,n.room.rightPlayer.index=(n.room.ownPlayer.index+1)%3,n.room.rightPlayer.update(o[n.room.rightPlayer.index]),n.room.leftPlayer.index=(n.room.ownPlayer.index+2)%3,n.room.leftPlayer.update(o[n.room.leftPlayer.index]),n.room.ownPlayer.update(o[n.room.ownPlayer.index]),a.Game.message.emit(i.EventType.enter_game);break;case i.EventType.start_game:n.room.game_state=n.GameState.SHUFFLE,c.config.initMap(),a.Game.message.emit(i.EventType.start_game,t),a.Game.notify.request.get_cards({room_id:n.room.id,player_index:n.room.ownPlayer.index});break;case i.EventType.double_time:a.Game.message.emit(i.EventType.double_time,t);break;case i.EventType.get_hand_cards:c.paiTool.sortDescending(t.cards),n.room.ownPlayer.pokers=t.cards,a.Game.message.emit(i.EventType.get_hand_cards),n.room.game_state==n.GameState.SHUFFLE&&(n.room.game_state=n.GameState.SELECT_SCORE);break;case i.EventType.grab_landlord:a.Game.message.emit(i.EventType.grab_landlord,t);break;case i.EventType.grab_landlord_notice:a.Game.message.emit(i.EventType.grab_landlord_notice,t);break;case i.EventType.get_bottom_cards:a.Game.message.emit(i.EventType.get_bottom_cards,t);break;case i.EventType.refresh_cards_count:a.Game.message.emit(i.EventType.refresh_cards_count,t);break;case i.EventType.player_action:t.is_first&&(n.room.last_pokers=[]),a.Game.message.emit(i.EventType.player_action,t);break;case i.EventType.play_the_card:t.is_out&&(n.room.last_pokers=t.pokers),a.Game.message.emit(i.EventType.play_the_card,t);break;case i.EventType.no_card:a.Game.message.emit(i.EventType.no_card,t);break;case i.EventType.game_over:a.Game.message.emit(i.EventType.game_over,t);break;case i.EventType.check_page:a.Game.sign_data=t,a.Game.message.emit(i.EventType.check_page);break;case i.EventType.deposit_page:a.Game.recharge_data=t,a.Game.message.emit(i.EventType.deposit_page);break;case i.EventType.deposit_coin:n.room.ownPlayer.bean_coin=t.bean_coin,a.Game.message.emit(i.EventType.deposit_coin);break;case i.EventType.back_hall:n.room.ownPlayer.bean_coin=t.bean_coin,n.room.ownPlayer.nick=t.nick,n.room.ownPlayer.uid=t.uid,n.hall.online_people=t.online,a.Game.message.emit(i.EventType.back_hall)}},r([l],e)}());o.default=p,cc._RF.pop()},{"../Core":"Core","../Game":"Game","../data/Room":"Room","../event/EventType":"EventType"}],OwnHandContainer:[function(e,t,o){"use strict";cc._RF.push(t,"047bfwB84RH4IEvCGB+lThC","OwnHandContainer");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../data/Room"),c=e("../Pool"),s=e("./PokerPlus"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layout={width:140,height:180,spaceX:60,spaceY:100,yCount:10},t.prefab_poker=null,t.select_pokers_temp=[],t.positions=[],t.shuffle_index=-1,t.shuffle_timepass=0,t}return n(t,e),t.prototype.onLoad=function(){this.node.removeAllChildren(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},t.prototype.updateHandPai=function(e,t){void 0===t&&(t=!1),this.clear(),e.length>this.layout.yCount?(this.setTwinPosition(e.length),this.twinRom(e,t)):(this.setSinglePosition(e.length),this.singleRow(e))},t.prototype.setSinglePosition=function(e){this.positions=[];for(var t=(e-1)*this.layout.spaceX+this.layout.width,o=(this.layout.width-t)/2,r=0;r<e;r++)this.positions[r]={x:o+r*this.layout.spaceX,y:0}},t.prototype.setTwinPosition=function(e){for(var t=Math.ceil(e/2),o=(t-1)*this.layout.spaceX+this.layout.width,r=(this.layout.width-o)/2,n=(e-t-1)*this.layout.spaceX+this.layout.width,i=(this.layout.width-n)/2,a=0;a<e;a++)this.positions[a]=a<t?{x:r+a*this.layout.spaceX,y:this.layout.spaceY/2}:{x:i+(a-t)*this.layout.spaceX,y:-this.layout.spaceY/2}},t.prototype.getPostion=function(e){return this.positions[e]},t.prototype.update=function(e){this.shuffle_index>-1&&(this.shuffle_timepass+=e,this.shuffle_timepass>.04&&(this.shuffle_timepass=0,this.pokers[this.shuffle_index++].node.parent=this.node,this.shuffle_index==this.pokers.length&&this.stopShuffle()))},t.prototype.singleRow=function(e){var t;cc.log("\u5355\u6392 ---- ");for(var o=0;o<e.length;o++){var r=e[o],n=this.getPostion(o);(t=c.pools.poker_big_get(this.prefab_poker).getComponent(s.default)).node.x=n.x,t.node.y=n.y,t.node.parent=this.node,t.face(r),t.index=o,this.pokers.push(t)}this.flagSet(t)},t.prototype.twinRom=function(e,t){var o;void 0===t&&(t=!1),cc.log("\u53cc\u6392 ---- ");for(var r=0;r<e.length;r++){var n=this.getPostion(r),i=e[r];(o=c.pools.poker_big_get(this.prefab_poker).getComponent(s.default)).node.x=n.x,o.node.y=n.y,t||(o.node.parent=this.node),o.face(i),o.index=r,this.pokers.push(o)}this.flagSet(o),t&&this.startShuffle()},t.prototype.flagSet=function(e){e&&e.flagSet(a.room.isLandlord())},t.prototype.onTouchStart=function(e){var t=e.target;if("icon"==t.name){var o=t.parent.getComponent(s.default);o.select(),this.select_startIndex=o.index,this.select_pokers_temp=[o]}},t.prototype.onTouchEnd=function(){this.clearSelectPokers(),this.pokersSelectMove()},t.prototype.onTouchMove=function(e){for(var t=this.node.convertToNodeSpaceAR(e.touch.getLocation()),o=-1,r=this.pokers.length-1;r>=0;r--){var n=this.pokers[r].bg,i=n.node.getBoundingBox();if(i.x+=n.node.parent.x,i.y+=n.node.parent.y,i.contains(t)){o=r;break}}o>-1&&(this.select_startIndex<o?this.selectPokers(this.select_startIndex,o):this.selectPokers(o,this.select_startIndex))},t.prototype.selectPokers=function(e,t){this.select_pokers_temp=[];for(var o=0;o<this.pokers.length;o++){var r=this.pokers[o];o<e||o>t?r.unselect():(r.select(),this.select_pokers_temp.push(r))}},t.prototype.pokersSelectMove=function(){for(var e=0;e<this.select_pokers_temp.length;e++)this.select_pokers_temp[e].move();this.select_pokers_temp=[]},t.prototype.clearSelectPokers=function(){for(var e=0;e<this.pokers.length;e++)this.pokers[e].unselect()},t.prototype.getAllPlayPokers=function(){for(var e=[],t=0;t<this.pokers.length;t++){var o=this.pokers[t];o.isMoveUp&&e.push(o.poker_data.card)}return e},t.prototype.pokerMoveUp=function(e){for(var t=0;t<this.pokers.length;t++){var o=this.pokers[t];o.moveBack(),e&&~e.indexOf(o.poker_data.card)&&o.moveUp()}},t.prototype.clear=function(){for(var e=this.node.childrenCount-1;e>=0;e--)c.pools.poker_big_put(this.node.children[e]);this.select_pokers_temp=[],this.pokers=[],this.stopShuffle()},t.prototype.startShuffle=function(){this.shuffle_index=0,this.shuffle_timepass=0},t.prototype.stopShuffle=function(){this.shuffle_index=-1,this.shuffle_timepass=0},i([u(cc.Prefab)],t.prototype,"prefab_poker",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Pool":"Pool","../data/Room":"Room","./PokerPlus":"PokerPlus"}],PlayerShower:[function(e,t,o){"use strict";cc._RF.push(t,"87784IccVdCnK3drc34k0Bv","PlayerShower");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerDirType=void 0;var a,c=e("../Core"),s=e("../data/Room"),l=e("../Game"),p=e("./ActionTip"),u=e("./Head"),d=e("./PokerShower"),h=cc._decorator,f=h.ccclass,_=h.property;(function(e){e[e.LEfT=0]="LEfT",e[e.RIGHT=1]="RIGHT",e[e.OWNER=2]="OWNER"})(a=o.PlayerDirType||(o.PlayerDirType={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.action_tip=null,t.lab_name=null,t.lab_coin=null,t.player_info=null,t.identity=null,t.cards_count=null,t.lab_count=null,t.head=null,t.poker_shower=null,t.type=a.OWNER,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.updateTip=function(e){this.action_tip.node.active=!0,this.action_tip.updateTip(e)},t.prototype.clearTip=function(){this.action_tip.node.active=!1},t.prototype.updatePlayer=function(e){null!=e.uid&&(this.player_info.active=!0,this.lab_name.string=e.nick,this.lab_coin.string=""+e.bean_coin,this.head.updateIcon(e))},t.prototype.updateIdentity=function(e){this.identity.node.active=!0,this.identity.spriteFrame=l.Game.resource.getCacheSpriteFrame(s.Identity[e]),this.head.updateFrame(l.Game.resource.getCacheSpriteFrame(e==s.Identity.landlord?"frame2":"frame1"))},t.prototype.updateCardCount=function(e){this.cards_count.active=!0,this.lab_count.string=""+e},t.prototype.updatePokers=function(e,t){void 0===t&&(t=c.DDZ_POKER_TYPE.DDZ_PASS),this.poker_shower.updateShow(e,t)},t.prototype.playEffect=function(e){this.poker_shower.playEffect(e)},t.prototype.clearPokers=function(){this.poker_shower.clear()},t.prototype.clear=function(){this.player_info.active=!1,this.head.null(),this.reset()},t.prototype.reset=function(){this.identity.node.active=!1,this.cards_count.active=!1,this.head.updateFrame(l.Game.resource.getCacheSpriteFrame("frame1")),this.clearPokers(),this.clearTip()},i([_(p.default)],t.prototype,"action_tip",void 0),i([_(cc.Label)],t.prototype,"lab_name",void 0),i([_(cc.Label)],t.prototype,"lab_coin",void 0),i([_(cc.Node)],t.prototype,"player_info",void 0),i([_(cc.Sprite)],t.prototype,"identity",void 0),i([_(cc.Node)],t.prototype,"cards_count",void 0),i([_(cc.Label)],t.prototype,"lab_count",void 0),i([_(u.default)],t.prototype,"head",void 0),i([_(d.default)],t.prototype,"poker_shower",void 0),i([_({type:cc.Enum(a),serializable:!0})],t.prototype,"type",void 0),i([f],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../Core":"Core","../Game":"Game","../data/Room":"Room","./ActionTip":"ActionTip","./Head":"Head","./PokerShower":"PokerShower"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"6f45am5jxJJ2pPFF5jzkJv5","Player");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){this.avatar="",this.level=0,this.uid=null,this.nick="",this.index=0,this.bean_coin=0,this.ready=!1,this.remain_count=0,this.pokers=[]}return e.prototype.update=function(e){e?(this.uid=e.uid,this.bean_coin=e.bean_coin,this.nick=e.nick,this.avatar=e.avatar,this.level=e.level):this.reset()},e.prototype.reset=function(){this.uid=null,this.nick="",this.bean_coin=0,this.avatar="",this.level=0},r([i],e)}());o.default=a,cc._RF.pop()},{}],PokerData:[function(e,t,o){"use strict";var r;cc._RF.push(t,"625b7opmuBPz5gq1adqcaLv","PokerData"),Object.defineProperty(o,"__esModule",{value:!0}),o.HUASE=o.Poker_HuaseName=o.Poker_Color=o.Poker_Grahpic=void 0,o.Poker_Grahpic=["","A","2","3","4","5","6","7","8","9","10","J","Q","K"],o.Poker_Color=["#C40000","#000000","#C40000","#000000"],o.Poker_HuaseName=["fangkuai","meihua","hongxin","heitao"],function(e){e[e.fangzhuan=0]="fangzhuan",e[e.meihua=1]="meihua",e[e.hongxin=2]="hongxin",e[e.heitao=3]="heitao",e[e.xiaowang=53]="xiaowang",e[e.dawang=54]="dawang"}(r=o.HUASE||(o.HUASE={}));var n=function(){function e(e){this.card=e,this.init()}return e.prototype.init=function(){if(0!=this.card){if(53==this.card)return this.huase=r.xiaowang,this.spriteFrame="sking",this.num=53,this.grade=16,void(this.sort=53);if(54==this.card)return this.huase=r.dawang,this.spriteFrame="bking",this.num=54,this.grade=17,void(this.sort=54);var e=this.card/13^0,t=this.card%13;0==t&&(t=13,e--),this.huase=e,this.num=t,this.grade=1==t||2==t?13+t:t,this.spriteFrame=o.Poker_HuaseName[e],this.sort=4*((1==t||2==t?11+t:t-2)-1)+e+1,this.graphic=o.Poker_Grahpic[t],this.color=cc.Color.BLACK.fromHEX(o.Poker_Color[e])}else this.spriteFrame="back"},e}();o.default=n,cc._RF.pop()},{}],PokerPlus:[function(e,t,o){"use strict";cc._RF.push(t,"f7cf6hF64NOHaSXrQu+VLwi","PokerPlus");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PokerSize=void 0;var a,c=e("../Game"),s=e("../Core"),l=cc._decorator,p=l.ccclass,u=l.property;(function(e){e[e.big=0]="big",e[e.small=1]="small"})(a=o.PokerSize||(o.PokerSize={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label_num=null,t.bg=null,t.landlord_flag=null,t.size=a.big,t.zero_position=cc.v3(0,0,0),t.poker_data=null,t.index=0,t.isMoveUp=!1,t}return n(t,e),t.prototype.onLoad=function(){this.bg.node.on(cc.Node.EventType.TOUCH_START,function(){return null})},t.prototype.face=function(e){this.poker_data=s.config.getCard(e);var t=a[this.size];switch(e){case 0:this.label_num.node.active=!1,this.bg.spriteFrame=c.Game.resource.getCacheSpriteFrame("back_"+t);break;case 53:case 54:this.label_num.node.active=!1,this.bg.spriteFrame=c.Game.resource.getCacheSpriteFrame(this.poker_data.spriteFrame+"_"+t);break;default:this.label_num.node.active=!0,this.label_num.string=this.poker_data.graphic,this.label_num.node.color=this.poker_data.color,this.bg.spriteFrame=c.Game.resource.getCacheSpriteFrame(this.poker_data.spriteFrame+"_"+t)}},t.prototype.select=function(){this.bg.node.color=cc.Color.BLACK.fromHEX("#808080")},t.prototype.unselect=function(){this.bg.node.color=cc.Color.BLACK.fromHEX("#FFFFFF")},t.prototype.move=function(){this.isMoveUp?this.moveBack():this.moveUp()},t.prototype.moveUp=function(){this.isMoveUp=!0,this.bg.node.y=s.config.move_dis},t.prototype.moveBack=function(){this.isMoveUp=!1,this.bg.node.y=0},t.prototype.flagSet=function(e){cc.log("flagSet :: ",e),this.landlord_flag&&(this.landlord_flag.active=e)},t.prototype.reset=function(){this.node.position=this.zero_position,this.flagSet(!1),this.moveBack(),this.unselect()},t.prototype.unuse=function(){this.reset()},t.prototype.reuse=function(){},i([u(cc.Label)],t.prototype,"label_num",void 0),i([u(cc.Sprite)],t.prototype,"bg",void 0),i([u(cc.Node)],t.prototype,"landlord_flag",void 0),i([u({type:cc.Enum(a),serializable:!0})],t.prototype,"size",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Core":"Core","../Game":"Game"}],PokerShower:[function(e,t,o){"use strict";cc._RF.push(t,"2dc06h/3VtG3LojDh2hAG/B","PokerShower");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PokerShowType=void 0;var a,c=e("../Core"),s=e("../Game"),l=e("../Pool"),p=e("./PokerPlus");(function(e){e[e.OWNER=1]="OWNER",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(a=o.PokerShowType||(o.PokerShowType={}));var u=cc._decorator,d=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config={width:140,height:180,lr_min_disX:55,lr_max_disX:60,lr_disY:90,lr_row_count:8,o_min_disX:50,o_max_disX:60,o_count:14},t.poker_con=null,t.prefab_poker=null,t.type=a.OWNER,t.test_layout=null,t.play_effect=null,t}return n(t,e),t.prototype.onLoad=function(){this.test_layout.active=!1,this.clearPokers()},t.prototype.updateShow=function(e,t){switch(this.clearPokers(),this.type){case a.LEFT:case a.RIGHT:this.left_right(e);break;case a.OWNER:this.owner(e)}this.playEffect(t)},t.prototype.left_right=function(e){for(var t=e.length<=this.config.lr_row_count?this.config.lr_max_disX:this.config.lr_min_disX,o=Math.min(this.config.lr_row_count,e.length),r=this.config.width/2-((o-1)*t+this.config.width)/2,n=((Math.ceil(e.length/this.config.lr_row_count)-1)*this.config.lr_disY+this.config.height)/2-this.config.height/2,i=0;i<e.length;i++){var a=e[i],c=l.pools.poker_big_get(this.prefab_poker).getComponent(p.default);c.node.parent=this.poker_con,c.node.x=r+i%this.config.lr_row_count*t,c.node.y=n-(i/this.config.lr_row_count^0)*this.config.lr_disY,c.face(a)}},t.prototype.owner=function(e){for(var t=e.length<=this.config.o_count?this.config.o_max_disX:this.config.o_min_disX,o=(e.length-1)*t+this.config.width,r=(this.config.width-o)/2,n=0;n<e.length;n++){var i=e[n],a=l.pools.poker_big_get(this.prefab_poker).getComponent(p.default);a.node.x=r+t*n,a.node.parent=this.poker_con,a.face(i)}},t.prototype.playEffect=function(e){var t=this,o=c.DDZ_POKER_TYPE[e],r=s.Game.resource.getCacheSpriteFrame(o);o&&r&&(this.play_effect.node.active=!0,this.play_effect.spriteFrame=r,cc.tween(this.play_effect.node).to(0,{scale:2}).to(.3,{scale:1},{easing:"backOut"}).delay(1.5).to(.5,{opacity:0}).call(function(){t.clearPlayEffect()}).start())},t.prototype.clearPlayEffect=function(){this.play_effect.node.active=!1,this.play_effect.node.x=this.play_effect.node.y=0,this.play_effect.node.scale=1,this.play_effect.node.opacity=255,cc.Tween.stopAllByTarget(this.play_effect.node)},t.prototype.clearPokers=function(){for(var e=this.poker_con.childrenCount-1;e>=0;e--){var t=this.poker_con.children[e];l.pools.poker_small_put(t)}},t.prototype.clear=function(){this.clearPlayEffect(),this.clearPokers()},i([h(cc.Node)],t.prototype,"poker_con",void 0),i([h(cc.Prefab)],t.prototype,"prefab_poker",void 0),i([h({type:cc.Enum(a),serializable:!0})],t.prototype,"type",void 0),i([h(cc.Node)],t.prototype,"test_layout",void 0),i([h(cc.Sprite)],t.prototype,"play_effect",void 0),i([d],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../Core":"Core","../Game":"Game","../Pool":"Pool","./PokerPlus":"PokerPlus"}],Poker:[function(e,t,o){"use strict";cc._RF.push(t,"daa48sOesBLCL/h6VIAzZem","Poker");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Game"),c=e("../Core"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.icon_con=null,t}return n(t,e),t.prototype.onLoad=function(){this.icon_con.on(cc.Node.EventType.TOUCH_START,function(){return null})},t.prototype.init=function(e){var t;void 0===e&&(e=null),this.card=e,t=null==e?a.Game.resource.getCacheSpriteFrame("PokerBack"):a.Game.resource.getPokerSpriteFrameMap(e.spriteFrame),this.icon.spriteFrame=t},t.prototype.select=function(){this.icon.node.color=cc.Color.BLACK.fromHEX("#808080")},t.prototype.unselect=function(){this.icon.node.color=cc.Color.BLACK.fromHEX("#FFFFFF")},t.prototype.move=function(){this.isMoveUp?this.moveBack():this.moveUp()},t.prototype.moveUp=function(){this.isMoveUp=!0,this.icon_con.y=c.config.move_dis,this.icon_con.getComponent(cc.Sprite).enabled=!0},t.prototype.moveBack=function(){this.isMoveUp=!1,this.icon_con.y=0,this.icon_con.getComponent(cc.Sprite).enabled=!1},t.prototype.reset=function(){this.moveBack(),this.unselect()},t.prototype.unuse=function(){},t.prototype.reuse=function(){this.reset()},i([p(cc.Sprite)],t.prototype,"icon",void 0),i([p(cc.Node)],t.prototype,"icon_con",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Core":"Core","../Game":"Game"}],Pool:[function(e,t,o){"use strict";cc._RF.push(t,"5f2b1HvNo9NzJ3B7wfuh9hK","Pool"),Object.defineProperty(o,"__esModule",{value:!0}),o.pools=void 0,o.pools={poker_pool_big:new cc.NodePool("PokerPlus"),poker_pool_small:new cc.NodePool("PokerPlus"),poker_big_get:function(e){return o.pools.poker_pool_big.size()?o.pools.poker_pool_big.get():cc.instantiate(e)},poker_big_put:function(e){o.pools.poker_pool_big.put(e)},poker_small_get:function(e){return o.pools.poker_pool_small.size()?o.pools.poker_pool_small.get():cc.instantiate(e)},poker_small_put:function(e){o.pools.poker_pool_small.put(e)}},cc._RF.pop()},{}],Preloading:[function(e,t,o){"use strict";cc._RF.push(t,"59d22jGPYhLBJ3C6hs/FExw","Preloading");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Game"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t,o=null!==e&&e.apply(this,arguments)||this;return o.label_progress=null,o.sceneDescribe=((t={})[a.GameScene.hall]="[\u9f99\u738b\u5927\u5385]",t[a.GameScene.zone]="[\u9f99\u738b\u5730\u5e26]",t),o}return n(t,e),t.prototype.showDescribe=function(e){this.node.active=!0,this.label_progress.string=e},t.prototype.loadScene=function(e,t){var o=this;this.node.active=!0;var r=this.sceneDescribe[e];this.showDescribe(r+" \u52a0\u8f7d\u4e2d...0%"),cc.director.preloadScene(a.GameScene[e],function(e,t){o.showDescribe(r+" \u52a0\u8f7d\u4e2d..."+(e/t*100^0)+"%")},function(n){n?o.showDescribe(r+" \u52a0\u8f7d\u5931\u8d25"):(o.showDescribe(r+" \u52a0\u8f7d\u5b8c\u6210,\u8df3\u8f6c\u4e2d..."),cc.director.loadScene(a.GameScene[e]),t&&t())})},i([l(cc.Label)],t.prototype,"label_progress",void 0),i([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./Game":"Game"}],RechargeItem:[function(e,t,o){"use strict";cc._RF.push(t,"16160pNNnxFm7o4tDyHPaEH","RechargeItem");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Game"),c=e("../../View"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_coin=null,t.lab_number=null,t.lab_silver=null,t.sp_gamecoin=null,t}return n(t,e),t.prototype.onLoad=function(){this.lab_coin.string="0",this.lab_number.string="0",this.sp_gamecoin.node.active=!1},t.prototype.start=function(){this.sp_gamecoin.node.on("touchstart",this.click,this)},t.prototype.refresh=function(e){this.data=e,this.sp_gamecoin.node.active=!0,this.lab_coin.string=""+e.bean_coin,this.lab_number.string=""+e.gift.amount,this.lab_silver.string=""+e.silver_coin},t.prototype.click=function(){a.Game.recharge_data.select_index=this.index,c.default.recharge_panel.refreshTipUI()},i([p(cc.Label)],t.prototype,"lab_coin",void 0),i([p(cc.Label)],t.prototype,"lab_number",void 0),i([p(cc.Label)],t.prototype,"lab_silver",void 0),i([p(cc.Sprite)],t.prototype,"sp_gamecoin",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Game":"Game","../../View":"View"}],RechargePanel:[function(e,t,o){"use strict";cc._RF.push(t,"a8921FnPc5MDbmy8KV2KHWA","RechargePanel");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../event/EventType"),c=e("../../Game"),s=e("../../View"),l=e("./RechargeItem"),p=e("./RechargeTipUI"),u=cc._decorator,d=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rechargeItems=[],t.main_ui=null,t.tip_ui=null,t}return n(t,e),t.prototype.onLoad=function(){s.default.recharge_panel=this,this.reset()},t.prototype.start=function(){c.Game.message.on(a.EventType.deposit_page,this.refresh.bind(this))},t.prototype.refresh=function(){if(c.Game.recharge_data)for(var e=0;e<this.rechargeItems.length;e++)this.rechargeItems[e].index=e,this.rechargeItems[e].refresh(c.Game.recharge_data.deposit_list[e])},t.prototype.refreshTipUI=function(){this.active_tip_ui();var e=c.Game.recharge_data.deposit_list[c.Game.recharge_data.select_index];this.tip_ui.refresh({yin:c.Game.recharge_data.wallet_info.yin,silver_coin:e.silver_coin,bean_coin:e.bean_coin*(e.is_first?2:1)})},t.prototype.reset=function(){this.active_main_ui()},t.prototype.active_main_ui=function(){this.main_ui.active=!0,this.tip_ui.node.active=!1},t.prototype.active_tip_ui=function(){this.tip_ui.node.active=!0,this.main_ui.active=!1},t.prototype.show=function(){this.node.active=!0},t.prototype.close=function(){this.node.active=!1},i([h([l.default])],t.prototype,"rechargeItems",void 0),i([h(cc.Node)],t.prototype,"main_ui",void 0),i([h(p.default)],t.prototype,"tip_ui",void 0),i([d],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../Game":"Game","../../View":"View","../../event/EventType":"EventType","./RechargeItem":"RechargeItem","./RechargeTipUI":"RechargeTipUI"}],RechargeTipUI:[function(e,t,o){"use strict";cc._RF.push(t,"b40776DRRFEyqj9QbMiOLcY","RechargeTipUI");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../Game"),c=e("../../View"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label_silver=null,t.label_buy_silver=null,t.label_pearl=null,t}return n(t,e),t.prototype.refresh=function(e){this.label_silver.string=""+e.yin,this.label_buy_silver.string=""+e.silver_coin,this.label_pearl.string=""+e.bean_coin},t.prototype.click_cancel=function(){c.default.recharge_panel.active_main_ui()},t.prototype.click_confirm=function(){var e=a.Game.recharge_data.deposit_list[a.Game.recharge_data.select_index];a.Game.recharge_data.wallet_info.yin<e.silver_coin?c.default.tooltip.show("\u94f6\u5e01\u6570\u91cf\u4e0d\u8db3"):(c.default.recharge_panel.active_main_ui(),a.Game.notify.request.deposit_coin({deposit_index:a.Game.recharge_data.select_index}))},i([p(cc.Label)],t.prototype,"label_silver",void 0),i([p(cc.Label)],t.prototype,"label_buy_silver",void 0),i([p(cc.Label)],t.prototype,"label_pearl",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Game":"Game","../../View":"View"}],ResourceCenter:[function(e,t,o){"use strict";cc._RF.push(t,"bbf905Y1blDlZ3PP8soAVt3","ResourceCenter");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(){function e(){this.pokerSpriteFrameMap={},this.prefabnode_map={scene_bg:{node:null,loading:!1}}}return e.prototype.setPokerSpriteFrameMap=function(e,t){this.pokerSpriteFrameMap[e]=t},e.prototype.getPokerSpriteFrameMap=function(e){return this.pokerSpriteFrameMap[e]},e.prototype.getCacheSpriteFrame=function(e){var t=null;return cc.assetManager.assets.forEach(function(o){o.name!=e||(t=o)}),t},e.prototype.loadDynamicSF=function(e,t){cc.log("loadDynamicSF == >",e,t.spriteFrame),cc.resources.load(e,cc.SpriteFrame,function(e,o){t&&t.isValid&&(t.spriteFrame=o)})},e.prototype.loadSharedNode=function(e,t,o){var r=this.prefabnode_map[e];r&&(r.node?t.active&&t.addChild(r.node,o):r.loading||(r.loading=!0,cc.resources.load(e,cc.Prefab,function(e,n){r.node=cc.instantiate(n),r.loading=!1,t.active&&t.addChild(r.node,o)})))},e.prototype.removeSharedNode=function(e){var t=this.prefabnode_map[e];t.node&&t.node.parent&&(t.node.parent=null)},e.prototype.addSharedSceneBG=function(e){this.loadSharedNode("scene_bg",e,-1)},e.prototype.removeSharedSceneBG=function(){this.removeSharedNode("scene_bg")},r([i],e)}());o.default=a,cc._RF.pop()},{}],ResultItem:[function(e,t,o){"use strict";cc._RF.push(t,"4c60cMWE3RPkqMqn4s8MRbo","ResultItem");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_name=null,t.lab_base=null,t.lab_double=null,t.lab_coin=null,t}return n(t,e),t.prototype.updateData=function(e){this.lab_name.string=""+e.nick,this.lab_base.string=""+e.bottom,this.lab_double.string=""+e.times,this.lab_coin.string=(e.award>0?"+":"")+e.award},i([s(cc.Label)],t.prototype,"lab_name",void 0),i([s(cc.Label)],t.prototype,"lab_base",void 0),i([s(cc.Label)],t.prototype,"lab_double",void 0),i([s(cc.Label)],t.prototype,"lab_coin",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ResultPanel:[function(e,t,o){"use strict";cc._RF.push(t,"f2dbauD23dFQ6Nm7/vAZyCf","ResultPanel");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../data/Room"),c=e("./ResultItem"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.win_bg=null,t.lose_bg=null,t.result_items=[],t}return n(t,e),t.prototype.start=function(){},t.prototype.updateResult=function(e){this.node.active=!0,a.room.ownPlayer.index==e.winner_index?this.win():this.lose();for(var t=0;t<e.player_info.length;t++){var o=e.player_info[t];if(o.index==e.landlord_index){e.player_info.splice(t,1),e.player_info.unshift(o);break}}for(t=0;t<this.result_items.length;t++)this.result_items[t].updateData(e.player_info[t])},t.prototype.win=function(){this.win_bg.active=!0,this.lose_bg.enabled=!1},t.prototype.lose=function(){this.win_bg.active=!1,this.lose_bg.enabled=!0},i([p(cc.Node)],t.prototype,"win_bg",void 0),i([p(cc.Sprite)],t.prototype,"lose_bg",void 0),i([p({type:[c.default]})],t.prototype,"result_items",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../data/Room":"Room","./ResultItem":"ResultItem"}],Room:[function(e,t,o){"use strict";cc._RF.push(t,"ac88aJm26tADqeepothydEg","Room"),Object.defineProperty(o,"__esModule",{value:!0}),o.Identity=o.Score=o.MenuStyle=o.room=o.GameState=o.hall=void 0;var r,n=e("./Player");o.hall={user:"",online_people:0},function(e){e[e.IDLE=0]="IDLE",e[e.SHUFFLE=1]="SHUFFLE",e[e.SELECT_SCORE=2]="SELECT_SCORE",e[e.PLAY=3]="PLAY"}(r=o.GameState||(o.GameState={})),o.room={id:0,landlord_index:-1,last_pokers:[],ailist:[],ai_index:0,ownPlayer:new n.default,leftPlayer:new n.default,rightPlayer:new n.default,own_ready:!1,game_state:r.IDLE,roundReset:function(){this.game_state=r.IDLE,this.own_ready=!1,this.last_pokers=[],this.ailist=[],this.ai_index=0,this.ownPlayer.pokers=null,this.landlord_index=-1},isLandlord:function(){return o.room.ownPlayer.index==o.room.landlord_index},auto:{pass:!1,AIPush:!0,pushDelay:3},show_message:{0:"\u4e0d\u53eb",1:"1\u5206",2:"2\u5206",3:"3\u5206","-1":"\u4e0d\u62a2","-2":"\u62a2\u5730\u4e3b"}},function(e){e[e.NULL=0]="NULL",e[e.SELECT_SCORE=1]="SELECT_SCORE",e[e.NODOUBLE_DOUBLE=2]="NODOUBLE_DOUBLE",e[e.CHUPAI=3]="CHUPAI",e[e.BUCHU_TISHI_CHUPAI=4]="BUCHU_TISHI_CHUPAI"}(o.MenuStyle||(o.MenuStyle={})),function(e){e[e.nocall=0]="nocall",e[e.score_1=1]="score_1",e[e.score_2=2]="score_2",e[e.score_3=3]="score_3",e[e.nocatch=-1]="nocatch",e[e.catch=-2]="catch",e[e.nodouble=-3]="nodouble",e[e.double=-4]="double",e[e.pass=-5]="pass",e[e.waitfor_catch=-6]="waitfor_catch"}(o.Score||(o.Score={})),function(e){e[e.landlord=0]="landlord",e[e.peasant=1]="peasant"}(o.Identity||(o.Identity={})),cc._RF.pop()},{"./Player":"Player"}],SceneBG:[function(e,t,o){"use strict";cc._RF.push(t,"69bc4eqVHVOnqlOjauuOj6q","SceneBG");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../event/EventType"),c=e("../Game"),s=e("./PlayerShower"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.bg_light=null,t.crab=null,t.octopus=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;c.Game.message.on(a.EventType.set_landlord,function(t){switch(t){case s.PlayerDirType.LEfT:e.octopus.spriteFrame=c.Game.resource.getCacheSpriteFrame("octopus_landlord");break;case s.PlayerDirType.RIGHT:e.crab.spriteFrame=c.Game.resource.getCacheSpriteFrame("crab_landlord");break;case s.PlayerDirType.OWNER:e.crab.spriteFrame=c.Game.resource.getCacheSpriteFrame("crab"),e.octopus.spriteFrame=c.Game.resource.getCacheSpriteFrame("octopus")}})},i([u(cc.Sprite)],t.prototype,"bg",void 0),i([u(cc.Sprite)],t.prototype,"bg_light",void 0),i([u(cc.Sprite)],t.prototype,"crab",void 0),i([u(cc.Sprite)],t.prototype,"octopus",void 0),i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Game":"Game","../event/EventType":"EventType","./PlayerShower":"PlayerShower"}],Scene_Hall:[function(e,t,o){"use strict";cc._RF.push(t,"2255eli5StLSaa8NgaF8MNp","Scene_Hall");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./data/Room"),c=e("./event/EventType"),s=e("./Game"),l=e("./View"),p=e("./view/recharge_panel/RechargePanel"),u=e("./view/sign_panel/SignPanel"),d=e("./Tooltip"),h=e("./Preloading"),f=e("./view/Head"),_=cc._decorator,y=_.ccclass,g=_.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_title=null,t.lab_olcount=null,t.node_match=null,t.node_top=null,t.head=null,t.lab_nick=null,t.lab_bean_coin=null,t.panel_sign=null,t.panel_recharge=null,t.preloading=null,t.tooltip=null,t.request_entergame_ing=!1,t.bind_handler={match_complete:null},t}return n(t,e),t.prototype.onLoad=function(){cc.log("hall onload"),cc.log("hall-onload->",cc.assetManager.assets.count),l.default.scene_hall=this,s.Game.gameScene=s.GameScene.hall,this.node_top.active=!1,this.node_match.active=!1,this.lab_title.string="\u670d\u52a1\u5668\u8fde\u63a5\u4e2d...",this.panel_sign.close(),this.panel_recharge.close(),l.default.tooltip=this.tooltip,this.request_entergame_ing=!1,s.Game.resource.addSharedSceneBG(this.node.parent),location.search.length&&(s.Game.server=s.Game.local_server)},t.prototype.start=function(){this.addEvents(),s.Game.socket.isopen?this.init_player():s.Game.socket.connect()},t.prototype.addEvents=function(){s.Game.message.on(c.EventType.socket_connect_success,this.open.bind(this)),s.Game.message.on(c.EventType.socket_connect_close,this.close.bind(this)),s.Game.message.on(c.EventType.init_player,this.init_player.bind(this)),s.Game.message.on(c.EventType.test,this.test.bind(this)),s.Game.message.on(c.EventType.enter_game,this.match_complete.bind(this)),s.Game.message.on(c.EventType.bean_coin,this.refresh_bean_coin.bind(this)),s.Game.message.on(c.EventType.deposit_coin,this.refresh_bean_coin.bind(this))},t.prototype.removeAllEvents=function(){s.Game.message.delete(c.EventType.socket_connect_success),s.Game.message.delete(c.EventType.socket_connect_close),s.Game.message.delete(c.EventType.init_player),s.Game.message.delete(c.EventType.test),s.Game.message.delete(c.EventType.enter_game),s.Game.message.delete(c.EventType.bean_coin),s.Game.message.delete(c.EventType.deposit_coin)},t.prototype.match=function(){cc.log("click match"),this.preloading.showDescribe("\u5feb\u901f\u5339\u914d\u4e2d..."),this.request_entergame_ing=!0,s.Game.notify.request.enter_game({uid:a.room.ownPlayer.uid})},t.prototype.getOwnerInfo=function(){return{sid:window.localStorage.getItem("sid")||"24748c315dca48e7b4268a8e50165d1c",key:window.localStorage.getItem("key")||"98af89240e0d4589a2636166177fd11b9",ver:window.localStorage.getItem("ver")||"2.1.1"}},t.prototype.test=function(e){var t=this.getOwnerInfo();t.sid=e.sid,s.Game.notify.request.init_player(t)},t.prototype.open=function(){if(!s.Game.useTestSid){var e=this.getOwnerInfo();s.Game.notify.request.init_player(e)}},t.prototype.close=function(){this.lab_title.string="\u670d\u52a1\u5668\u8fde\u63a5\u65ad\u5f00"},t.prototype.init_player=function(){this.node_top.active=!0,this.node_match.active=!0,this.lab_title.string="\u5f53\u524d\u5728\u7ebf\u4eba\u6570",this.lab_olcount.string=""+a.hall.online_people,this.lab_nick.string=a.room.ownPlayer.nick,this.lab_bean_coin.string=""+a.room.ownPlayer.bean_coin,this.head.updateIcon(a.room.ownPlayer)},t.prototype.match_complete=function(){this.request_entergame_ing&&s.Game.gameScene==s.GameScene.hall&&(this.clear(),this.preloading.loadScene(s.GameScene.zone))},t.prototype.refresh_bean_coin=function(){this.lab_bean_coin.string=""+a.room.ownPlayer.bean_coin},t.prototype.get_uid=function(){return a.hall.user=""+(1e3*Math.random()^0)},t.prototype.click_sign=function(){this.panel_sign.show(),s.Game.sign_data||s.Game.notify.request.check_page()},t.prototype.click_recharge=function(){this.panel_recharge.show(),s.Game.recharge_data||s.Game.notify.request.deposit_page()},t.prototype.clear=function(){this.request_entergame_ing=!1,this.removeAllEvents(),s.Game.resource.removeSharedSceneBG()},i([g(cc.Label)],t.prototype,"lab_title",void 0),i([g(cc.Label)],t.prototype,"lab_olcount",void 0),i([g(cc.Node)],t.prototype,"node_match",void 0),i([g(cc.Node)],t.prototype,"node_top",void 0),i([g(f.default)],t.prototype,"head",void 0),i([g(cc.Label)],t.prototype,"lab_nick",void 0),i([g(cc.Label)],t.prototype,"lab_bean_coin",void 0),i([g(u.default)],t.prototype,"panel_sign",void 0),i([g(p.default)],t.prototype,"panel_recharge",void 0),i([g(h.default)],t.prototype,"preloading",void 0),i([g(d.default)],t.prototype,"tooltip",void 0),i([y],t)}(cc.Component);o.default=m,cc._RF.pop()},{"./Game":"Game","./Preloading":"Preloading","./Tooltip":"Tooltip","./View":"View","./data/Room":"Room","./event/EventType":"EventType","./view/Head":"Head","./view/recharge_panel/RechargePanel":"RechargePanel","./view/sign_panel/SignPanel":"SignPanel"}],Scene_Preload:[function(e,t,o){"use strict";cc._RF.push(t,"ffba5XkfyxLQ40E7PpSTI7o","Scene_Preload");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Game"),c=e("./Preloading"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.preloading=null,t}return n(t,e),t.prototype.start=function(){this.preloading.loadScene(a.GameScene.hall)},i([p(c.default)],t.prototype,"preloading",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./Game":"Game","./Preloading":"Preloading"}],Scene_Zone:[function(e,t,o){"use strict";cc._RF.push(t,"1878cno/vxAn7E4ihDJzhj1","Scene_Zone");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./data/Room"),c=e("./event/EventType"),s=e("./Game"),l=e("./menu/Menu"),p=e("./Core"),u=e("./view/Clock"),d=e("./view/DipaiShower"),h=e("./view/OwnHandContainer"),f=e("./view/PlayerShower"),_=e("./view/TopScoreView"),y=e("./view/result_panel/ResultPanel"),g=e("./View"),m=e("./Preloading"),v=e("./Tooltip"),b=cc._decorator,P=b.ccclass,T=b.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_room_id=null,t.own_player=null,t.left_player=null,t.right_player=null,t.menu=null,t.own_handCon=null,t.top_score_view=null,t.dipai_shower=null,t.clock=null,t.result_panel=null,t.preloading=null,t.tooltip=null,t.bind_handler={match_complete:null},t}return n(t,e),t.prototype.onLoad=function(){g.default.scene_zone=this,s.Game.gameScene=s.GameScene.zone,g.default.tooltip=this.tooltip,s.Game.resource.addSharedSceneBG(this.node.parent)},t.prototype.start=function(){this.roundReset(),this.initEvents(),this.updateRoomPlayers(),this.ready(),this.test()},t.prototype.ready=function(){a.room.own_ready||(a.room.own_ready=!0,s.Game.notify.request.ready_game({room_id:a.room.id,player_index:a.room.ownPlayer.index}))},t.prototype.test=function(){s.Game.socket.ws||(p.config.initMap(),this.own_handCon.node.active=!0,this.left_player.updateIdentity(a.Identity.landlord),this.right_player.updateIdentity(a.Identity.landlord),this.left_player.updateCardCount(1),this.right_player.updateCardCount(1),this.own_player.updateIdentity(a.Identity.landlord),this.left_player.updateTip(a.Score.double),this.own_handCon.updateHandPai([27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]),this.left_player.updatePokers([1,2,3,10,5,6,7,8,9]),this.right_player.updatePokers([1,2,3,10,5,6,7,8,9,10,11,12,13,14,15]),this.own_player.updatePokers([1,2,3,4,10,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),setTimeout(function(){s.Game.message.emit(c.EventType.set_landlord,f.PlayerDirType.RIGHT)},6e3),setTimeout(function(){s.Game.message.emit(c.EventType.set_landlord,f.PlayerDirType.OWNER)},1e4),cc.log(p.paiTool.getCardPattern([8,21,34,10,23,36])))},t.prototype.updateRoomPlayers=function(){this.lab_room_id.string="\u623f\u95f4\u53f7:"+a.room.id,this.own_player.updatePlayer(a.room.ownPlayer),this.left_player.updatePlayer(a.room.leftPlayer),this.right_player.updatePlayer(a.room.rightPlayer)},t.prototype.updateLandlord=function(){var e;this.own_player.updateIdentity(a.room.ownPlayer.index==a.room.landlord_index?a.Identity.landlord:a.Identity.peasant),this.left_player.updateIdentity(a.room.leftPlayer.index==a.room.landlord_index?a.Identity.landlord:a.Identity.peasant),this.right_player.updateIdentity(a.room.rightPlayer.index==a.room.landlord_index?a.Identity.landlord:a.Identity.peasant),a.room.leftPlayer.index==a.room.landlord_index&&(e=f.PlayerDirType.LEfT),a.room.rightPlayer.index==a.room.landlord_index&&(e=f.PlayerDirType.RIGHT),a.room.ownPlayer.index==a.room.landlord_index&&(e=f.PlayerDirType.OWNER),s.Game.message.emit(c.EventType.set_landlord,e)},t.prototype.updateTurnTip=function(){},t.prototype.updateActionTip=function(e,t,o){void 0===o&&(o=!0),o&&this.clearAllActionTip(),a.room.ownPlayer.index==e&&this.own_player.updateTip(t),a.room.rightPlayer.index==e&&this.right_player.updateTip(t),a.room.leftPlayer.index==e&&this.left_player.updateTip(t)},t.prototype.addClock=function(){},t.prototype.clearMenu=function(){this.menu.updateStyle(a.MenuStyle.NULL)},t.prototype.clearClock=function(){this.clock.node.active=!1,this.clock.stop()},t.prototype.removeAllEvents=function(){s.Game.message.delete(c.EventType.enter_game),s.Game.message.delete(c.EventType.start_game),s.Game.message.delete(c.EventType.get_hand_cards),s.Game.message.delete(c.EventType.grab_landlord),s.Game.message.delete(c.EventType.grab_landlord_notice),s.Game.message.delete(c.EventType.double_time),s.Game.message.delete(c.EventType.get_bottom_cards),s.Game.message.delete(c.EventType.refresh_cards_count),s.Game.message.delete(c.EventType.play_the_card),s.Game.message.delete(c.EventType.player_action),s.Game.message.delete(c.EventType.game_over)},t.prototype.initEvents=function(){var e=this;s.Game.message.on(c.EventType.enter_game,function(){e.updateRoomPlayers(),e.ready()}),s.Game.message.on(c.EventType.start_game,function(t){t.landlord_index==a.room.ownPlayer.index?e.menu.updateStyle(a.MenuStyle.SELECT_SCORE):e.updateActionTip(a.room.ownPlayer.index,a.Score.waitfor_catch),e.dipai_shower.show(),e.updateTurnTip(t.landlord_index),e.top_score_view.node.active=!0,e.top_score_view.updateBase(t.bottom),e.top_score_view.updaetDouble(t.times)}),s.Game.message.on(c.EventType.get_hand_cards,function(){e.own_handCon.node.active=!0,e.own_handCon.updateHandPai(a.room.ownPlayer.pokers,a.room.game_state==a.GameState.SHUFFLE)}),s.Game.message.on(c.EventType.grab_landlord,function(t){e.clearMenu(),e.updateActionTip(t.player_index,t.show,!1)}),s.Game.message.on(c.EventType.grab_landlord_notice,function(t){t.hasOwnProperty("landlord_index")?(a.room.landlord_index=t.landlord_index,e.updateLandlord(),e.clearAllPoolPokers(),s.Game.notify.request.get_cards({room_id:a.room.id,player_index:3}),a.room.landlord_index==a.room.ownPlayer.index&&(e.menu.updateStyle(a.MenuStyle.NODOUBLE_DOUBLE),s.Game.notify.request.get_cards({room_id:a.room.id,player_index:a.room.landlord_index})),e.clearAllActionTip(!0)):t.player_index==a.room.ownPlayer.index?(e.clearActionTip(t.player_index),e.menu.updateStyle(a.MenuStyle.SELECT_SCORE,t.show)):e.updateActionTip(a.room.ownPlayer.index,a.Score.waitfor_catch)}),s.Game.message.on(c.EventType.double_time,function(t){"landlord"==t.type&&(t.player_index==a.room.ownPlayer.index&&e.menu.updateStyle(a.MenuStyle.CHUPAI),e.landlordDouble(t.player_index,t.times)),e.top_score_view.updateBase(t.bottom),e.top_score_view.updaetDouble(t.times)}),s.Game.message.on(c.EventType.get_bottom_cards,function(t){e.dipai_shower.updatePais(t.cards)}),s.Game.message.on(c.EventType.refresh_cards_count,function(t){e.left_player.updateCardCount(t.poker_num[a.room.leftPlayer.index]),e.right_player.updateCardCount(t.poker_num[a.room.rightPlayer.index])}),s.Game.message.on(c.EventType.play_the_card,function(t){t.is_out?(t.player_index==a.room.leftPlayer.index&&e.left_player.updatePokers(t.pokers,t.cards_type),t.player_index==a.room.rightPlayer.index&&e.right_player.updatePokers(t.pokers,t.cards_type),t.player_index==a.room.ownPlayer.index&&(e.clearMenu(),e.own_player.updatePokers(t.pokers,t.cards_type),s.Game.notify.request.get_cards({room_id:a.room.id,player_index:a.room.ownPlayer.index}))):e.updateActionTip(t.player_index,a.Score.pass)}),s.Game.message.on(c.EventType.player_action,function(t){e.updateTurnTip(t.player_index),e.clearPoolPokers(t.player_index),t.is_first&&(e.clearAllPoolPokers(),e.clearAllActionTip(!0)),t.player_index==a.room.ownPlayer.index?(p.paiTool.checkPush(),e.clearActionTip(a.room.ownPlayer.index),t.is_first?e.menu.updateStyle(a.MenuStyle.CHUPAI):e.menu.updateStyle(a.MenuStyle.BUCHU_TISHI_CHUPAI)):e.clearMenu()}),s.Game.message.on(c.EventType.game_over,function(t){e.clearAllActionTip(),t.player_info&&t.player_info[0]&&e.top_score_view.updaetDouble(t.player_info[0].times),setTimeout(function(){e.result_panel.updateResult(t)},1e3)})},t.prototype.landlordDouble=function(e,t){this.updateActionTip(e,1==t?a.Score.nodouble:a.Score.double),this.clearAllActionTip(!0)},t.prototype.clearActionTip=function(e){e==a.room.leftPlayer.index&&this.left_player.clearTip(),e==a.room.rightPlayer.index&&this.right_player.clearTip(),e==a.room.ownPlayer.index&&this.own_player.clearTip()},t.prototype.clearAllActionTip=function(e){var t=this;void 0===e&&(e=!1),e?setTimeout(function(){t.left_player.clearTip(),t.right_player.clearTip(),t.own_player.clearTip()},500):(this.left_player.clearTip(),this.right_player.clearTip(),this.own_player.clearTip())},t.prototype.clearPoolPokers=function(e){e==a.room.leftPlayer.index&&this.left_player.clearPokers(),e==a.room.rightPlayer.index&&this.right_player.clearPokers(),e==a.room.ownPlayer.index&&this.own_player.clearPokers()},t.prototype.clearAllPoolPokers=function(){this.left_player.clearPokers(),this.right_player.clearPokers(),this.own_player.clearPokers()},t.prototype.allHeadRoundReset=function(){this.updateTurnTip(-1)},t.prototype.roundReset=function(){a.room.roundReset(),this.own_handCon.clear(),this.left_player.clear(),this.right_player.clear(),this.own_player.reset(),this.dipai_shower.hide(),this.menu.clear(),this.result_panel.node.active=!1,this.top_score_view.node.active=!1,s.Game.message.emit(c.EventType.set_landlord,f.PlayerDirType.OWNER)},t.prototype.again=function(){this.roundReset(),s.Game.notify.request.enter_game({uid:a.room.ownPlayer.uid})},t.prototype.returnHall=function(){this.clear(),this.preloading.loadScene(s.GameScene.hall)},t.prototype.clear=function(){this.roundReset(),this.removeAllEvents(),s.Game.resource.removeSharedSceneBG()},i([T(cc.Label)],t.prototype,"lab_room_id",void 0),i([T(f.default)],t.prototype,"own_player",void 0),i([T(f.default)],t.prototype,"left_player",void 0),i([T(f.default)],t.prototype,"right_player",void 0),i([T(l.default)],t.prototype,"menu",void 0),i([T(h.default)],t.prototype,"own_handCon",void 0),i([T(_.default)],t.prototype,"top_score_view",void 0),i([T(d.default)],t.prototype,"dipai_shower",void 0),i([T(u.default)],t.prototype,"clock",void 0),i([T(y.default)],t.prototype,"result_panel",void 0),i([T(m.default)],t.prototype,"preloading",void 0),i([T(v.default)],t.prototype,"tooltip",void 0),i([P],t)}(cc.Component);o.default=k,cc._RF.pop()},{"./Core":"Core","./Game":"Game","./Preloading":"Preloading","./Tooltip":"Tooltip","./View":"View","./data/Room":"Room","./event/EventType":"EventType","./menu/Menu":"Menu","./view/Clock":"Clock","./view/DipaiShower":"DipaiShower","./view/OwnHandContainer":"OwnHandContainer","./view/PlayerShower":"PlayerShower","./view/TopScoreView":"TopScoreView","./view/result_panel/ResultPanel":"ResultPanel"}],SignItem:[function(e,t,o){"use strict";cc._RF.push(t,"554e8DSO7BI5K0lQQubHDI4","SignItem");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=e("../../Game"),s=cc._decorator,l=s.ccclass,p=s.property;(function(e){e[e.already=1]="already",e[e.ready=2]="ready",e[e.will=3]="will"})(a||(a={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.day=null,t.lab_coin=null,t.node_coin=null,t.node_right=null,t}return n(t,e),t.prototype.start=function(){this.reset()},t.prototype.refresh=function(e){this.lab_coin.string=""+e.award;var t;t=1==e.checked?a.already:e.state?a.ready:a.will,this.state=t},Object.defineProperty(t.prototype,"state",{set:function(e){switch(e){case a.already:this.node_right.active=!0,this.node_coin.active=!1,this.bg.spriteFrame=c.Game.resource.getCacheSpriteFrame("sign_roundrect_a");break;case a.ready:this.node_right.active=!1,this.node_coin.active=!0,this.bg.spriteFrame=c.Game.resource.getCacheSpriteFrame("sign_roundrect_c");break;case a.will:this.node_right.active=!1,this.node_coin.active=!0,this.bg.spriteFrame=c.Game.resource.getCacheSpriteFrame("sign_roundrect_b")}},enumerable:!1,configurable:!0}),t.prototype.refreshDay=function(e){this.day.spriteFrame=c.Game.resource.getCacheSpriteFrame("sign_day_"+e)},t.prototype.reset=function(){this.lab_coin.string="0",this.state=a.will},i([p(cc.Sprite)],t.prototype,"bg",void 0),i([p(cc.Sprite)],t.prototype,"day",void 0),i([p(cc.Label)],t.prototype,"lab_coin",void 0),i([p(cc.Node)],t.prototype,"node_coin",void 0),i([p(cc.Node)],t.prototype,"node_right",void 0),i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Game":"Game"}],SignPanel:[function(e,t,o){"use strict";cc._RF.push(t,"afa26Yfza9Meq33t6u+pdxY","SignPanel");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../event/EventType"),c=e("../../Game"),s=e("../../View"),l=e("./SignItem"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items=[],t}return n(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.start=function(){c.Game.message.on(a.EventType.check_page,this.refresh.bind(this))},t.prototype.refresh=function(){if(c.Game.sign_data)for(var e=0;e<c.Game.sign_data.length;e++)this.items[e].refresh(c.Game.sign_data[e])},t.prototype.check_in=function(){for(var e=!1,t=0;t<c.Game.sign_data.length;t++){var o=c.Game.sign_data[t];if(0==o.checked&&1==o.state){e=!0;break}}e?c.Game.notify.request.check_in():s.default.tooltip.show("\u4eca\u5929\u5df2\u7ecf\u7b7e\u5230\u9886\u53d6")},t.prototype.reset=function(){for(var e=0;e<this.items.length;e++)this.items[e].refreshDay(e+1),this.items[e].reset()},t.prototype.close=function(){this.node.active=!1},t.prototype.show=function(){this.node.active=!0},i([d([l.default])],t.prototype,"items",void 0),i([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Game":"Game","../../View":"View","../../event/EventType":"EventType","./SignItem":"SignItem"}],Simulator:[function(e,t,o){"use strict";cc._RF.push(t,"47787NS7LNMIqNzrpyjO8j5","Simulator");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),i([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],SocketCenter:[function(e,t,o){"use strict";cc._RF.push(t,"43347xIGMpOlZKsJJAIKqsD","SocketCenter");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../event/EventType"),i=e("../Game"),a=cc._decorator,c=a.ccclass,s=(a.property,function(){function e(){}return e.prototype.connect=function(){var e=this;this.isopen||(console.log("connect server :",i.Game.server),this.ws=new WebSocket(i.Game.server),this.ws.onopen=function(){console.log("socket onopen",e.ws.url),i.Game.message.emit(n.EventType.socket_connect_success)},this.ws.onmessage=function(e){var t;try{t=JSON.parse(e.data),console.log("[on message:"+t.cat+"]\n",t.data)}catch(o){t=e.data,console.log("[on message:"+t+"]\n")}"object"==typeof t&&i.Game.notify.response(t)},this.ws.onclose=function(e){console.log("socket onclose",e),i.Game.message.emit(n.EventType.socket_connect_close)},this.ws.onerror=function(e){console.log("socket onerror",e)})},e.prototype.emit=function(e,t){void 0===t&&(t=null),this.isopen?(this.ws.send(JSON.stringify({cat:e,data:t})),console.log("[emit message:"+e+"]\n",t)):console.log("\u670d\u52a1\u5668\u672a\u5efa\u7acb\u8fde\u63a5")},Object.defineProperty(e.prototype,"isopen",{get:function(){return this.ws&&this.ws.readyState==WebSocket.OPEN},enumerable:!1,configurable:!0}),r([c],e)}());o.default=s,cc._RF.pop()},{"../Game":"Game","../event/EventType":"EventType"}],Tooltip:[function(e,t,o){"use strict";cc._RF.push(t,"125f8Vym3FDf7/6XSXiixXF","Tooltip");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_tip=null,t}return n(t,e),t.prototype.show=function(e){clearTimeout(this.interval),this.node.active=!0,this.lab_tip.string=e,this.interval=setTimeout(this.close.bind(this),1500)},t.prototype.close=function(){clearTimeout(this.interval),this.node.active=!1,this.lab_tip.string=""},i([s(cc.Label)],t.prototype,"lab_tip",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],TopPlayerView:[function(e,t,o){"use strict";cc._RF.push(t,"ddeb1VThbRJxrdtvq2O/Hd5","TopPlayerView");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_name=null,t.lab_coin=null,t}return n(t,e),t.prototype.onLoad=function(){this.lab_name.string=""},t.prototype.udpate_left_name=function(){},t.prototype.udpate_right_name=function(){},i([s(cc.Label)],t.prototype,"lab_name",void 0),i([s(cc.Label)],t.prototype,"lab_coin",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],TopScoreView:[function(e,t,o){"use strict";cc._RF.push(t,"4014a7G/I5KtpHrbR7tVw18","TopScoreView");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_base=null,t.lab_double=null,t}return n(t,e),t.prototype.updateBase=function(e){this.lab_base.string=""+e},t.prototype.updaetDouble=function(e){this.lab_double.string=""+e},i([s(cc.Label)],t.prototype,"lab_base",void 0),i([s(cc.Label)],t.prototype,"lab_double",void 0),i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],View:[function(e,t,o){"use strict";cc._RF.push(t,"46a75SPMgxCYp6SfQ7oO56F","View"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}]},{},["Canvas_Fit","Core","Game","Interface","Pool","Preloading","Scene_Hall","Scene_Preload","Scene_Zone","Simulator","Tooltip","View","Message","NotifyCenter","ResourceCenter","SocketCenter","Player","PokerData","Room","ColorAssembler2D","EventType","Menu","ActionTip","Clock","DipaiShower","DrawRoundRectBG","Head","OwnHandContainer","PlayerShower","Poker","PokerPlus","PokerShower","SceneBG","TopPlayerView","TopScoreView","RechargeItem","RechargePanel","RechargeTipUI","ResultItem","ResultPanel","SignItem","SignPanel"]);